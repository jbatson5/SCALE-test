

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Monaco: A Fixed-Source Monte Carlo Transport Code for Shielding Applications &mdash; SCALE Manual 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="MAVRIC: Monaco with Automated Variance Reduction using Importance Calculations" href="MAVRIC.html" />
    <link rel="prev" title="Keno Appendix C: Sample problems" href="KenoC.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> SCALE Manual
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Reactor Physics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="TRITON.html">TRITON: A Multipurpose Transport, Depletion, And Sensitivity and Uncertainty Analysis Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="TRITONAppABC.html">TRITON Appendices</a></li>
<li class="toctree-l1"><a class="reference internal" href="Polaris.html">POLARIS - 2D Light Water Reactor Lattice Physics Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="PolarisA.html">SCALE 6.2 Polaris Input Format</a></li>
</ul>
<p class="caption"><span class="caption-text">Depletion, Activation, and Spent Fuel Source Terms</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Depletion%2C%20Activation%2C%20and%20Spent%20Fuel%20Source%20Terms%20Overview.html">Depletion, Activation, and Spent Fuel Source Terms Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="ORIGEN.html">Origen: Neutron Activation, Actinide Transmutation, Fission Product Generation, and Radiation Source Term Calculation</a></li>
<li class="toctree-l1"><a class="reference internal" href="ORIGEN-Data.html">Origen Data Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="ORIGEN-Data.html#energy-resource">Energy Resource</a></li>
<li class="toctree-l1"><a class="reference internal" href="ORIGEN-Data.html#decay-resource-format">Decay Resource Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="ORIGEN-Data.html#fission-yield-resource-format">Fission Yield Resource Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="ORIGEN-Data.html#gamma-resource-format">Gamma Resource Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="ORIGEN-Data.html#origen-end7dec-nuclide-set">ORIGEN “end7dec” Nuclide Set</a></li>
<li class="toctree-l1"><a class="reference internal" href="ORIGAMI.html">ORIGAMI: A Code for Computing Assembly Isotopics with ORIGEN</a></li>
<li class="toctree-l1"><a class="reference internal" href="SLIG.html">SCALE/Origen Library Generator (SLIG)</a></li>
<li class="toctree-l1"><a class="reference internal" href="Origenutil.html">ORIGEN Utility Programs</a></li>
</ul>
<p class="caption"><span class="caption-text">Sensitivity and Uncertainty Analysis</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Sensitivity%20and%20Uncertainty%20Analysis%20Overview.html">Snesitivity and Uncertainty Analysis Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="tsunami-1d.html">TSUNAMI-1D:  Control Module for One-Dimensional Cross-Section Sensitivity and Uncertainty</a></li>
<li class="toctree-l1"><a class="reference internal" href="tsunami-1d-appA.html">XSDRNPM Data File Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="tsunami-3d.html">TSUNAMI-3D: Control Module for Three-Dimensional Cross Section Sensitivity and Uncertainty Analysis for Criticality</a></li>
<li class="toctree-l1"><a class="reference internal" href="sams.html">SAMS: Sensitivity Analysis Module for Scale</a></li>
<li class="toctree-l1"><a class="reference internal" href="sams-appA.html">Sensitivity Data File Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="tsar.html">TSAR: Tool for Sensitivity Analysis of Reactivity Responses</a></li>
<li class="toctree-l1"><a class="reference internal" href="tsunami-ip.html">TSUNAMI Utility Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="tsunami-ip-appAB.html">Data File Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="tsurfer.html">TSURFER: An Adjustment Code to Determine Biases and Uncertainties in Nuclear System Responses by Consolidating Differential Data and Benchmark Integral Experiments</a></li>
<li class="toctree-l1"><a class="reference internal" href="tsurfer-appA.html">TSURFER Appendix A: Sensitivity/Uncertainty Notation</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampler.html">Sampler: A Module for Statistical Uncertainty Analysis with Scale Sequences</a></li>
</ul>
<p class="caption"><span class="caption-text">Criticality Safety</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Criticality%20Safety%20Overview.html">Criticality Safety Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="CSAS5.html">CSAS5:  Control Module For Enhanced Criticality Safety Analysis Sequences With KENO V.a</a></li>
<li class="toctree-l1"><a class="reference internal" href="CSAS5App.html">Additional Example Applications of CSAS5</a></li>
<li class="toctree-l1"><a class="reference internal" href="CSAS6.html">CSAS6:  Control Module for Enhanced Criticality Safety Analysis with KENO-VI</a></li>
<li class="toctree-l1"><a class="reference internal" href="CSAS6App.html">Additional Example Applications of CSAS6</a></li>
<li class="toctree-l1"><a class="reference internal" href="STARBUCS.html">STARBUCS: A Scale Control Module for Automated Criticality Safety Analyses Using Burnup Credit</a></li>
<li class="toctree-l1"><a class="reference internal" href="Sourcerer.html">Sourcerer: Deterministic Starting Source for Criticality Calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="DEVC.html">DEVC: Denovo EigenValue Calculation</a></li>
<li class="toctree-l1"><a class="reference internal" href="KMART.html">KMART5 and KMART6: Postprocessors for KENO V.A and KENO-VI</a></li>
<li class="toctree-l1"><a class="reference internal" href="K5C5.html">K5toK6 and C5toC6: Input File Conversion Programs for KENO and CSAS</a></li>
</ul>
<p class="caption"><span class="caption-text">Material Specification and Cross Section Processing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Material%20Specification%20and%20Cross%20Section%20Processing%20Overview.html">Material Specification and Cross Section Processing Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="XSProc.html">XSPROC: The Material and Cross Section Processing Module for SCALE</a></li>
<li class="toctree-l1"><a class="reference internal" href="XSProcAppA.html">XSProc: Standard Composition Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="XSProcAppB.html">XSProc Standard Composition Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="XSProcAppC.html">Examples of Complete XSProc Input Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="stdcmp.html">Standard Composition Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="BONAMI.html">BONAMI: Resonance Self-Shielding by the Bondarenko Method</a></li>
<li class="toctree-l1"><a class="reference internal" href="CENTRM.html">CENTRM: A Neutron Transport Code for Computing Continuous-Energy Spectra in General One-Dimensional Geometries and Two-Dimensional Lattice Cells</a></li>
<li class="toctree-l1"><a class="reference internal" href="PMC.html">PMC: A Program to Produce Multigroup Cross Sections Using Pointwise Energy Spectra from CENTRM</a></li>
<li class="toctree-l1"><a class="reference internal" href="PMCAppAB.html">PMC Appendices A and B</a></li>
<li class="toctree-l1"><a class="reference internal" href="CHOPS.html">CHOPS: Module to Compute Pointwise Disadvantage Factors and Produce a Cell-Homogenized CENTRM Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="CRAWDAD.html">CRAWDAD: Module to Produce CENTRM-Formatted Continuous-Energy Nuclear Data Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="MCDancoff.html">MCDancoff Data Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="CAJUN.html">CAJUN: Module for Combining and Manipulating CENTRM Continuous-Energy Libraries</a></li>
</ul>
<p class="caption"><span class="caption-text">Monte Carlo Transport</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Monte%20Carlo%20Transport%20Overview.html">Monte Carlo Transport Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="KenoA.html">Keno Appendix A: KENO V.a Shape Descriptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="KenoB.html">Keno Appendix B: KENO VI Shape Descriptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="KenoC.html">Keno Appendix C: Sample problems</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Monaco: A Fixed-Source Monte Carlo Transport Code for Shielding Applications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#monaco-capabilities">Monaco Capabilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#source-descriptions">Source Descriptions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#distributions">Distributions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#spatial-energy-and-directional-attributes">Spatial energy and directional attributes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#monaco-mesh-source-map-files">Monaco mesh source map files</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#tallies">Tallies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#tally-statistics">Tally statistics</a></li>
<li class="toctree-l4"><a class="reference internal" href="#statistical-tests">Statistical tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="#point-detector-tallies">Point detector tallies</a></li>
<li class="toctree-l4"><a class="reference internal" href="#region-tallies">Region tallies</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mesh-tallies">Mesh tallies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#continuous-energy-transport">Continuous Energy Transport</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#monaco-input-files">Monaco Input Files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cross-sections-block">Cross sections block</a></li>
<li class="toctree-l3"><a class="reference internal" href="#geometry-block">Geometry block</a></li>
<li class="toctree-l3"><a class="reference internal" href="#array-volume-and-plot-blocks">Array, volume, and plot blocks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#definitions-block">Definitions block</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#locations">Locations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#response-functions">Response functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#grid-geometries">Grid geometries</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cylindrical-mesh-geometries">Cylindrical mesh geometries</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">Distributions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#energy-boundaries">Energy boundaries</a></li>
<li class="toctree-l4"><a class="reference internal" href="#time-boundaries">Time boundaries</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sources-block">Sources block</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#spatial-distribution">Spatial distribution</a></li>
<li class="toctree-l4"><a class="reference internal" href="#energy-distribution">Energy distribution</a></li>
<li class="toctree-l4"><a class="reference internal" href="#directional-distribution">Directional distribution</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-a-monaco-mesh-source-map-file">Using a Monaco mesh source map file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#creating-a-mesh-source">Creating a mesh source</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mesh-source-advanced-features">Mesh source advanced features</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#tallies-block">Tallies block</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id6">Point detector tallies</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7">Region tallies</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">Mesh tallies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#parameter-block">Parameter Block</a></li>
<li class="toctree-l3"><a class="reference internal" href="#biasing-block">Biasing Block</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#forced-collisions">Forced collisions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#weight-windows">Weight windows</a></li>
<li class="toctree-l4"><a class="reference internal" href="#path-length-stretching">Path-length stretching</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mesh-based-importance-map">Mesh-based importance map</a></li>
<li class="toctree-l4"><a class="reference internal" href="#monaco-input-summary">Monaco input summary</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#monaco-output">Monaco Output</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#main-text-output-file">Main text output file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tally-files">Tally files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#diagnostic-files">Diagnostic files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mesh-source-saver-files">Mesh source saver files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#statistical-checks-on-point-detector-and-region-tallies">Statistical checks on point detector and region tallies</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#example-problems">Example Problems</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#neutron-transmission-through-an-iron-sphere">Neutron transmission through an iron sphere</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#input">Input</a></li>
<li class="toctree-l4"><a class="reference internal" href="#output">Output</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#neutrons-through-a-heavy-water-sphere">Neutrons through a heavy water sphere</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id11">Input</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id12">Output</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#activation-rate-from-a-neutron-howitzer">Activation rate from a neutron howitzer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#input-file">Input file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id14">Output</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#graphite-shielding-measurements">Graphite shielding measurements</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id16">Input file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id17">Output</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#simple-shielding-demonstration-with-line-spectra">Simple shielding demonstration with line spectra</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id18">Input file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id19">Output</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Radiation Shielding</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="MAVRIC.html">MAVRIC: Monaco with Automated Variance Reduction using Importance Calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="CAAScapability.html">MAVRIC Appendix A: CAAS Capability</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendixb.html">MAVRIC Appendix B: MAVRIC Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendixc.html">MAVRIC Appendix C: Advanced Features</a></li>
</ul>
<p class="caption"><span class="caption-text">Deterministic Transport</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Deterministic%20Transport%20Intro.html">Deterministic Transport Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="XSD.html">XSDRNPM: A One-Dimensional Discrete-Ordinates Code for Transport Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="XSDAppAB.html">XSDRNPM Appendices A and B</a></li>
<li class="toctree-l1"><a class="reference internal" href="NEWT.html">NEWT:  A New Transport Algorithm for Two-Dimensional Discrete-Ordinates Analysis in Non-Orthogonal Geometries</a></li>
</ul>
<p class="caption"><span class="caption-text">Nuclear Data Libraries</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Nuclear%20Data%20Libraries%20Overview.html">SCALE Nuclear Data Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="XSLib.html">SCALE Cross Section Libraries</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SCALE Manual</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Monaco: A Fixed-Source Monte Carlo Transport Code for Shielding Applications</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/Monaco.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="monaco-a-fixed-source-monte-carlo-transport-code-for-shielding-applications">
<span id="monaco"></span><h1>Monaco: A Fixed-Source Monte Carlo Transport Code for Shielding Applications<a class="headerlink" href="#monaco-a-fixed-source-monte-carlo-transport-code-for-shielding-applications" title="Permalink to this headline">¶</a></h1>
<p><em>D. E. Peplow and C. Celik</em></p>
<p>Monaco is a general-purpose, fixed-source, Monte Carlo shielding code
for the SCALE package. It is a functional module that uses either AMPX
cross sections or continuous energy libraries to calculate neutron and
photon fluxes and responses to specific geometry regions, to point
detectors and to mesh tallies. Basic multigroup transport methods are
inherited from Monaco’s predecessor, MORSE. Continuous energy physics
has been incorporated into the code with a new physics package that uses
the same CE data as CE-KENO-VI, with extensions for simulating photons.
Variance reduction capabilities include source biasing and weight
windows, either by geometry region or by using a mesh-based importance
map. User input includes the cross section file unit number; the
geometry description using the SCALE General Geometry Package; source
description as a function of position, energy, and direction; tally
descriptions (fluxes in which regions, at what point detectors, or over
what mesh grids); and response functions (functions of energy). Output
consists of tables detailing the region and point detector fluxes (and
their responses), as well as files for mesh tallies.</p>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Monaco is a neutron/photon, fixed-source Monte Carlo shielding code for
the SCALE code package. Monaco uses the SCALE General Geometry Package
(SGGP)—the same geometry description as KENO-VI. Monaco has many
options available to the user for specifying source distributions, many
tally options, and many variance reduction capabilities. Monaco was
originally based on the MORSE Monte Carlo code but has been extensively
modified to modernize the coding, increase the number of capabilities in
terms of sources and tallies, and allow for either multigroup or
continuous energy (CE) transport through the use of the new SCALE CE
Modular Physics Package (SCEMPP).</p>
<p>Monaco was developed to address a number of long-term goals for the
Monte Carlo shielding capabilities in SCALE. The principal goals for
this project included (1) unification of geometric descriptions between
the SCALE shielding and criticality Monte Carlo codes,
(2) implementation of a mesh-based importance map and mesh-based biased
source distribution so that automated variance reduction could be used,
and (3) establishment of a code using modern programming practices from
which to continue future development. The addition of a
continuous-energy transport capability is a significant change as well.</p>
<p>Monaco is the key component of the MAVRIC sequence, which also uses
Denovo to create the mesh-based importance map and mesh-based biased
source distribution for general 3-D automated variance reduction. See
the MAVRIC chapter for more information.</p>
</div>
<div class="section" id="monaco-capabilities">
<h2>Monaco Capabilities<a class="headerlink" href="#monaco-capabilities" title="Permalink to this headline">¶</a></h2>
<p>Monaco has a wide range of source descriptions and tallies for
performing general radiation transport calculations. Note that Monaco
can work with either the AMPX-based multigroup libraries or the newer
AMPX-based CE libraries. Note that for CE calculations, tallies still
employ a multigroup energy structure to store and report results.</p>
<div class="section" id="source-descriptions">
<h3>Source Descriptions<a class="headerlink" href="#source-descriptions" title="Permalink to this headline">¶</a></h3>
<p>Multiple sources can be defined for a Monaco calculation. Sampling of
the different sources can be biased by the user. Each source is
specified by its spatial distribution, its energy distribution, its
directional distribution, and its strength. Distributions defined by the
user can also be biased and can be used multiple times by different
sources. The Monaco tallies assume that the sources all have units of
particles/second. If the source strengths are given in other units, the
user will have to incorporate the proper conversion to the tally results
and remember to interpret the results accordingly.</p>
<div class="section" id="distributions">
<h4>Distributions<a class="headerlink" href="#distributions" title="Permalink to this headline">¶</a></h4>
<p>Two types of basic distributions are used by Monaco – binned histograms
and a set of value/function pairs. The binned histogram type is defined
by <span class="math notranslate nohighlight">\(n + 1\)</span> bin boundaries and <em>n</em> values, representing the
integrated amount in each bin. For the true distribution<span class="math notranslate nohighlight">\(f(x)\)</span>,
the bin boundaries
<span class="math notranslate nohighlight">\(\left\lbrack x_{0},\ x_{1},\ \ldots,\ x_{n} \right\rbrack\)</span> and
the integrated amounts
<span class="math notranslate nohighlight">\(F_{i} = \ \int_{x_{i - 1}}^{x_{i}}{f\left( x \right)\text{dx}}\)</span>
are given. The distribution will be normalized by Monaco after reading.
The user can optionally bias a binned histogram distribution by
supplying one of the following: the biased sampling distribution
amounts,
<span class="math notranslate nohighlight">\(G_{i} = \ \int_{x_{i - 1}}^{x_{i}}{g\left( x \right)\text{dx}}\)</span>;
the importance of each bin, <span class="math notranslate nohighlight">\(I_{i}\)</span>; or the suggested weight for
each bin, <span class="math notranslate nohighlight">\(w_{i}\)</span>.</p>
<p>Based on what type of input is given, Monaco will compute a properly
normalized probability distribution function for sampling. If the
importances are given, the sampling distribution is computed as</p>
<div class="math notranslate nohighlight" id="equation-monaco-1">
<span class="eqno">(376)<a class="headerlink" href="#equation-monaco-1" title="Permalink to this equation">¶</a></span>\[G_{i} = \frac{I_{i}F_{i}}{\sum_{i}^{}{I_{i}F_{i}}}\]</div>
<p>If suggested weights are given, then the sampling distribution is
computed as</p>
<div class="math notranslate nohighlight" id="equation-monaco-2">
<span class="eqno">(377)<a class="headerlink" href="#equation-monaco-2" title="Permalink to this equation">¶</a></span>\[G_{i} = \frac{\frac{F_{i}}{w_{i}}}{\sum_{i}^{}\frac{F_{i}}{w_{i}}}\]</div>
<p>for bins with non-zero weight. The sampling distribution for bins with a
suggested weight of zero are set to <span class="math notranslate nohighlight">\(G_{i} = \ 0\)</span>. When sampled,
particles are assigned a weight of <span class="math notranslate nohighlight">\(\frac{F_{i}}{G_{i}}\)</span>.</p>
<p>The second type of distribution that a user can define is for a series
of point values of a function. For a set of <span class="math notranslate nohighlight">\(n + 1\)</span> point pairs,
<span class="math notranslate nohighlight">\(\left( x_{i},\ f_{i} \right)\)</span> for
<span class="math notranslate nohighlight">\(i \in \left\lbrack 0\ldots n \right\rbrack\)</span>, defining <span class="math notranslate nohighlight">\(n\)</span>
intervals, a distribution can be made by linearly interpolating between
adjacent point pairs. This type of distribution can also be biased by
supplying one of the following: the biased sampling distribution
function value <span class="math notranslate nohighlight">\(g_{i}\)</span> at each point, the importance of each
point, <span class="math notranslate nohighlight">\(I_{i}\)</span>; or the suggested weight for each point,
<span class="math notranslate nohighlight">\(w_{i}\)</span>. Similar to above, if importances or weights are given,
Monaco computes the biased distribution for sampling. For the
value/function point pairs type of distribution, the weight assigned to
the sampled particle is a continuous function.</p>
<p>Some commonly used distributions are built into Monaco and can be used
by simple keywords. Monaco can produce a graph of any distribution so
that the user can verify that the input was entered correctly.</p>
</div>
<div class="section" id="spatial-energy-and-directional-attributes">
<h4>Spatial energy and directional attributes<a class="headerlink" href="#spatial-energy-and-directional-attributes" title="Permalink to this headline">¶</a></h4>
<p>Each Monaco source is described by three separable components: spatial,
energy and directional.</p>
<p>The spatial component of a source in Monaco is simple but very flexible.
First, the general shape of the source region is defined in global
coordinates. The basic solid shapes and their allowed degenerate cases
are listed in <a class="reference internal" href="#monaco-tab1"><span class="std std-numref">Table 254</span></a>. The user can reference any of the defined
distributions to describe the source distribution in any coordinate
(<em>x</em>, <em>y</em>, and <em>z</em> for cuboids, <em>r</em> and <em>z</em> for cylinders and <em>r</em> for
spheres) to use for sampling or leave the source distribution as uniform
over each dimension for the solid shape. The source region can be
limited by the underlying SGGP geometry variables of unit, media, and
mixture. This way, source volumes (or planes, lines, or points) can be
defined that are independent or dependent on the model geometry. A
cylinder or cylindrical shell region can be oriented with its axis in
any direction.</p>
<span id="monaco-tab1"></span><table class="docutils align-default" id="id20">
<caption><span class="caption-number">Table 254 </span><span class="caption-text">Available source shapes and their allowed degenerate cases</span><a class="headerlink" href="#id20" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Shape</strong></p></th>
<th class="head"><p><strong>Allowable degenerate cases</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>cuboid</p></td>
<td><p>rectangular plane, line, point</p></td>
</tr>
<tr class="row-odd"><td><p>cylinder</p></td>
<td><p>circular plane, line, point</p></td>
</tr>
<tr class="row-even"><td><p>cylindrical shell</p></td>
<td><p>cylinder, planar annulus,
circular plane, cylindrical
surface, line, ring, point</p></td>
</tr>
<tr class="row-odd"><td><p>sphere</p></td>
<td><p>point</p></td>
</tr>
<tr class="row-even"><td><p>spherical shell</p></td>
<td><p>sphere, spherical surface, point</p></td>
</tr>
</tbody>
</table>
<p>Monaco samples the source position using either the given distributions
or uniformly over the basic solid shape and then uses rejection if any
of the optional SGGP geometry limiters have been specified. For sources
that are confined to a particular unit, media, or mixture, users should
make sure the basic solid shape tightly bounds the desired region for
efficient sampling.</p>
<p>For the energy component of each source, either type of distribution
described above can be used. Biasing can be used in the energy component
of the source as well. The Watt spectrum is a built-in distribution
which uses the Froehner and Spencer <a class="bibtex reference internal" href="#froehner-method-1981" id="id1">[FS81]</a> method for sampling. If the
defined energy distribution has point(s) that are out of the problem’s
energy range for a CE problem, these points will be rejected in the
source energy sampling and an error message will be generated. The
warnings will be suppressed if the number of rejected source points
exceeds a pre-defined threshold (1000).</p>
<p>Distributions can be used to define the directional component of the
source. A function of the cosine of the polar angle, with respect to
some reference direction in global coordinates, can be used by Monaco.
If no directional distribution is specified, the default is an isotropic
distribution (one directional bin from <em>µ</em>= −1 to <em>µ</em>=1). The
default reference direction is the positive <em>z</em>-axis (&lt;0,0,1&gt;).</p>
</div>
<div class="section" id="monaco-mesh-source-map-files">
<h4>Monaco mesh source map files<a class="headerlink" href="#monaco-mesh-source-map-files" title="Permalink to this headline">¶</a></h4>
<p>An alternative to specifying the separate spatial and energy
distributions, a Monaco mesh source file can be used. A mesh source
consists of a 3D Cartesian mesh that overlay the geometry. Each mesh
cell has some probability of emitting a source particle, and within each
mesh cell, a different energy distribution can be sampled. Position
within each mesh cell is sampled uniformly, and the emission direction
is sampled from the standard directional distribution. Monaco mesh
source files are typically produced by the MAVRIC sequence or by other
Monaco calculations (see the mesh source saver option in the source
input). For a source constructed from the separable spatial and energy
distributions, Monaco can create a mesh source file which can then be
visualized using the Mesh File Viewer. This is a convenient way to
ensure that the source being used is what was intended.</p>
</div>
</div>
<div class="section" id="tallies">
<h3>Tallies<a class="headerlink" href="#tallies" title="Permalink to this headline">¶</a></h3>
<p>Monaco offers three tally types: point detectors, region tallies, and
mesh tallies. Each is useful in determining quantities of interest in
the simulation. Any number of each can be used, up to the limit of
machine memory. The tallies will compute flux for each group, the total
neutron and total photon fluxes, and any number of dose-like responses.
A typical dose-like response, <em>R</em>, is the integral over energy of the
product of a response function, <span class="math notranslate nohighlight">\(f\left( E \right)\)</span>, and the flux,
<span class="math notranslate nohighlight">\(\phi\left( E \right)\)</span>.</p>
<blockquote>
<div><div class="math notranslate nohighlight" id="equation-monaco-3">
<span class="eqno">(378)<a class="headerlink" href="#equation-monaco-3" title="Permalink to this equation">¶</a></span>\[R = \int_{}^{}{f\left(E \right)\phi \left( E \right)\ } dE\]</div>
</div></blockquote>
<p>In multigroup calculations, the total response would be expressed as the
sum over all groups <span class="math notranslate nohighlight">\(R = \sum_{}^{}{f_{g}\phi_{g}}\)</span>. For CE
calculations, tallies can be segmented into energy and time bins which
can be thought of as “groups”. All three of the tally types can be
scaled with a constant – for example, to account for units conversions.</p>
<div class="section" id="tally-statistics">
<h4>Tally statistics<a class="headerlink" href="#tally-statistics" title="Permalink to this headline">¶</a></h4>
<p>The three Monaco tallies are really just collections of simple and
extended tallies for each group, each total, and each group contribution
to a response or total response. The simple tally works in the following
way: a history score <span class="math notranslate nohighlight">\(h_{i}\)</span> is zeroed out at the start of history
<span class="math notranslate nohighlight">\(i\)</span>. During the course of the history, when an event occurs during
substep <span class="math notranslate nohighlight">\(j\)</span>, a score consisting of some contribution
<span class="math notranslate nohighlight">\(c_{\text{ij}}\)</span> weighted by the current particle weight
<span class="math notranslate nohighlight">\(w_{\text{ij}}\)</span> is calculated and added to <span class="math notranslate nohighlight">\(h_{i}\)</span>. At the
end of the history, the history score is the total weighted score for
each substep <span class="math notranslate nohighlight">\(j\)</span> in the history.</p>
<blockquote>
<div><div class="math notranslate nohighlight" id="equation-monaco-4">
<span class="eqno">(379)<a class="headerlink" href="#equation-monaco-4" title="Permalink to this equation">¶</a></span>\[h_{i} = \sum_{j}^{}w_{\text{ij}}c_{\text{ij}}\]</div>
</div></blockquote>
<p>Note that the values for the contribution <span class="math notranslate nohighlight">\(c_{\text{ij}}\)</span> and when
it is added to the accumulator are determined by the tally type. At the
end of the each history, the history score is added to two accumulators
(power sums) - the first accumulator is for finding the tally average,
<span class="math notranslate nohighlight">\(S_{1}\)</span>, and the second accumulator is for finding the uncertainty
in the tally average, <span class="math notranslate nohighlight">\(S_{2}\)</span>.</p>
<blockquote>
<div><div class="math notranslate nohighlight" id="equation-monaco-5">
<span class="eqno">(380)<a class="headerlink" href="#equation-monaco-5" title="Permalink to this equation">¶</a></span>\[S_{1} = \ \sum_{i}^{}h_{i}^{\ }\]</div>
<div class="math notranslate nohighlight" id="equation-monaco-6">
<span class="eqno">(381)<a class="headerlink" href="#equation-monaco-6" title="Permalink to this equation">¶</a></span>\[S_{2} = \ \sum_{i}^{}h_{i}^{2}\]</div>
</div></blockquote>
<p>At the end of all <span class="math notranslate nohighlight">\(N\)</span> histories, the second sample central moment
is found from the power sums</p>
<blockquote>
<div><div class="math notranslate nohighlight" id="equation-monaco-7">
<span class="eqno">(382)<a class="headerlink" href="#equation-monaco-7" title="Permalink to this equation">¶</a></span>\[ m_{2} = \frac{S_{2}}{N} - \ \frac{S_{1}^{2}}{N^{2}}\]</div>
</div></blockquote>
<p>and then the tally average is computed as
<span class="math notranslate nohighlight">\(\overline{x} = \frac{S_{1}}{N}\)</span> and the uncertainty in the tally
average is <span class="math notranslate nohighlight">\(u = \sqrt{\frac{m_{2}}{N}}\)</span>.</p>
<p>The extended tally uses four accumulators – the first and second are the
same as the simple tally – with the third and fourth accumulators used
for finding the variance of the variance (VOV). These extra
accumulators, <span class="math notranslate nohighlight">\(S_{3}\)</span> and <span class="math notranslate nohighlight">\(S_{4}\)</span>, are calculated as</p>
<blockquote>
<div><div class="math notranslate nohighlight" id="equation-monaco-8">
<span class="eqno">(383)<a class="headerlink" href="#equation-monaco-8" title="Permalink to this equation">¶</a></span>\[ S_{3} = \ \sum_{i}^{}h_{i}^{3}\]</div>
<div class="math notranslate nohighlight" id="equation-monaco-9">
<span class="eqno">(384)<a class="headerlink" href="#equation-monaco-9" title="Permalink to this equation">¶</a></span>\[ S_{4} = \ \sum_{i}^{}h_{i}^{4}\]</div>
</div></blockquote>
<p>At the end of all <span class="math notranslate nohighlight">\(N\)</span> histories, the tally average
<span class="math notranslate nohighlight">\(\overline{x}\ \)</span>and uncertainty in the tally average <span class="math notranslate nohighlight">\(u\)</span>
are found in the same way as a simple tally. For the VOV calculation,
the third and fourth sample central moments are found as</p>
<p>At the end of all <span class="math notranslate nohighlight">\(N\)</span> histories, the tally average
<span class="math notranslate nohighlight">\(\overline{x}\ \)</span>and uncertainty in the tally average <span class="math notranslate nohighlight">\(u\)</span>
are found in the same way as a simple tally. For the VOV calculation,
the third and fourth sample central moments are found as</p>
<blockquote>
<div><div class="math notranslate nohighlight" id="equation-monaco-10">
<span class="eqno">(385)<a class="headerlink" href="#equation-monaco-10" title="Permalink to this equation">¶</a></span>\[m_{3} = \frac{S_{3}}{N} - \frac{3S_{1}S_{2}}{N^{2}} + \frac{2S_{1}^{3}}{N^{3}}\]</div>
</div></blockquote>
<div class="math notranslate nohighlight" id="equation-monaco-11">
<span class="eqno">(386)<a class="headerlink" href="#equation-monaco-11" title="Permalink to this equation">¶</a></span>\[m_{4} = \frac{S_{4}}{N} - \frac{4S_{1}S_{3}}{N^{2}} + \ \frac{6S_{1}^{2}S_{2}}{N^{3}} - \ \frac{3S_{1}^{4}}{N^{4}}\]</div>
<p>and then the VOV <a class="bibtex reference internal" href="#pederson-confidence-1997" id="id2">[PFB97]</a> and figure-of-merit (FOM) are found using</p>
<blockquote>
<div><div class="math notranslate nohighlight" id="equation-monaco-12">
<span class="eqno">(387)<a class="headerlink" href="#equation-monaco-12" title="Permalink to this equation">¶</a></span>\[\mathrm{\text{VOV}} = \frac{m_{4} - \ m_{2}^{2}}{Nm_{2}^{2}}\]</div>
<div class="math notranslate nohighlight" id="equation-monaco-13">
<span class="eqno">(388)<a class="headerlink" href="#equation-monaco-13" title="Permalink to this equation">¶</a></span>\[\mathrm{\text{FOM}} = \ \frac{1}{\left( \frac{u}{\overline{x}} \right)^{2} \ T}\]</div>
</div></blockquote>
<p>where <em>T</em> is the calculation time (in minutes).</p>
<p>Extended tallies are used for the total neutron flux, total photon flux
and any responses for the Monaco tallies. Simple tallies are used for
each group’s flux and each group’s contribution to a response.</p>
<p>Detailed, group-wise results for each tally are saved to separate files
at the end of each batch of particles. Users can view these files (in
the SCALE temporary directory) as the Monaco simulation progresses.
Summaries of the extended tallies appear in the final Monaco output
file.</p>
</div>
<div class="section" id="statistical-tests">
<h4>Statistical tests<a class="headerlink" href="#statistical-tests" title="Permalink to this headline">¶</a></h4>
<p>Statistical tests are performed on the extended tallies at the end of
each batch. Results for each batch are stored in files and the results
for the final batch are shown in the main output tally summary. The six
tests are:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 19%" />
<col style="width: 19%" />
<col style="width: 19%" />
<col style="width: 26%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p><strong>Quantity</strong></p></th>
<th class="head"><p><strong>Test</strong></p></th>
<th class="head"><p><strong>Goal</strong></p></th>
<th class="head"><p><strong>Within</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li></li>
</ol>
</td>
<td><p>mean</p></td>
<td><p>relative
slope of
linear fit</p></td>
<td><p>= 0.00</p></td>
<td><p>±0.10</p></td>
</tr>
<tr class="row-odd"><td><ol class="arabic simple" start="2">
<li></li>
</ol>
</td>
<td><p>standard
deviation</p></td>
<td><p>exponent of
power fit</p></td>
<td><p>= -0.50</p></td>
<td><div class="math notranslate nohighlight">
\[R^{2} &gt; 0.99\]</div>
</td>
</tr>
<tr class="row-even"><td><ol class="arabic simple" start="3">
<li></li>
</ol>
</td>
<td><p>relative
uncertainty</p></td>
<td><p>final value</p></td>
<td><p>&lt; 0.05</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><ol class="arabic simple" start="4">
<li></li>
</ol>
</td>
<td><p>relative
VOV</p></td>
<td><p>exponent of
power fit</p></td>
<td><p>= -1.00</p></td>
<td><div class="math notranslate nohighlight">
\[R^{2} &gt; 0.95\]</div>
</td>
</tr>
<tr class="row-even"><td><ol class="arabic simple" start="5">
<li></li>
</ol>
</td>
<td><p>relative
VOV</p></td>
<td><p>final value</p></td>
<td><p>&lt; 0.10</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><ol class="arabic simple" start="6">
<li></li>
</ol>
</td>
<td><p>figure-of-m
erit</p></td>
<td><p>relative
slope of
linear fit</p></td>
<td><p>= 0.00</p></td>
<td><p>±0.10</p></td>
</tr>
</tbody>
</table>
<p>For the tests that are fit to a function with respect to batch (1, 2, 4,
and 6), only the last half of the simulation is used. The basis for
these tests is that in a well-behaved Monte Carlo, the mean should not
increase or decrease as a function of the number of histories
(<span class="math notranslate nohighlight">\(N\)</span>), the standard deviation should decrease with
<span class="math notranslate nohighlight">\(\frac{1}{\sqrt{N}}\)</span>, the variance of the variance should decrease
with <span class="math notranslate nohighlight">\(\frac{1}{N}\)</span> and the figure-of-merit should neither</p>
<p>increase or decrease as a function of the number of histories
(proportional to time). For tests 2 and 4, the coefficient of
determination, <span class="math notranslate nohighlight">\(R^{2}\)</span>, from a forced fit to a function with the
right exponent is used as the tally test.</p>
</div>
<div class="section" id="point-detector-tallies">
<h4>Point detector tallies<a class="headerlink" href="#point-detector-tallies" title="Permalink to this headline">¶</a></h4>
<p>Point detectors are a form of variance reduction in computing the flux
or response at a specific point. At the source emission site and at
every interaction in the particle’s history, an estimate is made of the
probability of the particle striking the position of the point detector.
For each point detector, Monaco tallies the uncollided and total flux
for each energy group, the total for all neutron groups, and the total
for all photon groups. Any number of optional dose-like responses can be
calculated as well.</p>
<div class="section" id="multigroup">
<h5>Multigroup<a class="headerlink" href="#multigroup" title="Permalink to this headline">¶</a></h5>
<p>After a source particle of group <em>g</em> is started, the distance <em>R</em>
between the source position and the detector position is calculated.
Along the line connecting the source and detector positions, the sum of
the distance <em>sj</em> through each region <em>j</em> multiplied by the total
cross section <span class="math notranslate nohighlight">\(\Sigma_{j}^{g}\)</span>for that region is also
calculated. The contribution <em>cg</em> to the uncollided flux estimator is
then made to the tally for group <em>g</em>.</p>
<div class="math notranslate nohighlight" id="equation-monaco-14">
<span class="eqno">(389)<a class="headerlink" href="#equation-monaco-14" title="Permalink to this equation">¶</a></span>\[c_{g} = \frac{1}{4\pi R^{2}}\mathrm{\exp}\left( - \sum_{j}^{}{s_{j}\Sigma_{j}^{g}} \right)\]</div>
</div>
<div class="section" id="continuous-energy">
<h5>Continuous Energy<a class="headerlink" href="#continuous-energy" title="Permalink to this headline">¶</a></h5>
<p>After a source particle with energy <em>E</em> is started, the distance <em>R</em>
between the source position and the detector position is calculated. For
each bin <span class="math notranslate nohighlight">\(g\)</span> of the tally energy structure, a specific energy
<span class="math notranslate nohighlight">\(E_{g}\)</span> is sampled uniformly within the bin. Along the line
connecting the source and detector positions, the sum of the distance
<em>sj</em> through each region <em>j</em> multiplied by the total cross section
<span class="math notranslate nohighlight">\(\Sigma_{j}\left( E_{g} \right)\)</span> for that region. The contribution
<em>cg</em> to the uncollided flux estimator is then made to the tally for
group <em>g</em>. total cross section <span class="math notranslate nohighlight">\(\Sigma_{j}\left( E \right)\)</span> :</p>
<div class="math notranslate nohighlight" id="equation-monaco-15">
<span class="eqno">(390)<a class="headerlink" href="#equation-monaco-15" title="Permalink to this equation">¶</a></span>\[c_{g} = \frac{1}{4\pi R^{2}}\mathrm{\exp}\left( - \sum_{j}^{}{s_{j}\Sigma_{j}\left( E \right)} \right)\]</div>
<p>Only source particles contribute to the uncollided flux tally. At each
interaction point during the life of the particle, similar contributions
are made to each of the tallies. For each group <em>g′</em> that the particle
could scatter into and reach the detector location, a contribution is
made that also includes the probability to scatter from the current
direction towards the detector and having the energy change from group
<em>g</em> to group <em>g′.</em></p>
<p>This type of tally is costly, since ray-tracing through the geometry
from the current particle position to the detector location is required
many times over the particle history. Point detectors should be located
in regions made of void material, so that contributions from
interactions arbitrarily close to the point detector cannot overwhelm
the total estimated flux (as
<span class="math notranslate nohighlight">\(\frac{1}{4\pi R^{2} \rightarrow \infty}\)</span>).</p>
<p>Care must be taken in using point detectors in deep penetration problems
to ensure that the entire phase space that could contribute has been
well sampled—so that the point detector is not underestimating the flux
by leaving out areas far from the source but close to the point detector
position. One way to check this is by examining how the tally average
and uncertainty change with each batch of particles used in the
simulation. Large fluctuations in either quantity could indicate that
the phase space is not being sampled well.</p>
</div>
</div>
<div class="section" id="region-tallies">
<h4>Region tallies<a class="headerlink" href="#region-tallies" title="Permalink to this headline">¶</a></h4>
<p>Region tallies are used for calculating the flux and/or responses over
one of the regions listed in the SGGP geometry. Both the track-length
estimate of the flux and the collision density estimate of the flux are
calculated—and for each, the region tally contains simple tallies for
finding flux in each group, the total neutron flux, and the total photon
flux. For each of the optional response functions, the region tally also
contains simple tallies for each group and the total response.</p>
<p>For the track-length estimate of flux, each time a particle of energy
<span class="math notranslate nohighlight">\(E\)</span> moves through the region of interest, a contribution of
<span class="math notranslate nohighlight">\(l\)</span> (the length of the step in the region) is made to the history
score for the simple tally for flux for tally group <em>g</em>. The same
contribution is made for the history score for the simple tally for
total particle flux, neutron or photon, depending on the particle type.</p>
<p>If any optional response functions were requested with the tally, then
the contribution of <span class="math notranslate nohighlight">\(\text{lf}\left( E \right)\)</span>is made for the
response group, where <span class="math notranslate nohighlight">\(f\left( E \right)\)</span> is the response function
value for energy <span class="math notranslate nohighlight">\(E\)</span>. The history score for the total response
function is also incremented using <span class="math notranslate nohighlight">\(\text{lf}\left( E \right)\)</span>.</p>
<p>At the end of all of the histories, the averages and uncertainties of
all of the simple tallies for fluxes are found for every group and each
total. These results then represent the average track-length over the
region. To determine flux, these results are divided by the volume of
the region. If the volume <span class="math notranslate nohighlight">\(V\)</span> of the region was not given in the
geometry input nor calculated by Monaco, then the tally results will be
just the average track lengths and their uncertainties. A reminder
message is written to the tally detail file if the volume of the region
was not set.</p>
<p>For the collision density estimate of the flux, each time a particle of
energy <span class="math notranslate nohighlight">\(E\)</span> has a collision in the region of interest, a
contribution of <span class="math notranslate nohighlight">\(\frac{1}{\Sigma}\)</span> (the reciprocal of the total
macroscopic cross section) is made to the history scores for the simple
tally for flux for tally energy group <em>g</em> and for the total particle
flux. At the end of the simulation, the averages and uncertainties of
all of the simple tallies for every group flux and total flux are found
and then divided by the region volume, if available.</p>
<p>Similar to the point detector tallies, region tallies produce a file
listing the tally average and uncertainty at the end of each batch of
source particles (a *.chart file). This file can be plotted using the
simple 2-D plotter (ChartPlot) to observe the tally convergence
behavior.</p>
</div>
<div class="section" id="mesh-tallies">
<h4>Mesh tallies<a class="headerlink" href="#mesh-tallies" title="Permalink to this headline">¶</a></h4>
<p>For a D Cartesian mesh or a cylindrical mesh (independent of the SGGP
geometry), Monaco can calculate the track-length estimate of the flux.
Since the number of cells (voxels) in a mesh can become quite large, the
mesh tallies are not updated at the end of each history but are instead
updated at the end of each batch of particles. This prevents the mesh
tally accumulation from taking too much time but means that the estimate
of the statistical uncertainty is slightly low.</p>
<p>Like the other tallies, mesh tallies can calculate optional response
functions.</p>
<p>Since a mesh tally consists of many actual tallies, the statistical
tests are a bit more complex than for the region and point detector
tallies. Several statistical quantities and tests are used in Monaco
similar to those in several recent studies <a class="bibtex reference internal" href="Sourcerer.html#kiedrowski-statistical-2011" id="id3">[KS11]</a><a class="bibtex reference internal" href="#kiedrowski-evaluating-2011" id="id4">[KI11]</a> which
look at a distribution of relative variances over the mesh tally. In
Monaco, the basis of the statistical tests center on the distribution of
relative uncertainties and its mean, <span class="math notranslate nohighlight">\(\overline{r}\)</span>, of the voxels
(<span class="math notranslate nohighlight">\(V\)</span>) with score.</p>
<div class="math notranslate nohighlight" id="equation-monaco-16">
<span class="eqno">(391)<a class="headerlink" href="#equation-monaco-16" title="Permalink to this equation">¶</a></span>\[\overline{r} = \frac{1}{V}\sum_{}^{}R_{i}\]</div>
<p>where <span class="math notranslate nohighlight">\(R_{i}\)</span> is the relative uncertainty of the flux or dose in
voxel <span class="math notranslate nohighlight">\(i\)</span>. If every voxel has been sampled well and its relative
uncertainty <span class="math notranslate nohighlight">\(R_{i} \propto \frac{1}{\sqrt{N}}\)</span>, then the mean
relative uncertainty of the voxels should also behave as
<span class="math notranslate nohighlight">\(\frac{1}{\sqrt{N}}\)</span>. The variance of the mean relative
uncertainty can be calculated and a figure of merit (FOM) for the mesh
tally can be constructed using</p>
<div class="math notranslate nohighlight" id="equation-monaco-17">
<span class="eqno">(392)<a class="headerlink" href="#equation-monaco-17" title="Permalink to this equation">¶</a></span>\[FOM = \frac{1}{{\overline{r}}^{2}T}\]</div>
<p>with the time<span class="math notranslate nohighlight">\(\text{\ T}\)</span> in minutes. The four tests measure
over the simulation: 1) if <span class="math notranslate nohighlight">\(\zeta\)</span>, the fraction of voxels with
non-zero score, is constant; 2) if the mean relative uncertainty is
decreasing as <span class="math notranslate nohighlight">\(\frac{1}{\sqrt{N}}\)</span> (as measured by the coefficient
of determination, <span class="math notranslate nohighlight">\(R^{2}\)</span>, of a fit to a curve with power of
-0.5); 3) if the variance of the mean relative uncertainty is decreasing
with <span class="math notranslate nohighlight">\(\frac{1}{N}\)</span>; and 4) if the FOM is constant.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 3%" />
<col style="width: 46%" />
<col style="width: 23%" />
<col style="width: 8%" />
<col style="width: 21%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>Quantity</p></th>
<th class="head"><p>Test</p></th>
<th class="head"><p>Goal</p></th>
<th class="head"><p>Within</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li></li>
</ol>
</td>
<td><p><span class="math notranslate nohighlight">\(\zeta\)</span>, fraction with score</p></td>
<td><p>relative slope of linear fit</p></td>
<td><p>= 0.00</p></td>
<td><p>±0.10</p></td>
</tr>
<tr class="row-odd"><td><ol class="arabic simple" start="2">
<li></li>
</ol>
</td>
<td><p><span class="math notranslate nohighlight">\(\overline{r}\)</span>, mean relative uncertainty</p></td>
<td><p>exponent of power fit</p></td>
<td><p>= -0.50</p></td>
<td><div class="math notranslate nohighlight">
\[R^{2} &gt; 0.99\]</div>
</td>
</tr>
<tr class="row-even"><td><ol class="arabic simple" start="3">
<li></li>
</ol>
</td>
<td><p>variance of <span class="math notranslate nohighlight">\(\overline{r}\)</span></p></td>
<td><p>exponent of power fit</p></td>
<td><p>= -1.00</p></td>
<td><div class="math notranslate nohighlight">
\[R^{2} &gt; 0.95\]</div>
</td>
</tr>
<tr class="row-odd"><td><ol class="arabic simple" start="4">
<li></li>
</ol>
</td>
<td><p>figure-of-merit</p></td>
<td><p>exponent of power fit</p></td>
<td><p>= 0.00</p></td>
<td><p>±0.10</p></td>
</tr>
</tbody>
</table>
<p>For non-uniform meshes (especially cylindrical), these tests may not be
the best measure of performance since different size voxels will have a
wider variety of relative uncertainties. The user is also cautioned that
if there are individual voxels within the mesh tally that have relative
uncertainties that are not decreasing as <span class="math notranslate nohighlight">\(\frac{1}{\sqrt{N}}\)</span>,
then the mesh tally statistical tests will not be meaningful. It is
ultimately up to the user to decide if the mesh tally is performing well
(is the goal of the mesh tally just to calculate dose, not flux?; are
all spatial areas of the mesh tally equally important?; are all
magnitudes of the flux or response values equally important?; etc.)</p>
<p>Mesh tallies can be viewed with the Mesh File Viewer, a Java utility
that can be run from GeeWiz (on PC systems) or can be run separately (on
any system). The Mesh File Viewer will show the flux for each group, the
total flux for each type of particle and the optional responses.
Uncertainties and relative uncertainties can also be shown for mesh
tallies using the Mesh File Viewer. For more information on the Mesh
File Viewer, see its on-line documentation.</p>
</div>
</div>
<div class="section" id="continuous-energy-transport">
<h3>Continuous Energy Transport<a class="headerlink" href="#continuous-energy-transport" title="Permalink to this headline">¶</a></h3>
<p>Using multigroup data in Monte Carlo transport calculations is generally
sufficient for most problems (both shielding and criticality). Many of
the reaction cross sections vary slowly with energy, so energy “groups”
can be made with one set of properties for the group. Multigroup
treatments can further simplify radiation transport by combining the
different types of reactions that can occur into a simple scattering
matrix – particles then have certain probabilities to scatter from their
current energy group to another energy group. If the user is not
interested in knowing which specific type of interaction happened at
each collision, this simplification can increase calculation efficiency.</p>
<p>One major drawback of the multigroup approach is in representing discrete gammas,
such as the decay radiation from common isotopic sources.  Consider a simple shielding
simulation using cobalt-60.  This isotope gives off two high-energy gamma rays when it decays
(1173230 eV with intensity 99.85% and 1332490 eV with intensity 99.9826%).  In the SCALE multigroup
calculations, a cobalt-60 source spectrum is represented by a broad pdf, controlled by the group structure.
This is shown in <a class="reference internal" href="#fig8-1"><span class="std std-numref">Fig. 191</span></a>. for the fine 47-group structure and the broad 19-group structure.</p>
<div class="figure align-center" id="id21">
<span id="fig8-1"></span><a class="reference internal image-reference" href="_images/Picture1.png"><img alt="_images/Picture1.png" src="_images/Picture1.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-number">Fig. 191 </span><span class="caption-text">The multigroup representation of a cobalt-60 source.</span><a class="headerlink" href="#id21" title="Permalink to this image">¶</a></p>
</div>
<p>Note that in both group structures, 1.33 MeV is a group boundary, so the
1332490 eV line is represented by group that covers higher energies. The
cross section for that group is lower than the cross section for the
specific line, so multigroup transport calculations will tend to
overestimate the number of photons penetrating a shield, which will
overestimate dose rates.</p>
<p>Using CE and the two multigroup libraries, the total cross sections for the cobalt lines are listed in <a class="reference internal" href="#tab8-2"><span class="std std-numref">Table 255</span></a>.
<a class="reference internal" href="#fig8-2"><span class="std std-numref">Fig. 192</span></a>. shows the total cross section of photons in tungsten, in both CE and the two SCALE multigroup structures.
On the whole, the multigroup data represents the CE data well.  <a class="reference internal" href="#fig8-3"><span class="std std-numref">Fig. 193</span></a>. shows the same cross section information
near the two cobalt lines, which shows how the multigroup cross sections average over quite large energy ranges.</p>
<span id="tab8-2"></span><table class="docutils align-center" id="id22">
<caption><span class="caption-number">Table 255 </span><span class="caption-text">Total macroscopic cross section in tungsten (/cm).</span><a class="headerlink" href="#id22" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 29%" />
<col style="width: 35%" />
<col style="width: 35%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>1173230 eV</p></th>
<th class="head"><p>1332490 eV</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>SCALE CE</p></td>
<td><p>1.03353</p></td>
<td><p>0.94864</p></td>
</tr>
<tr class="row-odd"><td><p>SCALE 47</p></td>
<td><p>1.09066</p></td>
<td><p>0.92743</p></td>
</tr>
<tr class="row-even"><td><p>SCALE 19</p></td>
<td><p>1.05167</p></td>
<td><p>0.89289</p></td>
</tr>
</tbody>
</table>
<p>The small differences in cross section can make large differences in the
transport. Consider just 5 cm of tungsten. Using the cross sections in
<a class="reference internal" href="#tab8-2"><span class="std std-numref">Table 255</span></a>, the attenuation (<span class="math notranslate nohighlight">\(e^{- \mu x}\)</span>) of either line can
vary by 30%.</p>
<p>In addition to source representation problems, multigroup transport is
not adequate for applications where line spectra are measured. Because
of the group structure, tally results will be averaged out within a
group. With the fixed boundaries, specific lines in the tallies will not
be able to be seen. For examples, in the 19-group library, there is no
group around the 511 keV annihilation gammas – they are averaged in with
other photons from 400 to 600 keV. No multigroup structure could contain
thin groups around every line of interest.</p>
<div class="figure align-center" id="id23">
<span id="fig8-2"></span><a class="reference internal image-reference" href="_images/8-2.png"><img alt="_images/8-2.png" src="_images/8-2.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-number">Fig. 192 </span><span class="caption-text">Photon total cross section in tungsten.  The energies of the cobalt-60 are displayed as lines at 1173230 and 1332490 eV.</span><a class="headerlink" href="#id23" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id24">
<span id="fig8-3"></span><a class="reference internal image-reference" href="_images/8-3.png"><img alt="_images/8-3.png" src="_images/8-3.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-number">Fig. 193 </span><span class="caption-text">Photon total cross section in tungsten, near the cobalt lines.  The energies of the cobalt-60 are displayed as lines at 1173230 and 1332490 eV.</span><a class="headerlink" href="#id24" title="Permalink to this image">¶</a></p>
</div>
<p>A sample problem involving a cobalt source and a slab of tungsten will
compare the use of continuous-energy transport to multigroup transport,
to demonstrate the large difference in results for single-line sources.
For distributions, differences between multigroup and continuous-energy
may not be very significant.</p>
</div>
</div>
<div class="section" id="monaco-input-files">
<h2>Monaco Input Files<a class="headerlink" href="#monaco-input-files" title="Permalink to this headline">¶</a></h2>
<p>The input file for Monaco consists of two lines of text (“=monaco”
command line and one for the problem title) and then several blocks,
with each block starting with “read xxxx” and ending with “end xxxx”.
There are three blocks that are required and seven blocks that are
optional. The cross section and geometry blocks must be listed first and
in the specified order. Other blocks may be listed in any order.</p>
<p>Blocks (must be in this order):</p>
<ul class="simple">
<li><p>Cross Sections – (required) lists the cross-section file and the mixing table information</p></li>
<li><p>Geometry – (required) SCALE general geometry description</p></li>
<li><p>Array – optional addition to the above geometry description</p></li>
<li><p>Volume – optional calculation or listing of region volumes</p></li>
<li><p>Plot – create 2D slices of the SGGP geometry</p></li>
</ul>
<p>Other Blocks (any order, following the blocks listed above):</p>
<ul class="simple">
<li><p>Definitions – defines locations, response functions, grid geometries, cylindrical mesh geometries, energy bin boundaries, time bin boundaries and various distributions used by other blocks</p></li>
<li><p>Source – (required) description of multiple sources; with the spatial, energy, and directional distributions and particle type for each</p></li>
<li><p>Tallies – description of what to calculate: point detector tallies, region tallies, or mesh tallies</p></li>
<li><p>Parameters – how to perform the simulation (random number seed, how many histories, etc.)</p></li>
<li><p>Biasing – data for reducing the variance of the simulation</p></li>
</ul>
<p>The physical model blocks (Geometry, Array, Volume and Plot) follow the
standard SCALE format. See the other SCALE references as noted in the
following sections for details.</p>
<p>For the other six blocks, scalar variables are set by “keyword=value”,
fixed length arrays are set with “keyword value<sub>1</sub> …
value<sub>N</sub>”, variable length arrays are set with “keyword
value<sub>1</sub> … value<sub>N</sub> end”, and some text and filenames
are read in as quoted strings. Single keywords to set options are also
used in some instances. The indention, comment lines, and upper/lower
case shown in this document are not required—they are used in the
examples only for clarity. Except for strings in quotes (like
filenames), SCALE is not case sensitive.</p>
<p>After all of the blocks are listed, a single line with “end data” should
be listed. A final “end” should also be listed, to signify the end of
all Monaco input. See <a class="reference internal" href="#tab8-3"><span class="std std-numref">Table 256</span></a> for an overview of the Monaco input
file structure.</p>
<div class="section" id="cross-sections-block">
<h3>Cross sections block<a class="headerlink" href="#cross-sections-block" title="Permalink to this headline">¶</a></h3>
<p>Monaco does its own mixing, so it needs a mixing table. For each element
of each mixture, an identifier and a number density must be supplied.
These can be found in the output of whatever sequence was used to make
the cross-section file, such as CSAS-MG. Two coupled neutron/photon
multigroup libraries were created specifically for shielding problems
from ENDF/B-VII.0 data—the v7-200n47g fine-group and the v7-27n19g
coarse-group libraries. CE libraries made from ENDF/BVII.0 are also
available in SCALE.</p>
<span id="tab8-3"></span><table class="docutils align-center" id="id25">
<caption><span class="caption-number">Table 256 </span><span class="caption-text">Overall input format for Monaco</span><a class="headerlink" href="#id25" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Input</span> <span class="pre">File</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Comment</span></code></p></td>
</tr>
<tr class="row-even"><td><div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="nf">=monaco</span>
<span class="err">Some</span> <span class="err">title</span> <span class="err">for</span> <span class="err">this</span> <span class="err">problem</span>
<span class="n">read</span><span class="err"> </span><span class="n">crossSections</span>
   <span class="err">...</span>
<span class="n">end</span><span class="err"> </span><span class="n">crossSections</span>
<span class="n">read</span><span class="err"> </span><span class="n">geometry</span>
   <span class="err">...</span>
<span class="n">end</span><span class="err"> </span><span class="n">geometry</span>
<span class="n">read</span><span class="err"> </span><span class="n">array</span>
   <span class="err">...</span>
<span class="n">end</span><span class="err"> </span><span class="n">array</span>
<span class="n">read</span><span class="err"> </span><span class="n">volume</span>
   <span class="err">...</span>
<span class="n">end</span><span class="err"> </span><span class="n">volume</span>
<span class="n">read</span><span class="err"> </span><span class="n">plot</span>
   <span class="err">...</span>
<span class="n">end</span><span class="err"> </span><span class="n">plot</span>
<span class="n">read</span><span class="err"> </span><span class="n">definitions</span>
   <span class="err">...</span>
<span class="n">end</span><span class="err"> </span><span class="n">definitions</span>
<span class="n">read</span><span class="err"> </span><span class="n">sources</span>
   <span class="err">...</span>
<span class="n">end</span><span class="err"> </span><span class="n">sources</span>
<span class="n">read</span><span class="err"> </span><span class="n">tallies</span>
   <span class="err">...</span>
<span class="n">end</span><span class="err"> </span><span class="n">tallies</span>
<span class="n">read</span><span class="err"> </span><span class="n">parameters</span>
   <span class="err">...</span>
<span class="n">end</span><span class="err"> </span><span class="n">parameters</span>
<span class="n">read</span><span class="err"> </span><span class="n">biasing</span>
   <span class="err">...</span>
<span class="n">end</span><span class="err"> </span><span class="n">biasing</span>
<span class="n">end</span><span class="err"> </span><span class="n">data</span>
<span class="n">end</span>
</pre></div>
</div>
</td>
<td><div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="err">name</span> <span class="err">of</span> <span class="err">sequence</span>
<span class="err">title</span>
<span class="err">List</span> <span class="err">of</span> <span class="err">isotopes/mixtures</span>
    <span class="err">[required</span> <span class="err">block]</span>

<span class="err">SCALE</span> <span class="err">SGGP</span> <span class="err">geometry</span>
    <span class="err">[required</span> <span class="err">block]</span>

<span class="err">SCALE</span> <span class="err">SGGP</span> <span class="err">arrays</span>
    <span class="err">[optional</span> <span class="err">block]</span>

<span class="err">SCALE</span> <span class="err">SGGP</span> <span class="err">volume</span> <span class="err">calc</span>
    <span class="err">[optional</span> <span class="err">block]</span>

<span class="err">SGGP</span> <span class="err">Plots</span>
    <span class="err">[optional</span> <span class="err">block]</span>

<span class="err">Definitions</span>
    <span class="err">[possibly</span> <span class="err">required]</span>

<span class="err">Sources</span> <span class="err">definition</span>
    <span class="err">[required</span> <span class="err">block]</span>

<span class="err">Tally</span> <span class="err">specifications</span>
    <span class="err">[optional</span> <span class="err">block]</span>

<span class="err">Monte</span> <span class="err">Carlo</span> <span class="err">parameters</span>
    <span class="err">[optional</span> <span class="err">block]</span>

<span class="err">Biasing</span> <span class="err">information</span>
    <span class="err">[optional</span> <span class="err">block]</span>

<span class="n">end</span><span class="err"> </span><span class="n">of</span><span class="err"> </span><span class="n">all</span><span class="err"> </span><span class="n">blocks</span>
<span class="n">end</span><span class="err"> </span><span class="n">of</span><span class="err"> </span><span class="n">Monaco</span><span class="err"> </span><span class="n">input</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>For example, if CSAS-MG was used to produce an AMPX file using the
following input,</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="nf">=csas-mg</span>
<span class="err">Demonstration</span> <span class="err">problem,</span> <span class="err">three</span> <span class="err">mixtures</span>
<span class="err">v</span><span class="m">7</span><span class="err">-</span><span class="m">200</span><span class="err">n</span><span class="m">47</span><span class="err">g</span>
<span class="n">read</span><span class="err"> </span><span class="n">composition</span>
    <span class="err">uo</span><span class="m">2</span>   <span class="m">1</span> <span class="m">0</span><span class="err">.</span><span class="m">2</span> <span class="m">293</span><span class="err">.</span><span class="m">0</span> <span class="m">92234</span> <span class="m">0</span><span class="err">.</span><span class="m">0055</span> <span class="m">92235</span> <span class="m">3</span><span class="err">.</span><span class="m">5</span> <span class="m">92238</span> <span class="m">96</span><span class="err">.</span><span class="m">4945</span> <span class="n">end</span>
    <span class="err">ss</span><span class="m">304</span> <span class="m">2</span> <span class="m">1</span><span class="err">.</span><span class="m">0</span> <span class="m">293</span><span class="err">.</span><span class="m">0</span> <span class="n">end</span>
    <span class="err">h</span><span class="m">2</span><span class="err">o</span>   <span class="m">4</span> <span class="m">1</span><span class="err">.</span><span class="m">0</span> <span class="m">293</span><span class="err">.</span><span class="m">0</span> <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">composition</span>
<span class="n">end</span>
</pre></div>
</div>
<p>in addition to creating an AMPX file, the output would include a tables similar to</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="err">m</span> <span class="err">i</span> <span class="err">x</span> <span class="err">i</span> <span class="err">n</span> <span class="err">g</span>   <span class="err">t</span> <span class="err">a</span> <span class="err">b</span> <span class="err">l</span> <span class="err">e</span>    <span class="err">(THREAD</span> <span class="err">=</span> <span class="m">00</span> <span class="err">)</span>
<span class="err">entry</span>   <span class="err">mixture</span>   <span class="err">isotope</span>   <span class="err">number</span> <span class="err">density</span>   <span class="err">new</span> <span class="err">identifier</span>   <span class="err">explicit</span> <span class="err">temperature</span>
    <span class="m">1</span>       <span class="m">1</span>        <span class="m">92234</span>     <span class="m">2</span><span class="err">.</span><span class="m">73451</span><span class="err">E-</span><span class="m">07</span>             <span class="m">92234</span>             <span class="m">293</span><span class="err">.</span><span class="m">0</span>
    <span class="m">2</span>       <span class="m">1</span>        <span class="m">92235</span>     <span class="m">1</span><span class="err">.</span><span class="m">73272</span><span class="err">E-</span><span class="m">04</span>             <span class="m">92235</span>             <span class="m">293</span><span class="err">.</span><span class="m">0</span>
    <span class="m">3</span>       <span class="m">1</span>        <span class="m">92238</span>     <span class="m">4</span><span class="err">.</span><span class="m">71674</span><span class="err">E-</span><span class="m">03</span>             <span class="m">92238</span>             <span class="m">293</span><span class="err">.</span><span class="m">0</span>
    <span class="m">4</span>       <span class="m">1</span>         <span class="m">8016</span>     <span class="m">9</span><span class="err">.</span><span class="m">78057</span><span class="err">E-</span><span class="m">03</span>              <span class="m">8016</span>             <span class="m">293</span><span class="err">.</span><span class="m">0</span>

<span class="err">m</span> <span class="err">i</span> <span class="err">x</span> <span class="err">i</span> <span class="err">n</span> <span class="err">g</span>   <span class="err">t</span> <span class="err">a</span> <span class="err">b</span> <span class="err">l</span> <span class="err">e</span>    <span class="err">(THREAD</span> <span class="err">=</span> <span class="m">00</span> <span class="err">)</span>
<span class="err">entry</span>   <span class="err">mixture</span>   <span class="err">isotope</span>   <span class="err">number</span> <span class="err">density</span>   <span class="err">new</span> <span class="err">identifier</span>   <span class="err">explicit</span> <span class="err">temperature</span>
    <span class="m">1</span>       <span class="m">2</span>         <span class="m">6000</span>     <span class="m">3</span><span class="err">.</span><span class="m">18488</span><span class="err">E-</span><span class="m">04</span>              <span class="m">6000</span>             <span class="m">293</span><span class="err">.</span><span class="m">0</span>
    <span class="m">2</span>       <span class="m">2</span>        <span class="m">14028</span>     <span class="m">1</span><span class="err">.</span><span class="m">57010</span><span class="err">E-</span><span class="m">03</span>             <span class="m">14028</span>             <span class="m">293</span><span class="err">.</span><span class="m">0</span>
    <span class="m">3</span>       <span class="m">2</span>        <span class="m">14029</span>     <span class="m">7</span><span class="err">.</span><span class="m">97625</span><span class="err">E-</span><span class="m">05</span>             <span class="m">14029</span>             <span class="m">293</span><span class="err">.</span><span class="m">0</span>
    <span class="m">4</span>       <span class="m">2</span>        <span class="m">14030</span>     <span class="m">5</span><span class="err">.</span><span class="m">26416</span><span class="err">E-</span><span class="m">05</span>             <span class="m">14030</span>             <span class="m">293</span><span class="err">.</span><span class="m">0</span>
    <span class="m">5</span>       <span class="m">2</span>        <span class="m">15031</span>     <span class="m">6</span><span class="err">.</span><span class="m">94688</span><span class="err">E-</span><span class="m">05</span>             <span class="m">15031</span>             <span class="m">293</span><span class="err">.</span><span class="m">0</span>
    <span class="m">6</span>       <span class="m">2</span>        <span class="m">24050</span>     <span class="m">7</span><span class="err">.</span><span class="m">59178</span><span class="err">E-</span><span class="m">04</span>             <span class="m">24050</span>             <span class="m">293</span><span class="err">.</span><span class="m">0</span>
    <span class="m">7</span>       <span class="m">2</span>        <span class="m">24052</span>     <span class="m">1</span><span class="err">.</span><span class="m">46400</span><span class="err">E-</span><span class="m">02</span>             <span class="m">24052</span>             <span class="m">293</span><span class="err">.</span><span class="m">0</span>
    <span class="m">8</span>       <span class="m">2</span>        <span class="m">24053</span>     <span class="m">1</span><span class="err">.</span><span class="m">66006</span><span class="err">E-</span><span class="m">03</span>             <span class="m">24053</span>             <span class="m">293</span><span class="err">.</span><span class="m">0</span>
    <span class="m">9</span>       <span class="m">2</span>        <span class="m">24054</span>     <span class="m">4</span><span class="err">.</span><span class="m">13224</span><span class="err">E-</span><span class="m">04</span>             <span class="m">24054</span>             <span class="m">293</span><span class="err">.</span><span class="m">0</span>
   <span class="m">10</span>       <span class="m">2</span>        <span class="m">25055</span>     <span class="m">1</span><span class="err">.</span><span class="m">74072</span><span class="err">E-</span><span class="m">03</span>             <span class="m">25055</span>             <span class="m">293</span><span class="err">.</span><span class="m">0</span>
   <span class="m">11</span>       <span class="m">2</span>        <span class="m">26054</span>     <span class="m">3</span><span class="err">.</span><span class="m">42190</span><span class="err">E-</span><span class="m">03</span>             <span class="m">26054</span>             <span class="m">293</span><span class="err">.</span><span class="m">0</span>
   <span class="m">12</span>       <span class="m">2</span>        <span class="m">26056</span>     <span class="m">5</span><span class="err">.</span><span class="m">37166</span><span class="err">E-</span><span class="m">02</span>             <span class="m">26056</span>             <span class="m">293</span><span class="err">.</span><span class="m">0</span>
   <span class="m">13</span>       <span class="m">2</span>        <span class="m">26057</span>     <span class="m">1</span><span class="err">.</span><span class="m">24055</span><span class="err">E-</span><span class="m">03</span>             <span class="m">26057</span>             <span class="m">293</span><span class="err">.</span><span class="m">0</span>
   <span class="m">14</span>       <span class="m">2</span>        <span class="m">26058</span>     <span class="m">1</span><span class="err">.</span><span class="m">65094</span><span class="err">E-</span><span class="m">04</span>             <span class="m">26058</span>             <span class="m">293</span><span class="err">.</span><span class="m">0</span>
   <span class="m">15</span>       <span class="m">2</span>        <span class="m">28058</span>     <span class="m">5</span><span class="err">.</span><span class="m">26873</span><span class="err">E-</span><span class="m">03</span>             <span class="m">28058</span>             <span class="m">293</span><span class="err">.</span><span class="m">0</span>
   <span class="m">16</span>       <span class="m">2</span>        <span class="m">28060</span>     <span class="m">2</span><span class="err">.</span><span class="m">02951</span><span class="err">E-</span><span class="m">03</span>             <span class="m">28060</span>             <span class="m">293</span><span class="err">.</span><span class="m">0</span>
   <span class="m">17</span>       <span class="m">2</span>        <span class="m">28061</span>     <span class="m">8</span><span class="err">.</span><span class="m">82212</span><span class="err">E-</span><span class="m">05</span>             <span class="m">28061</span>             <span class="m">293</span><span class="err">.</span><span class="m">0</span>
   <span class="m">18</span>       <span class="m">2</span>        <span class="m">28062</span>     <span class="m">2</span><span class="err">.</span><span class="m">81288</span><span class="err">E-</span><span class="m">04</span>             <span class="m">28062</span>             <span class="m">293</span><span class="err">.</span><span class="m">0</span>
   <span class="m">19</span>       <span class="m">2</span>        <span class="m">28064</span>     <span class="m">7</span><span class="err">.</span><span class="m">16357</span><span class="err">E-</span><span class="m">05</span>             <span class="m">28064</span>             <span class="m">293</span><span class="err">.</span><span class="m">0</span>

 <span class="err">m</span> <span class="err">i</span> <span class="err">x</span> <span class="err">i</span> <span class="err">n</span> <span class="err">g</span>   <span class="err">t</span> <span class="err">a</span> <span class="err">b</span> <span class="err">l</span> <span class="err">e</span>    <span class="err">(THREAD</span> <span class="err">=</span> <span class="m">00</span> <span class="err">)</span>
 <span class="err">entry</span>   <span class="err">mixture</span>   <span class="err">isotope</span>   <span class="err">number</span> <span class="err">density</span>   <span class="err">new</span> <span class="err">identifier</span>   <span class="err">explicit</span> <span class="err">temperature</span>
    <span class="m">1</span>       <span class="m">4</span>         <span class="m">1001</span>     <span class="m">6</span><span class="err">.</span><span class="m">67531</span><span class="err">E-</span><span class="m">02</span>              <span class="m">1001</span>             <span class="m">293</span><span class="err">.</span><span class="m">0</span>
    <span class="m">2</span>       <span class="m">4</span>         <span class="m">8016</span>     <span class="m">3</span><span class="err">.</span><span class="m">33765</span><span class="err">E-</span><span class="m">02</span>              <span class="m">8016</span>             <span class="m">293</span><span class="err">.</span><span class="m">0</span>
</pre></div>
</div>
<p>which can be used to construct the Monaco cross-section block mixing table.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">crossSections</span>
    <span class="err">ampxFileUnit=</span><span class="m">4</span>
    <span class="err">mixture</span> <span class="m">1</span>
        <span class="err">element</span>    <span class="m">92234 2.73451E-07</span>
        <span class="err">element</span>    <span class="m">92235 1.73272E-04</span>
        <span class="err">element</span>    <span class="m">92238 4.71674E-03</span>
        <span class="err">element</span>     <span class="m">8016 9.78057E-03</span>
    <span class="n">end</span><span class="err"> </span><span class="n">mixture</span>
    <span class="err">mixture</span> <span class="m">2</span>
        <span class="err">element</span>     <span class="m">6000 3.18488E-04</span>
        <span class="err">element</span>    <span class="m">14028 1.57010E-03</span>
        <span class="err">element</span>    <span class="m">14029 7.97625E-05</span>
        <span class="err">element</span>    <span class="m">14030 5.26416E-05</span>
        <span class="err">element</span>    <span class="m">15031 6.94688E-05</span>
        <span class="err">element</span>    <span class="m">24050 7.59178E-04</span>
        <span class="err">element</span>    <span class="m">24052 1.46400E-02</span>
        <span class="err">element</span>    <span class="m">24053 1.66006E-03</span>
        <span class="err">element</span>    <span class="m">24054 4.13224E-04</span>
        <span class="err">element</span>    <span class="m">25055 1.74072E-03</span>
        <span class="err">element</span>    <span class="m">26054 3.42190E-03</span>
        <span class="err">element</span>    <span class="m">26056 5.37166E-02</span>
        <span class="err">element</span>    <span class="m">26057 1.24055E-03</span>
        <span class="err">element</span>    <span class="m">26058 1.65094E-04</span>
        <span class="err">element</span>    <span class="m">28058 5.26873E-03</span>
        <span class="err">element</span>    <span class="m">28060 2.02951E-03</span>
        <span class="err">element</span>    <span class="m">28061 8.82212E-05</span>
        <span class="err">element</span>    <span class="m">28062 2.81288E-04</span>
        <span class="err">element</span>    <span class="m">28064 7.16357E-05</span>
    <span class="n">end</span><span class="err"> </span><span class="n">mixture</span>
    <span class="err">mixture</span> <span class="m">4</span>
        <span class="err">element</span>     <span class="m">1001 6.67531E-02</span>
        <span class="err">element</span>     <span class="m">8016 3.33765E-02</span>
    <span class="n">end</span><span class="err"> </span><span class="n">mixture</span>
<span class="n">end</span><span class="err"> </span><span class="n">crossSections</span>
</pre></div>
</div>
<p>For a CE calculation, instead of the keyword “ampxFileUnit=” (which
refers to a given AMPX library), the keyword “ceLibrary=” should be used
with a CE library name, enclosed in quotes. Also for CE, a default
temperature can be set before any mixtures are defined using the
“ceTempDefault=” temperature (in Kelvins). With each mixture, a specific
temperature can be set using “temperature.”</p>
<p>Other keywords that can be used in the cross-section block for
multigroup problems include flags to turn on printing of different
aspects of the cross-section mixing process (“printTotals”,
“printScatters”, “printAngleProb”, “printFissionChi”, “printExtra”, and
“printLegendre”). The keyword “fullyCoupled” can be used to specify all
groups to be treated as primary groups. These keywords do not work in CE
problems since the point wise data contain an enormous number of points.</p>
<p>Users are encouraged to use Monaco by running the MAVRIC sequence, which
creates the cross-section mixing table automatically, for both
multigroup and CE calculations.</p>
</div>
<div class="section" id="geometry-block">
<h3>Geometry block<a class="headerlink" href="#geometry-block" title="Permalink to this headline">¶</a></h3>
<p>The geometry input uses the standard SGGP, similar to KENO-VI. Input
instructions can be found in <em>Geometry Data</em> in the KENO-VI chapter of
the SCALE manual.</p>
<p>Shielding calculations (Monaco, MAVRIC, SAS4) differ from their
criticality cousins (KENO V.a, KENO-VI) in a very special way—sources
and detectors can be located outside of the materials where the
transport takes place. To accommodate this fact in Monaco and MAVRIC,
make sure that a void region (a media record using mixture 0) surrounds
the source area and any point detectors, if they are not located in a
region of the actual geometry.</p>
<p>For example, if the objective is to calculate the effectiveness of a
simple slab shield, the model geometry would consist of just one slab of
material. The source would be on one side of the slab, and a detector
would be on the other side of the slab. In Monaco (and the MAVRIC
sequence), the input should list at least two regions: (1) the slab
itself and (2) a void region outside of the slab containing both the
source and detector positions.</p>
<p>Monaco tracks particles through the SGGP geometry as well as other
geometries used for mesh tallies or mesh importance maps. Because Monaco
must track through all of these geometries at the same time, users
should not use the reflective boundary capability in the SGGP geometry.</p>
<p>The graphical user interfaces GeeWiz and Keno3D can be used on Windows
platforms to develop and view the geometry.</p>
</div>
<div class="section" id="array-volume-and-plot-blocks">
<h3>Array, volume, and plot blocks<a class="headerlink" href="#array-volume-and-plot-blocks" title="Permalink to this headline">¶</a></h3>
<p>Geometry array input uses the standard SGGP, similar to KENO-VI. Input
instructions can be found in KENO-VI chapter on <em>Array Data</em> of the
SCALE manual.</p>
<p>Volumes of various geometry regions are used to calculate fluxes for
those regions. Volumes can be input as part of the geometry input block
above, or calculated by the SGGP using one of two different methods. See
KENO-VI chapter on <em>Volume Data</em> for instructions.</p>
<p>The “read plot” block allows users to create a 2-D character or color
plots of slices through a specified portion of the 3-D geometrical
representation of the problem. These images can be saved as *.png
files. For more information, see the KENO-VI chapter on <em>Plot Data</em>.</p>
</div>
<div class="section" id="definitions-block">
<h3>Definitions block<a class="headerlink" href="#definitions-block" title="Permalink to this headline">¶</a></h3>
<p>The definitions block defines different types of data (locations,
detector response functions, grid geometries, cylindrical geometries,
distributions, energy bin boundaries and time bin boundaries) that are
used by some of the other blocks in Monaco. Individual data can be
listed in any order. Identification numbers must be positive integers
and unique within that type of data. Each type of data begins with a
keyword and ends with an “end” and that same keyword. All of the
different data types can have an optional title using the keyword
“title=”.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">definitions</span>
    <span class="err">location</span> <span class="m">43</span>
        <span class="err">…</span>
    <span class="n">end</span><span class="err"> </span><span class="n">location</span>
    <span class="err">response</span> <span class="m">45</span>
        <span class="err">…</span>
    <span class="n">end</span><span class="err"> </span><span class="n">response</span>
    <span class="err">distribution</span> <span class="m">1</span>
        <span class="err">…</span>
    <span class="n">end</span><span class="err"> </span><span class="n">distribution</span>
    <span class="err">response</span> <span class="m">12</span>
        <span class="err">…</span>
    <span class="n">end</span><span class="err"> </span><span class="n">response</span>
<span class="n">end</span><span class="err"> </span><span class="n">definitions</span>
</pre></div>
</div>
<div class="section" id="locations">
<h4>Locations<a class="headerlink" href="#locations" title="Permalink to this headline">¶</a></h4>
<p>Locations (“location”) require an identification number and the physical
position in global coordinates using the “position” keyword (a fixed
length array). A position is specified by listing its <em>x</em>, <em>y</em>, and
<em>z</em> coordinates.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="err">location</span>  <span class="m">1</span>
   <span class="err">title=</span><span class="s">&quot;Radial detector - close to surface&quot;</span>
    <span class="err">position</span> <span class="m">162</span><span class="err">.</span><span class="m">0</span> <span class="m">0</span><span class="err">.</span><span class="m">0</span> <span class="m">0</span><span class="err">.</span><span class="m">0</span>
<span class="n">end</span><span class="err"> </span><span class="n">location</span>
<span class="err">location</span>  <span class="m">2</span>  <span class="err">position</span> <span class="m">0</span><span class="err">.</span><span class="m">0</span> <span class="m">0</span><span class="err">.</span><span class="m">0</span> <span class="m">295</span><span class="err">.</span><span class="m">6</span>   <span class="n">end</span><span class="err"> </span><span class="n">location</span>
<span class="err">location</span>  <span class="m">3</span>
    <span class="err">title=”Corner</span> <span class="err">detector”</span>
    <span class="err">position</span> <span class="m">162</span><span class="err">.</span><span class="m">0</span> <span class="m">0</span><span class="err">.</span><span class="m">0</span> <span class="m">295</span><span class="err">.</span><span class="m">6</span>
<span class="n">end</span><span class="err"> </span><span class="n">location</span>
<span class="err">location</span> <span class="m">105</span> <span class="err">position</span>   <span class="m">0</span><span class="err">.</span><span class="m">0</span> <span class="m">0</span><span class="err">.</span><span class="m">0</span> <span class="m">385</span><span class="err">.</span><span class="m">6</span>   <span class="n">end</span><span class="err"> </span><span class="n">location</span>
<span class="err">location</span> <span class="m">106</span> <span class="err">position</span> <span class="m">252</span><span class="err">.</span><span class="m">0</span> <span class="m">0</span><span class="err">.</span><span class="m">0</span> <span class="m">385</span><span class="err">.</span><span class="m">6</span>   <span class="n">end</span><span class="err"> </span><span class="n">location</span>
</pre></div>
</div>
</div>
<div class="section" id="response-functions">
<h4>Response functions<a class="headerlink" href="#response-functions" title="Permalink to this headline">¶</a></h4>
<p>Response functions (“response”) require an identification number
and information on how to build an energy dependent response function.
There are three basic types of responses: 1) the general user-defined
response, 2) a response based on cross-section data, and 3) a response
based on a specific flux-to-dose conversion factor. For multigroup
calculations, a fourth type of a response simply listing multigroup
values is also available. Responses must be defined as either a neutron
response or a photon response.</p>
<blockquote>
<div><dl>
<dt>Type 1.</dt><dd><p>A general user-defined response function can be either a binned
histogram function (<em>n</em>+1 energies and <em>n</em> values) or a set of
value/function pairs that will be linearly interpolated (<em>n</em>+1
energies and <em>n</em>+1 values). The energies (in eV) are set using the
“bounds … end” keyword. The response values are entered with the “values
… end” keyword. The energies can be entered from low energy to high
energy order or the traditional high energy to low energy order but must
be monotonic. The values array of the response is interpreted to
correspond to the order of the bounds array. These two examples</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="err">response</span> <span class="m">11</span>
    <span class="err">title=</span><span class="s">&quot;user-defined response, histogram&quot;</span>
    <span class="err">neutron</span>
    <span class="err">bounds</span> <span class="m">1</span><span class="err">e</span><span class="m">7</span>   <span class="m">8</span><span class="err">e</span><span class="m">6</span>   <span class="m">6</span><span class="err">e</span><span class="m">6</span>   <span class="m">4</span><span class="err">e</span><span class="m">6</span>   <span class="m">2</span><span class="err">e</span><span class="m">6</span>   <span class="m">1</span><span class="err">e</span><span class="m">5</span> <span class="n">end</span>
    <span class="err">values</span>    <span class="m">1</span><span class="err">.</span><span class="m">0</span>   <span class="m">0</span><span class="err">.</span><span class="m">8</span>   <span class="m">0</span><span class="err">.</span><span class="m">6</span>   <span class="m">0</span><span class="err">.</span><span class="m">4</span>   <span class="m">0</span><span class="err">.</span><span class="m">2</span>    <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">response</span>
<span class="err">response</span> <span class="m">12</span>
    <span class="err">title=</span><span class="s">&quot;user-defined response, value/function pairs&quot;</span>
    <span class="err">photon</span>
    <span class="err">bounds</span>  <span class="m">1</span><span class="err">e</span><span class="m">5</span> <span class="m">2</span><span class="err">e</span><span class="m">6</span> <span class="m">4</span><span class="err">e</span><span class="m">6</span> <span class="m">6</span><span class="err">e</span><span class="m">6</span> <span class="m">8</span><span class="err">e</span><span class="m">6</span> <span class="m">1</span><span class="err">e</span><span class="m">7</span> <span class="n">end</span>
    <span class="err">values</span> <span class="m">0</span><span class="err">.</span><span class="m">01</span> <span class="m">0</span><span class="err">.</span><span class="m">2</span> <span class="m">0</span><span class="err">.</span><span class="m">4</span> <span class="m">0</span><span class="err">.</span><span class="m">6</span> <span class="m">0</span><span class="err">.</span><span class="m">8</span> <span class="m">1</span><span class="err">.</span><span class="m">0</span> <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">response</span>
</pre></div>
</div>
<p>are shown in <a class="reference internal" href="#fig8-4"><span class="std std-numref">Fig. 194</span></a> and <a class="reference internal" href="#fig8-5"><span class="std std-numref">Fig. 195</span></a>.</p>
<div class="figure align-center" id="id26">
<span id="fig8-4"></span><a class="reference internal image-reference" href="_images/8-4.png"><img alt="_images/8-4.png" src="_images/8-4.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-number">Fig. 194 </span><span class="caption-text">Histogram-type response.</span><a class="headerlink" href="#id26" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id27">
<span id="fig8-5"></span><a class="reference internal image-reference" href="_images/8-5.png"><img alt="_images/8-5.png" src="_images/8-5.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-number">Fig. 195 </span><span class="caption-text">Value/function pair response.</span><a class="headerlink" href="#id27" title="Permalink to this image">¶</a></p>
</div>
</dd>
<dt>Type 2.</dt><dd><p>Data from the cross-section library can also be used to define a
response, for example in finding reaction rates. For the cross section
(with units of barns) for a single isotope, the user specifies a
material/ZAID/MT combination. The keyword “macro” can be used to
multiply the cross section by the atom density of the ZAID in the
material (which converts the units of the response from barns to /cm).
Users can also specify just the material and MT numbers, to produce the
macroscopic cross section of reaction MT for the entire material (with
units of /cm). A partial list of common MT numbers is shown in Table
F23.3.2 (the full list is in XSECLIB M04, Appendix B). To match some
other sequences in SCALE, users can also use text strings to specify the
ZAID and MT by using keywords “nuclide=” (for example, nuclide=U-235)
and “reaction=” (for example reaction=fission). If the user requested a
microscopic cross section response for a reaction in a CE problem, the
response will be generated for the nuclide from the AMPX CE libraries
even if the nuclide itself is not included in any of the material
definitions in the problem. Available reaction lists depend on the
nuclide and the list will be printed as a warning message in the output
if a non-existing reaction is requested.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">composition</span>
    <span class="err">uo</span><span class="m">2</span> <span class="m">7</span> <span class="m">1</span><span class="err">.</span><span class="m">0</span> <span class="m">293</span><span class="err">.</span><span class="m">0</span> <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">composition</span>
<span class="err">…</span>
<span class="n">read</span><span class="err"> </span><span class="n">definitions</span>
    <span class="err">response</span> <span class="m">41</span>
        <span class="err">title=”get</span> <span class="err">the</span> <span class="err">microscopic</span> <span class="err">(b)</span> <span class="err">for</span> <span class="m">235</span><span class="err">”</span>
        <span class="err">neutron</span>
        <span class="err">material=</span><span class="m">7</span> <span class="err">ZAID=</span><span class="m">92235</span> <span class="err">MT=</span><span class="m">18</span>
    <span class="n">end</span><span class="err"> </span><span class="n">response</span>
    <span class="err">response</span> <span class="m">43</span>
        <span class="err">title=”get</span> <span class="err">the</span> <span class="err">macroscopic</span> <span class="err">(/cm)</span> <span class="err">for</span> <span class="m">235</span><span class="err">”</span>
        <span class="err">neutron</span>
        <span class="err">material=</span><span class="m">7</span> <span class="err">ZAID=</span><span class="m">92235</span> <span class="err">MT=</span><span class="m">18</span>
        <span class="err">macro</span>
    <span class="n">end</span><span class="err"> </span><span class="n">response</span>
    <span class="err">response</span> <span class="m">45</span>
        <span class="err">title=”get</span> <span class="err">the</span> <span class="err">macroscopic</span> <span class="err">(/cm)</span> <span class="err">for</span> <span class="err">UO_</span><span class="m">2</span> <span class="err">(</span><span class="m">234</span><span class="err">,</span> <span class="m">235</span><span class="err">,</span> <span class="m">238</span><span class="err">)”</span>
        <span class="err">neutron</span>
        <span class="err">material=</span><span class="m">7</span> <span class="err">MT=</span><span class="m">18</span>
    <span class="n">end</span><span class="err"> </span><span class="n">response</span>
<span class="n">end</span><span class="err"> </span><span class="n">definitions</span>
</pre></div>
</div>
<p>For the examples above, response 41 is shown in <a class="reference internal" href="#fig8-6"><span class="std std-numref">Fig. 196</span></a>. and
<a class="reference internal" href="#fig8-7"><span class="std std-numref">Fig. 197</span></a>. for both MULTIGROUP and CE.</p>
<table class="docutils align-center" id="tab8-4">
<caption><span class="caption-number">Table 257 </span><span class="caption-text">Common MT (reaction) numbers for responses</span><a class="headerlink" href="#tab8-4" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><img alt="_images/tab8-4.png" src="_images/tab8-4.png" />
</td>
</tr>
</tbody>
</table>
<div class="figure align-center" id="id28">
<span id="fig8-6"></span><a class="reference internal image-reference" href="_images/8-6.png"><img alt="_images/8-6.png" src="_images/8-6.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-number">Fig. 196 </span><span class="caption-text">Multigroup <sup>235</sup>U total fission cross section.</span><a class="headerlink" href="#id28" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id29">
<span id="fig8-7"></span><a class="reference internal image-reference" href="_images/8-7.png"><img alt="_images/8-7.png" src="_images/8-7.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-number">Fig. 197 </span><span class="caption-text">CE <sup>235</sup>U total fission cross section.</span><a class="headerlink" href="#id29" title="Permalink to this image">¶</a></p>
</div>
</dd>
</dl>
</div></blockquote>
<dl>
<dt>Type 3.</dt><dd><p>Flux-to-dose conversion factors are a little different in
multigroup and continuous-energy implementations. The AMPX multigroup
shielding libraries contain neutron and photon dose responses from
several sources. These have been processed by the AMPX system (the
jergens module). To form the multigroup values for the libraries, the
original data was extrapolated to cover the entire energy range of the
shielding libraries and was then collapsed into the group structures
using a weighting spectrum. These dose responses can be accessed through
Monaco/MAVRIC by defining a response object that uses the keyword
“specialDose=” and then providing the MT number of the particular
response. The dose responses available in the shielding libraries in are
shown in <a class="reference internal" href="#tab8-5"><span class="std std-numref">Table 258</span></a>. Note that the coupled responses in SCALE 6.1 are
no longer used by Monaco, since responses are now defined to be either a
neutron response or a photon response. When using the “specialDose=”
keyword, the “neutron” or “photon” designation is ignored, since the
particle type is inherent with the MT number.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">definitions</span>
    <span class="err">response</span> <span class="m">1</span>
        <span class="err">specialDose=</span><span class="m">9031</span>
    <span class="n">end</span><span class="err"> </span><span class="n">response</span>
<span class="n">end</span><span class="err"> </span><span class="n">definitions</span>
</pre></div>
</div>
<table class="docutils align-center" id="tab8-5">
<caption><span class="caption-number">Table 258 </span><span class="caption-text">Flux-to-Dose conversion factor MT numbers</span><a class="headerlink" href="#tab8-5" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><img alt="_images/tab8-5.png" src="_images/tab8-5.png" />
</td>
</tr>
</tbody>
</table>
<p>The standard flux-to-dose conversion factors have not been made part of
the continuous-energy libraries. Routines have been added to the Monaco
code base to generate data points to allow users to define responses
based on the original references. Note that the responses in these
references were defined over different energy ranges, as shown in
<a class="reference internal" href="#tab8-6"><span class="std std-numref">Table 259</span></a>.</p>
<table class="docutils align-center" id="tab8-6" style="width: 70%">
<caption><span class="caption-number">Table 259 </span><span class="caption-text">Energy ranges of the original Flux-to-Dose responses</span><a class="headerlink" href="#tab8-6" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><img alt="_images/tab8-6.png" src="_images/tab8-6.png" />
</td>
</tr>
</tbody>
</table>
<p>The keyword “doseData=” can be used to create a response using the
original, point-wise data (except for Claiborne-Trubey where the
original data is a histogram). Data points are also extrapolated to
cover the energy range of 10<sup>-5</sup> to 2×10<sup>7</sup> eV for
neutrons and up to 20 MeV for photons. (The optional keyword
“noExtrapolation” can be used to get just the original data without the
extrapolations.) The final response is formed by interpolating (lin-lin)
between these points. For multigroup problems, these keywords will
collapse the original data (with or without extrapolation) into a
multigroup structure but without the weighting function used to create
the dose factors in the multigroup libraries. This will not match the
multigroup responses in the those libraries.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">definitions</span>
    <span class="err">response</span> <span class="m">1</span>
        <span class="err">doseData=</span><span class="m">9031</span>
    <span class="n">end</span><span class="err"> </span><span class="n">response</span>
    <span class="err">response</span> <span class="m">1</span>
        <span class="err">doseData=</span><span class="m">9031</span>  <span class="err">noExtrapolation</span>
    <span class="n">end</span><span class="err"> </span><span class="n">response</span>
<span class="n">end</span><span class="err"> </span><span class="n">definitions</span>
</pre></div>
</div>
<p>As an example of the various forms of a flux-to-dose conversion factor,
the ANSI 1991 values (MT=9031 and 9505) are shown in
<a class="reference internal" href="#fig8-8"><span class="std std-numref">Fig. 198</span></a> through <a class="reference internal" href="#fig8-11"><span class="std std-numref">Fig. 201</span></a>.</p>
<div class="figure align-center" id="id30">
<span id="fig8-8"></span><a class="reference internal image-reference" href="_images/8-8.png"><img alt="_images/8-8.png" src="_images/8-8.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-number">Fig. 198 </span><span class="caption-text">ANSI 1991 neutron CE (left is log-log, right is linear-linear)</span><a class="headerlink" href="#id30" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id31">
<span id="fig8-9"></span><a class="reference internal image-reference" href="_images/8-9.png"><img alt="_images/8-9.png" src="_images/8-9.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-number">Fig. 199 </span><span class="caption-text">ANSI 1991 neutron MULTIGROUP (left is log-log, right is linear-linear)</span><a class="headerlink" href="#id31" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id32">
<span id="fig8-10"></span><a class="reference internal image-reference" href="_images/8-10.png"><img alt="_images/8-10.png" src="_images/8-10.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-number">Fig. 200 </span><span class="caption-text">ANSI 1991 photon CE (left is log-log, right is linear-linear)</span><a class="headerlink" href="#id32" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id33">
<span id="fig8-11"></span><a class="reference internal image-reference" href="_images/8-11.png"><img alt="_images/8-11.png" src="_images/8-11.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-number">Fig. 201 </span><span class="caption-text">ANSI 1991 photon MULTIGROUP (left is log-log, right is linear-linear)</span><a class="headerlink" href="#id33" title="Permalink to this image">¶</a></p>
</div>
<p>The use of the “specialDose=” and “doseData=” keywords is summarized in
<a class="reference internal" href="#tab8-7"><span class="std std-numref">Table 260</span></a>. Users should understand that the only way to get the ‘true’
response described in the original references is to use the “doseData=”
and “noExtrapolation” keywords. The traditional approach in SCALE has
been to extrapolate the original data over the entire energy range of
the problem, yielding higher dose rates than the ‘true’ response would.</p>
<table class="docutils align-center" id="tab8-7">
<caption><span class="caption-number">Table 260 </span><span class="caption-text">Use of the “specialDose=” and “doseData=” keywords.</span><a class="headerlink" href="#tab8-7" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><img alt="_images/tab8-7.png" src="_images/tab8-7.png" />
</td>
</tr>
</tbody>
</table>
</dd>
<dt>Type 4.</dt><dd><p>For multigroup calculations, since the energy structure is
already known, a response can be defined by listing just the values for
each group using the keyword “values … end”. The array length of this
type of response should match the number of energy groups for that
particle type in the cross-section library. Values should be entered in
the standard multigroup order – from high energy to low energy. The
shortcut keyword “unity” places a value of 1.0 as the response for each
group.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="err">response</span> <span class="m">19</span>
    <span class="err">title=</span><span class="s">&quot;Total Photon Dose at Each Detector Point Location (ANSI 9504)&quot;</span>
    <span class="err">photon</span>
    <span class="err">values</span>                         <span class="m">1</span><span class="err">.</span><span class="m">16200</span><span class="err">E-</span><span class="m">05</span>  <span class="m">8</span><span class="err">.</span><span class="m">74457</span><span class="err">E-</span><span class="m">06  7.45967E-06</span>
         <span class="m">6</span><span class="err">.</span><span class="m">35058</span><span class="err">E-</span><span class="m">06</span>  <span class="m">5</span><span class="err">.</span><span class="m">39949</span><span class="err">E-</span><span class="m">06</span>  <span class="m">4</span><span class="err">.</span><span class="m">60165</span><span class="err">E-</span><span class="m">06</span>  <span class="m">3</span><span class="err">.</span><span class="m">95227</span><span class="err">E-</span><span class="m">06  3.45885E-06</span>
         <span class="m">3</span><span class="err">.</span><span class="m">01309</span><span class="err">E-</span><span class="m">06</span>  <span class="m">2</span><span class="err">.</span><span class="m">62001</span><span class="err">E-</span><span class="m">06</span>  <span class="m">2</span><span class="err">.</span><span class="m">19445</span><span class="err">E-</span><span class="m">06</span>  <span class="m">1</span><span class="err">.</span><span class="m">82696</span><span class="err">E-</span><span class="m">06  1.51490E-06</span>
         <span class="m">1</span><span class="err">.</span><span class="m">15954</span><span class="err">E-</span><span class="m">06</span>  <span class="m">8</span><span class="err">.</span><span class="m">70450</span><span class="err">E-</span><span class="m">07</span>  <span class="m">6</span><span class="err">.</span><span class="m">21874</span><span class="err">E-</span><span class="m">07</span>  <span class="m">3</span><span class="err">.</span><span class="m">70808</span><span class="err">E-</span><span class="m">07  2.68778E-07</span>
         <span class="m">5</span><span class="err">.</span><span class="m">93272</span><span class="err">E-</span><span class="m">07</span>  <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">response</span>
<span class="err">response</span> <span class="m">4</span>
     <span class="err">title=”total</span> <span class="err">photon</span> <span class="err">flux</span> <span class="err">above</span> <span class="m">1</span> <span class="err">MeV,</span> <span class="err">photons/(/cm</span><span class="m">2</span><span class="err">/sec)”</span>
     <span class="err">photon</span>
     <span class="err">values</span> <span class="m">11</span><span class="err">r</span><span class="m">1</span><span class="err">.</span><span class="m">0</span>  <span class="m">8</span><span class="err">r</span><span class="m">0</span><span class="err">.</span><span class="m">0</span> <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">response</span>
<span class="err">response</span> <span class="m">99</span>
     <span class="err">title=”put</span> <span class="err">a</span> <span class="m">1</span> <span class="err">in</span> <span class="err">every</span> <span class="err">group”</span>
     <span class="err">neutron</span>
     <span class="err">unity</span>
<span class="n">end</span><span class="err"> </span><span class="n">response</span>
</pre></div>
</div>
<p>The different response types all share some optional keywords. The
keyword “makeChart” can be used to produce a *.chart file (called
‘<em>outputName</em>.resp<em>id</em>.chart’) so that the response can be plotted
with the ChartPlot 2D plotter. To create files for every response, use
the keyword “makeCharts” inside the definitions block but outside any
particular response definition. The keyword “multiplier=” can be used
with any type of response, which is useful for things such as units
conversions. Multiple uses of the “multiplier=” keyword within one
response definition will apply the product of all multipliers to that
response. Using the keyword “multiplier=” in the definitions block but
outside any particular response will apply that multiplier to all
responses. Keywords “eHigh=” and “eLow=” can be used to only keep the
response values in a range between eHigh and eLow (both in eV). The
keyword “lessOutput” can be used to suppress response data echoing in
the output file and minimize output file size particularly for CE
responses that can have fine point-wise data. It will cause to print
only the first five and the last five points of the data if the number
of bins is greater than twenty for binned histogram and value/function
pairs type of responses.</p>
<p>The original flux-to-dose conversion factor references that were
incorporated into Monaco are:</p>
<blockquote>
<div><ul class="simple">
<li><p>ANSI/ANS-6.1.1-1977 (N666) “American National Standard Neutron and
Gamma-Ray Flux-to-Dose-Rate Factors,” Prepared by the American Nuclear
Society Standards Committee Working Group ANS-6.1.1, Published by the
American Nuclear Society, 555 North Kensington Avenue LaGrange Park,
Illinois 60525, Approved March 17, 1977 by the American National
Standards Institute, Inc.</p></li>
<li><p>ANSI/ANS·6.1.1-1991, “American National Standard for Neutron and
Gamma-Ray Fluence-to-Dose Factors,” Prepared by the American Nuclear
Society Standards Committee Working Group ANS-6.1.1, Published by the
American Nuclear Society, 555 North Kensington Avenue LaGrange Park,
Illinois 60525 USA, Approved August 26, 1991 by the American National
Standards Institute, Inc.</p></li>
<li><p>H. C. Claiborne and D. K. Trubey, “Dose Rates in a Slab Phantom from
Monoenergetic Gamma Rays,” <em>Nuclear Applications &amp; Technology</em>, Vol. 8,
May 1970.</p></li>
<li><p>B. J. Henderson, “Conversion of Neutron or Gamma Ray Flux to Absorbed
Dose Rate,” ORNL Report No. XDC-59-8-179, August 14, 1959.</p></li>
<li><p>International Commission of Radiation Units and Measurements, <em>ICRU
Report 44: Tissue Substitutes in Radiation Dosimetry and Measurement</em>,
Bethesda, MD, 1989.</p></li>
<li><p>International Commission of Radiation Units and Measurements, <em>ICRU
Report 57: Conversion Coefficients for use in Radiological Protection
Against External Radiation</em>, Bethesda, MD, August 1, 1998.</p></li>
</ul>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="grid-geometries">
<h4>Grid geometries<a class="headerlink" href="#grid-geometries" title="Permalink to this headline">¶</a></h4>
<p>Grid geometries (“gridGeometry”) require an identification number and
then a description of a 3‑D rectangular mesh by specifying the bounding
planes of the cells in each of the <em>x</em>, <em>y</em>, and <em>z</em> dimensions. The
keyword “xplanes … end” can be used to list plane values (in any order).
The keyword “xLinear <em>n</em> <em>a</em> <em>b</em>” can be used to specify <em>n</em> cells
between <em>a</em> and <em>b</em>. The keywords “xplanes” and “xLinear” can be used
together and multiple times – they will simply add planes to any already
defined for that dimension. Any duplicate planes will be removed.
Similar keywords are used for the <em>y</em>- and <em>z</em>-dimensions.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="err">gridGeometry</span> <span class="m">3</span>
    <span class="err">title=</span><span class="s">&quot;Boring uniform grid&quot;</span>
    <span class="err">xLinear</span> <span class="m">10</span> <span class="err">-</span><span class="m">100</span> <span class="m">100</span>
    <span class="err">yLinear</span> <span class="m">10</span> <span class="err">-</span><span class="m">100</span> <span class="m">100</span>
    <span class="err">zLinear</span> <span class="m">10</span> <span class="err">-</span><span class="m">100</span> <span class="m">100</span>
<span class="n">end</span><span class="err"> </span><span class="n">gridGeometry</span>
<span class="err">gridGeometry</span> <span class="m">2</span>
    <span class="err">xplanes</span> <span class="err">-</span><span class="m">100</span><span class="err">.</span><span class="m">0</span> <span class="err">-</span><span class="m">90</span><span class="err">.</span><span class="m">0</span> <span class="err">-</span><span class="m">99</span><span class="err">.</span><span class="m">0</span> <span class="err">-</span><span class="m">95</span><span class="err">.</span><span class="m">0</span> <span class="n">end</span>
    <span class="err">xLinear</span>  <span class="m">9</span> <span class="err">-</span><span class="m">90</span><span class="err">.</span><span class="m">0</span>  <span class="m">0</span><span class="err">.</span><span class="m">0</span>
    <span class="err">xLinear</span> <span class="m">18</span>   <span class="m">0</span><span class="err">.</span><span class="m">0</span> <span class="m">90</span><span class="err">.</span><span class="m">0</span>
    <span class="err">xplanes</span> <span class="m">95</span><span class="err">.</span><span class="m">0</span> <span class="m">100</span><span class="err">.</span><span class="m">0</span> <span class="m">99</span><span class="err">.</span><span class="m">0</span>  <span class="n">end</span>
    <span class="err">yLinear</span> <span class="m">20</span>  <span class="m">100</span><span class="err">.</span><span class="m">0</span> <span class="err">-</span><span class="m">100</span><span class="err">.</span><span class="m">0</span>
    <span class="err">zLinear</span> <span class="m">40</span>  <span class="m">100</span><span class="err">.</span><span class="m">0</span> <span class="err">-</span><span class="m">100</span><span class="err">.</span><span class="m">0</span>
<span class="n">end</span><span class="err"> </span><span class="n">gridGeometry</span>
</pre></div>
</div>
<p>When using multiple instances of the keyword *Linear and *planes for a
given dimension, duplicates should be removed from the final list. In
some cases, double precision math will leave two planes that are nearly
identical but not removed (for example: 6.0 and 5.9999999). To prevent
this, a default tolerance is set to remove planes that are within
10<sup>-6</sup> cm of each other. The user is free to change this by using
the keyword “tolerance=” and specifying something else. Note that the
tolerance can be reset to a different value in between each use of
*Linear or *planes.</p>
<p>The keyword “make3dmap” for a particular grid geometry definition will
create a file called ‘<em>outputName</em>.grid<em>id</em>.3dmap’ which can be
visualized using the Java Mesh File Viewer. Using the keyword
“make3dmaps” in the definitions block but outside any particular
gridGeometry definition will create a geometry file for each
gridGeometry defined.</p>
</div>
<div class="section" id="cylindrical-mesh-geometries">
<h4>Cylindrical mesh geometries<a class="headerlink" href="#cylindrical-mesh-geometries" title="Permalink to this headline">¶</a></h4>
<p>Cylindrical geometries (“cylGeometry”) require an identification number
and then a description of a 3‑D cylindrical mesh by specifying the
bounding planes of the cells in each of the <em>r</em>, <em>θ</em>, and
<em>z</em> dimensions. The keywords “radii … end”, “thetas … end”, and “zplanes
… end” can be used to list the plane values in any order. The keywords
“radiusLinear <em>n</em> <em>a</em> <em>b</em>”, “thetaLinear <em>n</em> <em>a</em> <em>b</em>”, and “zLinear
<em>n</em> <em>a</em> <em>b</em>” can be used to specify <em>n</em> cells between <em>a</em> and <em>b</em>.
Note that the keywords “thetas” and “thetaLinear” expect values between
0 and 2π. For entering values between 0 and 360°, use the keywords
“degrees” and “degreeLinear” instead. The keywords for each dimension
can be used together and multiple times – they will simply add planes to
any already defined for that dimension. Any duplicate planes will be
removed.</p>
<p>Cylindrical meshes are oriented along the positive z-axis by default. To
change this, the user can specify the axis of the cylinder using the
keyword “zaxis <em>u v w</em>” and specify the perpendicular direction where
<em>θ</em> =0 using “xaxis <em>u v w</em>”. To change the base position of the
cylinder, use the keyword “position <em>x y z</em>”. Some examples of
cylindrical mesh geometries include:</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="err">cylGeometry</span> <span class="m">12</span>
    <span class="err">radiusLinear</span> <span class="m">20</span> <span class="m">100</span><span class="err">.</span><span class="m">0</span> <span class="m">168</span><span class="err">.</span><span class="m">0</span>
    <span class="err">radiusLinear</span> <span class="m">10</span> <span class="m">168</span><span class="err">.</span><span class="m">0</span> <span class="m">368</span><span class="err">.</span><span class="m">0</span>
    <span class="err">degreeLinear</span> <span class="m">12</span> <span class="m">0</span> <span class="m">360</span>
    <span class="err">zLinear</span> <span class="m">25</span> <span class="m">255</span><span class="err">.</span><span class="m">2</span> <span class="err">-</span><span class="m">255</span><span class="err">.</span><span class="m">2</span>
    <span class="err">zPlanes</span>  <span class="err">-</span><span class="m">45</span><span class="err">.</span><span class="m">0</span> <span class="err">-</span><span class="m">40</span><span class="err">.</span> <span class="err">-</span><span class="m">35</span><span class="err">.</span><span class="m">0</span> <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">cylGeometry</span>
<span class="err">cylGeometry</span> <span class="m">13</span>
    <span class="err">title=</span><span class="s">&quot;degenerate: only one angular bin&quot;</span>
    <span class="err">radiusLinear</span> <span class="m">10</span> <span class="m">168</span><span class="err">.</span><span class="m">0</span> <span class="m">368</span><span class="err">.</span><span class="m">0</span>
    <span class="err">thetaLinear</span>  <span class="m">1</span> <span class="m">0</span><span class="err">.</span><span class="m">0</span> <span class="m">6</span><span class="err">.</span><span class="m">2831853</span>
    <span class="err">zLinear</span> <span class="m">25</span> <span class="m">255</span><span class="err">.</span><span class="m">2</span> <span class="err">-</span><span class="m">255</span><span class="err">.</span><span class="m">2</span>
<span class="n">end</span><span class="err"> </span><span class="n">cylGeometry</span>
<span class="err">cylGeometry</span> <span class="m">14</span>
    <span class="err">title=</span><span class="s">&quot;degenerate: emulate surface tally over partial angle range&quot;</span>
    <span class="err">radiusLinear</span> <span class="m">1</span> <span class="m">367</span><span class="err">.</span><span class="m">5</span> <span class="m">368</span><span class="err">.</span><span class="m">5</span>
    <span class="err">degreeLinear</span> <span class="m">1</span> <span class="m">45</span> <span class="m">135</span>
    <span class="err">zLinear</span> <span class="m">25</span> <span class="m">255</span><span class="err">.</span><span class="m">2</span> <span class="err">-</span><span class="m">255</span><span class="err">.</span><span class="m">2</span>
    <span class="err">zaxis</span> <span class="m">0</span> <span class="m">0</span> <span class="m">1</span>
    <span class="err">xaxis</span> <span class="m">0</span> <span class="err">-</span><span class="m">1</span> <span class="m">0</span>
 <span class="n">end</span><span class="err"> </span><span class="n">cylGeometry</span>
</pre></div>
</div>
<p>Similar to the grid geometries, the user can use the keyword
“tolerance=” to specify how close duplicate planes can be when being
considered for removal. The keyword “makeCylMap” for a particular
cylindrical geometry definition will create a file called
‘<em>outputName</em>.cyl<em>id</em>.3dmap’ which can be visualized using the Java
Mesh File Viewer. Using the keyword “makeCylMaps” in the definitions
block but outside any particular gridGeometry definition will create a
geometry file for each gridGeometry defined. The Mesh File Viewer is
written for rectilinear geometries and will not display circles. The
only view that works in the Mesh File Viewer for cylindrical meshes is
the <em>x</em>-<em>z</em> view, which will correctly show an <em>r</em>-<em>z</em> slice. The slider
(marked “<em>y</em>”) will control which <em>θ</em> value to display (from 0 to
2π).</p>
<p>Cylindrical meshes can only be used for tallies. They cannot be used for
making mesh sources or for any importance calculations in MAVRIC.</p>
</div>
<div class="section" id="id5">
<h4>Distributions<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<p>Distributions (“distribution”) require an identification number and
several other keywords depending on the type of distribution. For a
binned histogram distribution over <em>n</em> intervals, the keyword “abscissa
… end” is used to list the <span class="math notranslate nohighlight">\(n + 1\)</span> bin boundaries and the keyword
“truePDF … end” is used to list the <span class="math notranslate nohighlight">\(n\)</span> values of the pdf
integrated over those bins. For a pdf defined using a series of
evaluated points over <span class="math notranslate nohighlight">\(n\)</span> intervals, use the keywords “abscissa …
end” and “truePDF … end” listing the <span class="math notranslate nohighlight">\(n + 1\)</span> values for each. The
“truePDF” values should be the value of the pdf evaluated at the
corresponding point in the abscissa array. The abscissa array should
either be in increasing order or decreasing order – monotonic either way
– with the truePDF array ordered accordingly.</p>
<p>For either the binned histogram or the value/function point pairs
distributions, biasing can also be specified for a given distribution
using the “biasedPDF … end” keyword, the “weight … end” keyword, or the
“importance … end” keyword, with a length that matches the truePDF
array. Weights specify the suggested sampling weights for particles and
importances specify the suggested importance. For biasing, the user only
needs to specify just one of “biasedPDF”, “weight” or “importance”. The
other arrays will be computed by Monaco.</p>
<p>For discrete distributions (such as gamma line sources), use the keyword
“discrete … end” to list the discrete abscissa values and use the
keyword “truePDF … end” to list the probabilities. The “biasedPDF …
end”, “trueCDF … end”, and “biasedCDF … end” keywords can also be used.
Each array should have the same length – the number of discrete lines.</p>
<p>To visualize a distribution, add the keyword “runSampleTest” and a
*.chart file will be produced showing the true pdf, the pdf used for
sampling (the biased pdf) and the results of a sampling test using
10<sup>6</sup> samples. The file will be named using the output name of
the SCALE job and the distribution identification number
‘<em>outputName</em>.dist<em>id</em>.chart’ and can be viewed with the ChartPlot
2D Interactive Plotter. To perform a sampling test and create a *.chart
file for all of the distributions in the definitions block, use the
keyword “runSampleTests” inside the definitions block but outside any
particular distribution.</p>
<p>Some example distribution inputs are listed below and shown in
<a class="reference internal" href="#fig8-12"><span class="std std-numref">Fig. 202</span></a>.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="err">distribution</span> <span class="m">11</span>
   <span class="err">title=</span><span class="s">&quot;a binned histogram&quot;</span>
   <span class="err">abscissa</span> <span class="err">-</span><span class="m">5</span> <span class="err">-</span><span class="m">4</span> <span class="err">-</span><span class="m">3</span> <span class="err">-</span><span class="m">2</span> <span class="err">-</span><span class="m">1</span> <span class="m">0</span> <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span> <span class="n">end</span>
   <span class="err">truePDF</span>   <span class="m">1</span>  <span class="m">2</span>  <span class="m">3</span>  <span class="m">4</span>  <span class="m">5</span> <span class="m">4</span> <span class="m">3</span> <span class="m">2</span> <span class="m">2</span> <span class="m">2</span>   <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">distribution</span>
<span class="err">distribution</span> <span class="m">12</span>
   <span class="err">title=</span><span class="s">&quot;value/function pairs&quot;</span>
   <span class="err">abscissa</span>   <span class="err">-</span><span class="m">5</span> <span class="err">-</span><span class="m">4</span> <span class="err">-</span><span class="m">3</span> <span class="err">-</span><span class="m">2</span> <span class="err">-</span><span class="m">1</span> <span class="m">0</span> <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span>  <span class="n">end</span>
   <span class="err">truePDF</span>     <span class="m">0</span>  <span class="m">1</span>  <span class="m">2</span>  <span class="m">3</span>  <span class="m">4</span> <span class="m">5</span> <span class="m">4</span> <span class="m">3</span> <span class="m">2</span> <span class="m">2</span> <span class="m">2</span>  <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">distribution</span>
<span class="err">distribution</span> <span class="m">21</span>
   <span class="err">title=</span><span class="s">&quot;a binned histogram with biasing&quot;</span>
   <span class="err">abscissa</span> <span class="err">-</span><span class="m">5</span> <span class="err">-</span><span class="m">4</span> <span class="err">-</span><span class="m">3</span> <span class="err">-</span><span class="m">2</span> <span class="err">-</span><span class="m">1</span> <span class="m">0</span> <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span> <span class="n">end</span>
   <span class="err">truePDF</span>   <span class="m">1</span>  <span class="m">2</span>  <span class="m">3</span>  <span class="m">4</span>  <span class="m">5</span> <span class="m">4</span> <span class="m">3</span> <span class="m">2</span> <span class="m">2</span> <span class="m">2</span>   <span class="n">end</span>
   <span class="err">biasedPDF</span> <span class="m">3</span>  <span class="m">2</span>  <span class="m">1</span>  <span class="m">1</span>  <span class="m">1</span> <span class="m">1</span> <span class="m">1</span> <span class="m">2</span> <span class="m">2</span> <span class="m">2</span>   <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">distribution</span>
<span class="err">distribution</span> <span class="m">22</span>
   <span class="err">title=</span><span class="s">&quot;value/function pairs with importances&quot;</span>
   <span class="err">abscissa</span>   <span class="err">-</span><span class="m">5</span> <span class="err">-</span><span class="m">4</span> <span class="err">-</span><span class="m">3</span> <span class="err">-</span><span class="m">2</span> <span class="err">-</span><span class="m">1</span> <span class="m">0</span> <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span>  <span class="n">end</span>
   <span class="err">truePDF</span>     <span class="m">0</span>  <span class="m">1</span>  <span class="m">2</span>  <span class="m">3</span>  <span class="m">4</span> <span class="m">5</span> <span class="m">4</span> <span class="m">3</span> <span class="m">2</span> <span class="m">2</span> <span class="m">2</span>  <span class="n">end</span>
   <span class="err">importance</span>  <span class="m">4</span>  <span class="m">3</span>  <span class="m">2</span>  <span class="m">1</span>  <span class="m">1</span> <span class="m">1</span> <span class="m">1</span> <span class="m">1</span> <span class="m">2</span> <span class="m">2</span> <span class="m">2</span>  <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">distribution</span>
<span class="err">distribution</span> <span class="m">31</span>
   <span class="err">title=</span><span class="s">&quot;a binned histogram using CDF&#39;s&quot;</span>
   <span class="err">abscissa</span> <span class="err">-</span><span class="m">5</span> <span class="err">-</span><span class="m">4</span> <span class="err">-</span><span class="m">3</span> <span class="err">-</span><span class="m">2</span> <span class="err">-</span><span class="m">1</span>  <span class="m">0</span>  <span class="m">1</span>  <span class="m">2</span>  <span class="m">3</span>  <span class="m">4</span> <span class="m">5</span> <span class="n">end</span>
   <span class="err">trueCDF</span>   <span class="m">1</span>  <span class="m">3</span>  <span class="m">6</span> <span class="m">10</span> <span class="m">15</span> <span class="m">19</span> <span class="m">22</span> <span class="m">24</span> <span class="m">26</span> <span class="m">28</span>   <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">distribution</span>
<span class="err">distribution</span> <span class="m">32</span>
   <span class="err">title=</span><span class="s">&quot;a binned histogram with biasing using CDF&#39;s&quot;</span>
   <span class="err">abscissa</span> <span class="err">-</span><span class="m">5</span> <span class="err">-</span><span class="m">4</span> <span class="err">-</span><span class="m">3</span> <span class="err">-</span><span class="m">2</span> <span class="err">-</span><span class="m">1</span>  <span class="m">0</span>  <span class="m">1</span>  <span class="m">2</span>  <span class="m">3</span>  <span class="m">4</span> <span class="m">5</span> <span class="n">end</span>
   <span class="err">trueCDF</span>   <span class="m">1</span>  <span class="m">3</span>  <span class="m">6</span> <span class="m">10</span> <span class="m">15</span> <span class="m">19</span> <span class="m">22</span> <span class="m">24</span> <span class="m">26</span> <span class="m">28</span>   <span class="n">end</span>
   <span class="err">biasedPDF</span> <span class="m">3</span>  <span class="m">5</span>  <span class="m">6</span>  <span class="m">7</span>  <span class="m">8</span>  <span class="m">9</span> <span class="m">10</span> <span class="m">12</span> <span class="m">14</span> <span class="m">16</span>   <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">distribution</span>
</pre></div>
</div>
<p>Other notes on distributions:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Binned histogram distributions can also be specified using cdf’s
(keywords “trueCDF” and “biasedCDF”).</p></li>
<li><p>For distributions that will be used for source energy sampling, use
abscissa values of eV.</p></li>
<li><p>For multigroup calculations using histograms, the keywords
“neutronGroups” or “photonGroups” can be used instead of specifying
the abscissa values. In this case, be sure to list the binned pdf
values in order from the highest energy group to the lowest energy
group.</p></li>
<li><p>For CE calculations, instead of specifying abscissa values, the bin
boundaries of an energyBounds object (see next section) can be
specified using “energyBoundsID=”.</p></li>
</ol>
</div></blockquote>
<div class="figure align-center" id="id34">
<span id="fig8-12"></span><a class="reference internal image-reference" href="_images/8-12.png"><img alt="_images/8-12.png" src="_images/8-12.png" style="width: 90%;" /></a>
<p class="caption"><span class="caption-number">Fig. 202 </span><span class="caption-text">Sampling tests for the distribution examples.</span><a class="headerlink" href="#id34" title="Permalink to this image">¶</a></p>
</div>
<p>Several special (built-in) distributions are available in Monaco. To use
one of these, specify the keyword “special=” with a distribution name in
quotes and the keyword “parameters … end” (if required) for that type of
distribution. These special distributions are summarized in Table 8.2.8.</p>
<p>The Watt spectrum has the form</p>
<div class="math notranslate nohighlight" id="equation-monaco-18">
<span class="eqno">(393)<a class="headerlink" href="#equation-monaco-18" title="Permalink to this equation">¶</a></span>\[p(E) = ce^{-E/a} \text{sinh}(\sqrt{bE})\]</div>
<p>with the parameters <em>a</em> and <em>b</em> (with <em>c</em> as a normalization constant).
For spontaneous fission of <sup>252</sup>Cf, values typically used are
<em>a</em>=1.025 MeV and <em>b</em>=2.926/MeV. For thermal fission of
<sup>235</sup>U, the parameters are <em>a</em>=1.028 MeV and <em>b</em>=2.249/MeV.
For induced fission, the parameters <em>a</em> and <em>b</em> are, in general,
functions of incident neutron energy. See Table 8.2.9 for an example.
The Watt spectrum distribution will be displayed in the *.chart plot as
a histogram distribution using the cross-section energy structure
neutron groups but when sampled in Monaco, the continuous Froehner and
Spencer<sup>1</sup> method is used to select an energy of source particles
using a Watt spectrum distribution.</p>
<p>with the parameters <em>a</em> and <em>b</em> (with <em>c</em> as a normalization constant).
For spontaneous fission of <sup>252</sup>Cf, values typically used are
<em>a</em>=1.025 MeV and <em>b</em>=2.926/MeV. For thermal fission of
<sup>235</sup>U, the parameters are <em>a</em>=1.028 MeV and <em>b</em>=2.249/MeV.
For induced fission, the parameters <em>a</em> and <em>b</em> are, in general,
functions of incident neutron energy. See Table 8.2.9 for an example.
The Watt spectrum distribution will be displayed in the *.chart plot as
a histogram distribution using the cross-section energy structure
neutron groups but when sampled in Monaco, the continuous Froehner and
Spencer<sup>1</sup> method is used to select an energy of source particles
using a Watt spectrum distribution.</p>
<span id="tab8-8"></span><table class="docutils align-center" id="id35">
<caption><span class="caption-number">Table 261 </span><span class="caption-text">Special (built-in) distributions</span><a class="headerlink" href="#id35" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Distribution</strong></p></th>
<th class="head"><p><strong>Parameters</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>“wattSpectrum”</p></td>
<td><p><em>a</em> <em>b n</em></p></td>
<td><p>Watt spectrum
distribution. Units
are: <em>a</em> in MeV, <em>b</em>
in /MeV. Optional
parameter <em>n</em>
specifies how many
subintervals in each
neutron group to use
in integrating the
pdf (default 100) for
the histogram
representation in the
sampling test and
mesh source
representation.</p></td>
</tr>
<tr class="row-odd"><td><p>“fissionNeutrons”</p></td>
<td><p><em>m ZAID</em></p></td>
<td><p>Spectrum of fission
neutrons from the
MULTIGROUP
cross-section library
for material <em>m</em> and
nuclide <em>ZAID</em>.</p></td>
</tr>
<tr class="row-even"><td><p>“fissionPhotons”</p></td>
<td><p><em>ZAID</em></p></td>
<td><p>Spectrum of fission
photons from nuclide
<em>ZAID</em>.</p></td>
</tr>
<tr class="row-odd"><td><p>“origensBinaryConcent
rationFile”</p></td>
<td><p><em>c s</em></p></td>
<td><p>Spectrum from an
ORIGEN-S binary
concentration file
case number <em>c</em>,
spectra type <em>s</em>.
For the spectra type
<em>s</em>, values are:  1 –
total neutron, 2 –
spontaneous fission,
3 – (α,n), and 4 –
delayed neutrons, 5 –
photons.  The
ORIGEN-S filename
should be supplied
with the keyword
filename= “…” and the
path/filename in
quotes.</p></td>
</tr>
<tr class="row-even"><td><p>“cosine”</p></td>
<td><p><em>n</em></p></td>
<td><p>Cosine function from
–π /2 to π/2.
Optional parameter
<em>n</em> (default 100) is
the number of
value/function pairs
to show in the
sampling test.</p></td>
</tr>
<tr class="row-odd"><td><p>“pwrNeutronAxialProfi
le”</p></td>
<td><p>none</p></td>
<td><p>Typical neutron PWR
axial profile.</p></td>
</tr>
<tr class="row-even"><td><p>“pwrGammaAxialProfile”</p></td>
<td><p>none</p></td>
<td><p>Typical gamma PWR
axial profile.</p></td>
</tr>
<tr class="row-odd"><td><p>“pwrNeutronAxialProfi
leReverse”</p></td>
<td><p>none</p></td>
<td><p>Typical neutron PWR
axial profile,
reversed top to
bottom.</p></td>
</tr>
<tr class="row-even"><td><p>“pwrGammaAxialProfile
Reverse”</p></td>
<td><p>none</p></td>
<td><p>Typical gamma PWR
axial profile,
reversed top to
bottom.</p></td>
</tr>
<tr class="row-odd"><td><p>“exponential”</p></td>
<td><p><em>a n</em></p></td>
<td><p>Exponential function
<em>eax</em> from -1 to 1.
Optional parameter
<em>n</em> (default 100) is
the number of
value/function pairs
to show in the
sampling test.</p></td>
</tr>
<tr class="row-even"><td><p>“origensDiscreteGammas”</p></td>
<td><p><em>z a m</em></p></td>
<td><p>Discrete gammas from
the ORIGEN mpdkxgam
database for isotope
of atomic number <em>z</em>,
mass <em>a</em> and
metastable state <em>m</em>.
(default is m=0)</p></td>
</tr>
</tbody>
</table>
<p>For the ORIGEN-S binary concentration sources, the ORIGEN input file
should be specified using the filename=“…” with the path/filename in
quotes. Note that the ORIGEN calculation has to be set to save the
neutron or photon data will be used as a Monaco distribution. This can
be done by specifying the number of photon or neutron groups on the 3$
(library integer constants) array and specifying the energy bin
boundaries on the 83* and 84* (group structure) arrays. In Monaco, to
show all of the cases in the binary concentration file, ask for case 0.
To show what data is available for a particular case, ask for that case
number and spectra type 0.</p>
<p>Other notes on special distributions: 1) Fission neutron distributions
use MT=1018 for the specified ZAID of the specified isotope from the
cross-section library. 2) Fission photon distributions are not read from
the cross-section file but are instead read from a separate file
containing only ENDF/B-VII.0 fission photon data. 3) The neutron and
photon axial profile distributions come from the SCALE 5.1 SAS4 manual,
Table S4.4.5. 4) Fission neutron distributions are not allowed in the CE
problems, users are advised to use “wattSpectum” in order to get a
similar distribution.</p>
<table class="docutils align-center" id="tab8-9">
<caption><span class="caption-number">Table 262 </span><span class="caption-text">Watt spectrum parameters for neutron induced fission of <sup>233</sup>U (From ENDF/B-VII.0)</span><a class="headerlink" href="#tab8-9" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><a class="reference internal image-reference" href="_images/tab8-9.png"><img alt="_images/tab8-9.png" src="_images/tab8-9.png" style="width: 300px;" /></a>
</td>
</tr>
</tbody>
</table>
<p>Some example special distribution inputs are listed below and shown in
<a class="reference internal" href="#fig8-13"><span class="std std-numref">Fig. 203</span></a>.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="err">distribution</span> <span class="m">11</span>
    <span class="err">special=</span><span class="s">&quot;wattSpectrum&quot;</span>
    <span class="err">parameters</span> <span class="m">1</span><span class="err">.</span><span class="m">0</span> <span class="m">3</span><span class="err">.</span><span class="m">0</span> <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">distribution</span>
<span class="err">distribution</span> <span class="m">12</span>
    <span class="err">special=</span><span class="s">&quot;fissionNeutrons&quot;</span>
    <span class="err">parameters</span> <span class="m">1</span> <span class="m">92235</span> <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">distribution</span>
<span class="err">distribution</span> <span class="m">21</span>
    <span class="err">special=</span><span class="s">&quot;fissionPhotons&quot;</span>
    <span class="err">parameters</span> <span class="m">94239</span> <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">distribution</span>
<span class="err">distribution</span> <span class="m">22</span>
    <span class="err">special=</span><span class="s">&quot;origensBinaryConcentrationFile&quot;</span>
    <span class="err">filename=</span><span class="s">&quot;c:\\path\somefile.f71&quot;</span>
    <span class="err">parameters</span> <span class="m">9</span> <span class="m">5</span> <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">distribution</span>
<span class="err">distribution</span> <span class="m">31</span>
    <span class="err">special=</span><span class="s">&quot;origensBinaryConcentrationFile&quot;</span>
    <span class="err">filename=</span><span class="s">&quot;c:\\path\somefile.f71&quot;</span>
    <span class="err">parameters</span> <span class="m">9</span> <span class="m">1</span> <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">distribution</span>
<span class="err">distribution</span> <span class="m">32</span>
    <span class="err">special=</span><span class="s">&quot;cosine&quot;</span>
    <span class="err">parameters</span> <span class="m">100</span> <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">distribution</span>
<span class="err">distribution</span> <span class="m">41</span>
    <span class="err">special=</span><span class="s">&quot;pwrNeutronAxialProfile&quot;</span>
<span class="n">end</span><span class="err"> </span><span class="n">distribution</span>
<span class="err">distribution</span> <span class="m">42</span>
    <span class="err">special=</span><span class="s">&quot;exponential&quot;</span>
    <span class="err">parameters</span> <span class="m">1</span><span class="err">.</span><span class="m">0</span> <span class="m">100</span> <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">distribution</span>
</pre></div>
</div>
<div class="figure align-center" id="id36">
<span id="fig8-13"></span><img alt="_images/8-13.png" src="_images/8-13.png" />
<p class="caption"><span class="caption-number">Fig. 203 </span><span class="caption-text">Sampling tests for the special (built-in) distribution examples.</span><a class="headerlink" href="#id36" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="energy-boundaries">
<h4>Energy boundaries<a class="headerlink" href="#energy-boundaries" title="Permalink to this headline">¶</a></h4>
<p>Energy boundaries (“energyBounds”) require an identification number and
a specification of a set of bin boundaries in energy (eV). Energy bounds
objects are typically used in CE calculations for specifying and energy
grid for tallies. The keyword “bounds … end” can be used to list energy
values (in eV, in any order). The keyword “linear <em>n</em> <em>a</em> <em>b</em>” can be
used to specify <em>n</em> bins between <em>a</em> and <em>b</em>. Likewise, the keyword
“logarithmic <em>n a b</em>” can be used for <span class="math notranslate nohighlight">\(n\)</span> bins logarithmically
spaced between <em>a</em> and <em>b</em>. The keywords “bounds”, “linear” and
“logarithmic” can be used together and multiple times – they will simply
add energy boundaries to any already defined. Any duplicate planes will
be removed using the absolute tolerance, specified with the keyword
“tolerance=”. To specify one of the more common SCALE energy structures
(handy for doing tallies one a standard structure in CE calculations),
one of the following shortcut keywords can be used: “252n”, “238n”,
“200n”, “56n”, “47p”, “44n”, “27n”, or “19p”.</p>
<p>These keywords will cause to load the energy structures from the MG
cross-section libraries aliased in the “FileNameAliases.txt” with names
of “xn252”, “xn238”, “xn200”, “xn56”, “xg47”, “xn44”, “xn27”, and “xg19”
relatively. If required energy structure is for neutrons and there is no
alias for MG cross-section library or the library is missing, MG JEFF
reaction data library will be searched as “n{NG}.reaction.data” to load
the energy structure. These can be used in combination with the other
keywords to use existing structures supplemented with extra boundaries.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="err">energyBounds</span> <span class="m">1</span>
    <span class="err">title=</span><span class="s">&quot;bounds command, check for duplicates&quot;</span>
    <span class="err">bounds</span> <span class="m">1</span> <span class="m">4</span> <span class="m">2</span> <span class="m">3</span> <span class="m">5</span> <span class="n">end</span>
    <span class="err">bounds</span> <span class="m">7</span> <span class="m">6</span> <span class="m">10</span> <span class="m">5</span> <span class="m">9</span> <span class="m">8</span> <span class="m">7</span> <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">energyBounds</span>
<span class="err">energyBounds</span> <span class="m">3</span>
    <span class="err">title=</span><span class="s">&quot;logarithmic command&quot;</span>
    <span class="err">logarithmic</span>  <span class="m">21</span>  <span class="m">1</span><span class="err">.</span><span class="m">0</span> <span class="m">10000000</span><span class="err">.</span><span class="m">0</span>
<span class="n">end</span><span class="err"> </span><span class="n">energyBounds</span>
<span class="err">energyBounds</span> <span class="m">11</span>
    <span class="err">title=</span><span class="s">&quot;SCALE 19 group photon structure with extras&quot;</span>
    <span class="m">19</span><span class="err">p</span>
    <span class="err">linear</span> <span class="m">10</span> <span class="m">6</span><span class="err">.</span><span class="m">0</span><span class="err">e</span><span class="m">6 7.0e6</span>
<span class="n">end</span><span class="err"> </span><span class="n">energyBounds</span>
</pre></div>
</div>
<p>An energyBounds object can also be used to set the energy bin boundaries
for a response (type1) instead of using the “bounds … end” keyword. This
is done by using with the keyword “energyBoundsID=” and referencing a
defined energyBounds object. Likewise for distributions, instead of
specifying the “abscissa … end” keyword and listing abscissa values, an
energyBounds object can be used. This allows the user to define a set of
energy bin boundaries once and re-use them across multiple responses and
definitions. When using the “energyBoundsID=” keyword, the data values
should be entered in the standard multigroup order – from high energy to
low energy. For a stand-alone multigroup Monaco calculation, do not use
ID numbers of 1 or 2 for energyBounds objects – these ID numbers are
reserved.</p>
</div>
<div class="section" id="time-boundaries">
<h4>Time boundaries<a class="headerlink" href="#time-boundaries" title="Permalink to this headline">¶</a></h4>
<p>Time boundaries (“timeBounds”) are similar to energy bin boundaries but
take values in seconds. These objects are only used in tallies in CE
calculations.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="err">timeBounds</span> <span class="m">2</span>
    <span class="err">title=</span><span class="s">&quot;linear command&quot;</span>
    <span class="err">linear</span> <span class="m">10</span> <span class="m">0</span><span class="err">.</span><span class="m">0 10.0e-3</span>
<span class="n">end</span><span class="err"> </span><span class="n">timeBounds</span>
<span class="err">timeBounds</span> <span class="m">7</span>
    <span class="err">title=</span><span class="s">&quot;logarithmic command&quot;</span>
    <span class="err">logarithmic</span>  <span class="m">6</span>  <span class="m">1</span><span class="err">.</span><span class="m">0</span><span class="err">e-</span><span class="m">6</span> <span class="m">1</span><span class="err">.</span><span class="m">0</span>
<span class="n">end</span><span class="err"> </span><span class="n">timeBounds</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="sources-block">
<h3>Sources block<a class="headerlink" href="#sources-block" title="Permalink to this headline">¶</a></h3>
<p>The sources block specifies what sources to use. Multiple sources are
allowed and each is sampled according to its strength, relative to the
total strength of all sources. Each source description must be contained
with a “src <em>id</em>” and an “end src” (where the <em>id</em> is the source
identification number). The sources block must contain at least one
source.</p>
<p>For each user-defined source, the user can specify the spatial
distribution, the energy distribution and the directional distribution
separately. Many options for each distribution are available and
defaults are used for most if the user does not specify anything. The
source strength is set using the keyword “strength=” and the type of
source is set using the keyword “neutron” or “photon”. The “strength=”
keyword is required for each source.</p>
<p>When using more than one source, the user can set the true strength of
each using the keyword “strength=” and can also specify how often to
sample each source using the keyword “biasedStrength=”. The true
strengths of the sources will be combined to form the true source
distribution PDF. The biased strengths of sources will be combined to
form a PDF from which to sample. The weights of the source particles
will be properly weighted to account for the biased sampling strengths.
For example, consider two sources of strengths 10<sup>9</sup> and
9×10<sup>9</sup> /sec that should be sampled in a ratio of 4:1. The biased
sampling strengths are then set to 4 and 1. Monaco will sample the first
source 80% of the time and the particles will be born with a weight of
0.125. The second source will be sampled 20% of the time and its
particles will be born with weights of 4.5.</p>
<div class="section" id="spatial-distribution">
<h4>Spatial distribution<a class="headerlink" href="#spatial-distribution" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 58%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Keyword</p></th>
<th class="head"><p>Parameters</p></th>
<th class="head"><p>Possible degenerate cases</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>cuboid</p></td>
<td><p><span class="math notranslate nohighlight">\(x_{max}\)</span> <span class="math notranslate nohighlight">\(x_{min}\)</span> <span class="math notranslate nohighlight">\(y_{max}\)</span> <span class="math notranslate nohighlight">\(y_{min}\)</span> <span class="math notranslate nohighlight">\(z_{max}\)</span> <span class="math notranslate nohighlight">\(z_{min}\)</span></p></td>
<td><p>rectangular plane, line, point</p></td>
</tr>
<tr class="row-odd"><td><p>xCylinder</p></td>
<td><p><em>r</em> <span class="math notranslate nohighlight">\(x_{max}\)</span> <span class="math notranslate nohighlight">\(x_{min}\)</span></p></td>
<td><p>circular plane, line, point</p></td>
</tr>
<tr class="row-even"><td><p>yCylinder</p></td>
<td><p><em>r</em> <span class="math notranslate nohighlight">\(y_{max}\)</span> <span class="math notranslate nohighlight">\(y_{min}\)</span></p></td>
<td><p>circular plane, line, point</p></td>
</tr>
<tr class="row-odd"><td><p>zCylinder</p></td>
<td><p><em>r</em> <span class="math notranslate nohighlight">\(z_{max}\)</span> <span class="math notranslate nohighlight">\(z_{min}\)</span></p></td>
<td><p>circular plane, line, point</p></td>
</tr>
<tr class="row-even"><td><p>xShellCylinder</p></td>
<td><p><em>r1</em> <em>r2</em> <span class="math notranslate nohighlight">\(x_{max}\)</span> <span class="math notranslate nohighlight">\(x_{min}\)</span></p></td>
<td><p>cyl., planar annulus, cyl. surface, line, ring, point</p></td>
</tr>
<tr class="row-odd"><td><p>yShellCylinder</p></td>
<td><p><em>r1</em> <em>r2</em> <span class="math notranslate nohighlight">\(y_{max}\)</span> <span class="math notranslate nohighlight">\(y_{min}\)</span></p></td>
<td><p>cyl., planar annulus, cyl. surface, line, ring, point</p></td>
</tr>
<tr class="row-even"><td><p>zShellCylinder</p></td>
<td><p><em>r1</em> <em>r2</em> <span class="math notranslate nohighlight">\(z_{max}\)</span> <span class="math notranslate nohighlight">\(z_{min}\)</span></p></td>
<td><p>cyl., planar annulus, cyl. surface, line, ring, point</p></td>
</tr>
<tr class="row-odd"><td><p>sphere</p></td>
<td><p><em>r</em></p></td>
<td><p>point</p></td>
</tr>
<tr class="row-even"><td><p>shellSphere</p></td>
<td><p><em>r1</em> <em>r2</em></p></td>
<td><p>sphere, spherical surface, point</p></td>
</tr>
</tbody>
</table>
<p>Note that other than the shell-type solids, the parameters are the same
as the SGGP geometry specification of those solids. The SGGP keyword
“origin” (followed by at least one of “x=”, “y=”, and/or“z=”) is
available for all of the different source solid bodies. For the cylinder
based solid bodies, the direction of the axis of the cylinder can be set
by using the keyword “cylinderAxis <em>u</em> <em>v</em> <em>w</em>”, where <em>u</em>, <em>v</em>, and
<em>w</em> are the direction cosines with respect to the global <em>x</em>-, <em>y</em>-, and
<em>z</em>-directions.</p>
<p>The source can be limited to only be from the parts of the solid body
that are inside a specific unit (“unit=”), inside a specific region
(“region=”) within the specified unit, or made of a certain material
(“mixture=”). A mixture and a unit/region cannot both be specified since
that would either be redundant or mutually exclusive.</p>
<p>If no source spatial information is provided by the user, the default is
a point source located at the origin (in global coordinates). Like SGGP
input, the geometry keywords used for the bounding shape are fixed
lengths arrays and do not have an “end” terminator. They must be
followed by the correct number of parameters.</p>
<p>The spatial distribution in each dimension of the cuboid shape is
specified by using the keywords “xDistributionID=”, “yDistributionID=”,
or “zDistributionID=” and pointing to a distribution defined in the
definitions block. For the cylindrical shapes, “rDistributionID=” and
“zDistributionID=” can be used. For spherical shapes, only the
“rDistributionID=” can be specified. Distributions defined using
abscissa values that are different than the length of the simple
geometry bounding shape can still be used if the keyword “xScaleDist”
(or “y”, “z”, or “r”) is used. This linearly scales the distribution
abscissa values to the length of the simple geometry bounding shape.
Note that for cylindrical sources, since the axis can point in any
direction, the z distribution is interpreted as the length along the
axis, with the base position as z=0.</p>
</div>
<div class="section" id="energy-distribution">
<h4>Energy distribution<a class="headerlink" href="#energy-distribution" title="Permalink to this headline">¶</a></h4>
<p>“eDistributionID=” and pointing to one of the distributions defined in
the definitions block. Energies will be sampled from the distribution in
a continuous manner. For MULTIGROUP calculations, that energy will then
be mapped onto the group structure of the cross-section library being
used by Monaco. Each source should have an energy distribution that has
abscissa values in units of eV. If no energy distribution is given, 1
MeV (translated to the current group structure if a multigroup problem)
will be used.</p>
<p>To use the total of an energy distribution as the source strength, use
the keyword “useNormConst” without either “strength=” or “fissions=”.
This will set the strength to be equal to the normalization constant of
the distribution – the total of the distribution before it was
normalized into a pdf. An optional “multiplier=” keyword can be used to
increase or decrease that strength. For example, consider a case using
the neutron spectrum information from a case of an ORIGEN-S binary
concentration file that used a basis of an entire core. If the Monaco
source was just one of the 200 assemblies, then the “multiplier=”
keyword can be set to 0.005 so that the source strength is scaled
appropriately.</p>
</div>
<div class="section" id="directional-distribution">
<h4>Directional distribution<a class="headerlink" href="#directional-distribution" title="Permalink to this headline">¶</a></h4>
<p>The directional distribution of the source is specified by using the
keyword “dDistributionID=” and pointing to one of the distributions
defined in the definitions block. The distribution will be used to
sample the cosine of the polar angle, <span class="math notranslate nohighlight">\(\mu\)</span>, from the reference
direction. The reference direction, where <span class="math notranslate nohighlight">\(\mu = 1\)</span>, is set with
the keyword “direction <em>u</em> <em>v</em> <em>w</em>”, where <em>u</em>, <em>v</em>, and <em>w</em> are the
direction cosines with respect to the global <em>x</em>-, <em>y</em>-, and
<em>z</em>-directions. The default value for the reference direction is the
positive <em>z</em>-axis (&lt;0,0,1&gt;). The keyword “dScaleDist” can be used to
linearly scale the distribution abscissa values to the range of
<span class="math notranslate nohighlight">\(\mu \in \left\lbrack - 1,1 \right\rbrack\)</span>. If no directional
distribution is specified with the keyword “dDistributionID=”, then an
isotropic directional distribution will be used.</p>
</div>
<div class="section" id="using-a-monaco-mesh-source-map-file">
<h4>Using a Monaco mesh source map file<a class="headerlink" href="#using-a-monaco-mesh-source-map-file" title="Permalink to this headline">¶</a></h4>
<p>The user can alternatively specify an existing Monaco mesh source map
file—a binary file created by a previous MAVRIC or Monaco calculation.
The mesh source map must be a binary file using the Monaco mesh source
map format (a *.msm file). This option is specified with the
“meshSourceFile=” keyword and the file name (and full path if necessary)
in quotes.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">sources</span>
    <span class="err">src</span> <span class="m">1</span>
        <span class="err">meshSourceFile=”c:\mydocu~</span><span class="m">1</span><span class="err">\previouslyMadeSource.msm”</span>
    <span class="n">end</span><span class="err"> </span><span class="n">src</span>
<span class="n">end</span><span class="err"> </span><span class="n">sources</span>
</pre></div>
</div>
<p>If the “meshSourceFile=” keyword is used, all energy distribution
keywords and most spatial distribution keywords will be ignored. Source
keywords that can be used with a mesh source include “strength=” to
override the source strength in the mesh source; “biasedStrength=” to
set the sampling strength; “origin”, “x=”, “y=”, and “z=” to place the
origin of the mesh source file at a particular place in the current
global coordinate system; and the keywords for describing the
directional distribution – “dDistributionID=”, “direction <em>u</em> <em>v</em> <em>w</em>”
and “dScaleDist”.</p>
<p>Mesh sources are sampled using the following algorithm: First, a
direction is sampled. Second, a voxel is sampled and a position is
picked uniformly within the voxel. If that position does not match the
optional limiters (unit, region, material specified in the mesh source),
a new position is chosen within the voxel until a match is made. If a
position cannot be found within the voxel after 10000 tries, Monaco will
stop. (This can occur if the mesh voxel contained just a sliver of
source volume when generated. For this case, the keyword
“allowResampling” can be used to select a new voxel instead of stopping.
In general, this keyword should not be used.)</p>
</div>
<div class="section" id="creating-a-mesh-source">
<h4>Creating a mesh source<a class="headerlink" href="#creating-a-mesh-source" title="Permalink to this headline">¶</a></h4>
<p>To create a mesh source out of the source definition, use the
“meshSourceSaver” subblock inside the sources block. It is quite handy
to visualize the sources and ensure they are what were intended. You
must specify which one of the defined grid geometries to use (keyword
“gridGeometryID=”) and a filename for the resulting mesh source file
(keyword “filename=” with the filename in quotes
“<em>path</em>\<em>name</em>.msm”). For more than one source, each will be stored
separately and the filename will include the source id number.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">sources</span>
    <span class="err">src</span> <span class="m">1</span>
        <span class="err">…</span>
        <span class="err">…</span>
    <span class="n">end</span><span class="err"> </span><span class="n">src</span>
    <span class="err">src</span> <span class="m">5</span>
        <span class="err">…</span>
        <span class="err">…</span>
    <span class="n">end</span><span class="err"> </span><span class="n">src</span>
    <span class="err">meshSourceSaver</span>
        <span class="err">gridGeometryID=</span><span class="m">7</span>
        <span class="err">filename=</span><span class="s">&quot;meshSource.msm&quot;</span>
        <span class="err">subcells=</span><span class="m">3</span>
    <span class="n">end</span><span class="err"> </span><span class="n">meshSourceSaver</span>
<span class="n">end</span><span class="err"> </span><span class="n">sources</span>
</pre></div>
</div>
<p>To create the mesh source, Monaco determines if the defined source
exists within each cell. This is done by dividing each mesh cell into
<em>n×n×n</em> subcells (from the keyword subCells=<em>n</em> with a default of
<em>n</em>=2) and testing each subcell center. For every subcell center that
is a valid source position (within the spatial solid and meets the
optional unit, region, or mixture requirements), an amount of source
proportional to the subcell volume is assigned to the mesh cell. The
keyword subCells= can be used to better refine how much source is
computed for the mesh cells at the boundary of a curved source region.
Of course, more subcell testing takes more time. If a given source is
degenerate in any dimension (point, line, or plane), that information
will be stored in the resulting mesh source so that particles will not
be sampled over the entire corresponding voxel but will have closer to
the original spatial distribution. Likewise, if the original source had
restrictions based on unit, region or mixture, those restrictions will
be stored as part of the resulting mesh source.</p>
<p>The above process may miss small sources or degenerate sources
(surfaces, lines, points) that do not lay on the tested subcell centers.
If none of the mesh cells contain any source after the subcell method,
then random sampling of the source is used. A number of source positions
are sampled from the source (set by the “sourceTrials=” keyword, default
of 1000000) and then placed into the proper mesh cell. If this method is
used, the resulting mesh source file should be visualized to ensure that
the statistical nature of the source trials method does not unduly
influence the overall mesh source. To skip the subcell method and go
directly to the source trials method, use “subCells=0”.</p>
<p>The keyword “makeTotal” will make a single mesh source file which is the
composite of all of the individual sources. Geometric degeneracies or
restrictions to only sample particles from a specified unit, region or
material will only be kept if they are the same for all of the sources.
For this reason, users may not wish to use a mesh source using the
“makeTotal” keyword for transport but rather use it to verify that all
of the sources have been input properly.</p>
<p>The keyword “reduce” can be used to only save the smallest rectangular
portion of the mesh surrounding the voxels with non-zero source amounts.
This can result in much smaller file sizes for sources that are small
compared to the extents of the grid geometry.</p>
<p>Monaco mesh source files (*.msm) can be viewed with the Mesh File
Viewer. Plots can be made showing the source values for each group (or
total). The viewer can also show the geometry regions or material
mixtures as well. Using the viewer is an easy way to confirm that the
source definition was entered correctly. Note that the *.msm files
actually only store the biased sampling distribution and the initial
weights (to speed up the sampling process). So, in the viewer the “true”
source is computed as the product of the sampled distribution and the
weights. If groups with real source are set to zero importance, the
viewer cannot recreate the original true source. The true source shown
by the viewer is the amount of true source only in groups that have
non-zero importance.</p>
</div>
<div class="section" id="mesh-source-advanced-features">
<h4>Mesh source advanced features<a class="headerlink" href="#mesh-source-advanced-features" title="Permalink to this headline">¶</a></h4>
<p>Two advanced features exist in the meshSourceSaver subblock – mainly
used by the MAVRIC sequence when the importance map calculations use a
different cross-section library than the final Monaco calculation.</p>
<p>The keyword “sampleFromMesh” can be used to tell Monaco to sample from
the created mesh file(s) instead of the standard source definition. This
can be useful in determining if the mesh source is fine enough to
accurately represent the original source definition. If the “makeTotal”
keyword was used, then Monaco will sample from the total mesh source
file.</p>
<p>The keyword “meshBiasFile=” can be optionally be used when
“sampleFromMesh” is on. This tells Monaco to sample from the mesh source
file(s) version of the source definition that has been modified using
just the importance information from the named mesh source file. For
example, using a 27-group biased mesh source for a Watt spectrum source
may not represent the high energy tail very well. In this case, it would
be better to do a 200-group Monaco calculation but still use the
importance information from 27-group mesh source file using
“sampleFromMesh” and “meshBiasFile=”.</p>
</div>
</div>
<div class="section" id="tallies-block">
<h3>Tallies block<a class="headerlink" href="#tallies-block" title="Permalink to this headline">¶</a></h3>
<p>The tallies block tells Monaco what to compute: fluxes at certain points
in space (point detectors), fluxes in certain geometry regions, or
fluxes in each voxel of a mesh grid. The computed fluxes can also be
integrated with response functions to compute dose, reaction rate or
some other dose-like quantity. Any number of optional response functions
can be evaluated with each tally.</p>
<p>Each tally type begins with a keyword (“pointDetector”, “regionTally”,
or “meshTally”) and ends with an “end” and that same keyword. Individual
tallies can be listed in any order. Identification numbers for each
tally are required and must be positive integers and unique among the
tally type. All three of the tally types can have an optional title
using the keyword “title=” followed by the title enclosed in double
quotes. Tallies should be defined as either a neutron tally or a photon
tally.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">tallies</span>
    <span class="err">pointDetector</span> <span class="m">1</span>
        <span class="err">…</span>
    <span class="n">end</span><span class="err"> </span><span class="n">pointDetector</span>
    <span class="err">regionTally</span> <span class="m">9</span>
        <span class="err">…</span>
    <span class="n">end</span><span class="err"> </span><span class="n">regionTally</span>
    <span class="err">regionTally</span> <span class="m">19</span>
        <span class="err">…</span>
    <span class="n">end</span><span class="err"> </span><span class="n">regionTally</span>
    <span class="err">meshTally</span> <span class="m">1</span>
        <span class="err">…</span>
    <span class="n">end</span><span class="err"> </span><span class="n">meshTally</span>
<span class="n">end</span><span class="err"> </span><span class="n">tallies</span>
</pre></div>
</div>
<p>Each tally computes the fluxes in each tally bin and the total flux. For
multigroup calculations, the multigroup cross section group structure is
used for all tallies. For CE calculations, each tally can use a
different “energyBoundsID=”, which points to one of the energy bounds
defined in the definitions block. CE calculations can also use the
keyword “timeBoundsID=” to specify a set of time bin boundaries. For one
response function to integrate the fluxes with, the keyword
“responseID=” can be used, where the value corresponds to the
identification number of one of the response functions defined in the
definitions block. For multiple response functions, the keyword array
“responseIDs … end” can be used.</p>
<p>Each tally type can be multiplied by using the “multiplier=” keyword.
This is useful for units conversions or other types of scaling. Multiple
uses of the multiplier keyword within one tally definition will apply
the product of all multipliers to that tally. Using the keyword
“multiplier=” inside the tallies block but outside any particular tally
will apply that multiplier to all tallies.</p>
<div class="section" id="id6">
<h4>Point detector tallies<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<p>A point detector tally computes the uncollided and total flux at a given
location in space. This tally requires exactly one location and can use
any number of optional response functions. The “locationID=” keyword is
used to specify one of the locations listed in the definitions block.
Point detectors should only use locations that are in void regions of
the geometry.</p>
<p>Because point detectors estimate the flux at the location using a
ray-trace from every collision site during the life of the particle,
they can be quite expensive. For particles very far away from the
detector location, the contributions to the tally can be quite small.
Point detectors can be made to use the importance of the current
particle location/energy to decide whether or not to make a contribution
to the tally using the keyword “minSampProb=” and a value such as 0.1 or
0.01. This keyword specifies the minimum sampling probability for a
given point detector. As the particle is transported, the probability
<span class="math notranslate nohighlight">\(p\)</span> of making a contribution to the point detector tally is set by
using the current weight of the particle, <span class="math notranslate nohighlight">\(w\)</span>, to be</p>
<div class="math notranslate nohighlight" id="equation-monaco-19">
<span class="eqno">(394)<a class="headerlink" href="#equation-monaco-19" title="Permalink to this equation">¶</a></span>\[p = \left( \frac{w_{\mathrm{\min}}}{w} \right)^{a}\]</div>
<p>where the power <span class="math notranslate nohighlight">\(a\)</span> for each point detector was determined at the
start of the simulation using the minimum sampling probability
<span class="math notranslate nohighlight">\(p_{\mathrm{\min}}\)</span> to be</p>
<div class="math notranslate nohighlight" id="equation-monaco-20">
<span class="eqno">(395)<a class="headerlink" href="#equation-monaco-20" title="Permalink to this equation">¶</a></span>\[a = \ \frac{\mathrm{ln} \left( p_{\mathrm{\min}} \right)}{\mathrm{\ln}\left( \frac{w_{\mathrm{\min}}}{w_{\mathrm{\max}}} \right)}\]</div>
<p>where the minimum and maximum target weights, <span class="math notranslate nohighlight">\(w_{\mathrm{\min}}\)</span>
and <span class="math notranslate nohighlight">\(w_{\mathrm{\min}}\)</span>, were determined from either the
region-based weight targets or the mesh-based importance map weight
targets. So, when the current particle weight approaches the minimum
target weight of the problem (in very important areas), the point
detector contribution is made nearly 100% of the time. When the particle
weight approaches the maximum target weight (in very unimportant areas),
the contribution to the point detector tally is made with probability
<span class="math notranslate nohighlight">\(p_{\mathrm{\min}}\)</span>, saving quite a bit of computer time.</p>
<p>This option should only be used if the point detector location is in the
area of high importance. For point detectors in areas of low importance,
using this option may severely undersample the point detector where
contributions would actually be the most significant, causing an
underestimation of the flux. The default value for the minimum sampling
probability is <span class="math notranslate nohighlight">\(p_{\mathrm{\min}} = 1\)</span>, giving a default value of
<span class="math notranslate nohighlight">\(a = 0\)</span> so that the point detector contribution is made at every
collision, independent of the current particle weight.</p>
<p>The keyword “minSampProb” used in the tallies block but outside any
particular point detector tally specification will be applied to all
point detectors.</p>
<p>Each point detector is summarized in the main output file. The
uncollided and total flux for each particle type is listed as well as
the values for the optional integrated response functions. Along with
each of these quantities is a list of the standard deviation of the
quantity, the relative uncertainty, the figure-of-merit and a summary of
list of the statistical checks (passed or not). Group-by-group values of
the fluxes and responses are listed in a separate file named
“<em>outputName</em>.pd<em>id</em>.txt” where <em>outputName</em> is the name the user
chose for his output file and “<em>id</em>” is the identification number
corresponding to the point detector tally specification. This file also
contains more information about the six statistical checks for flux and
each response – their pass/fail values with each batch of simulated
particles and their final numerical values at the end of the simulation.
A second file called “<em>outputName</em>.pd<em>id</em>.chart” is also created
which can be displayed using the ChartPlot 2D Interactive Plotter, to
visually check the convergence behavior of the tally. The total neutron
flux, the total photon flux, and the total response function value for
each response as a function of batch can be viewed.</p>
</div>
<div class="section" id="id7">
<h4>Region tallies<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<p>A region tally computes both the track-length estimate and the collision
density estimate of the flux over a given geometry region (an SGGP
“media”). This tally uses the keywords “unit=”, “region=”, and
“mixture=” to limit the tally to one or more of those aspects. For
example, “unit=2” and “region=3” are used to specify a region tally for
the 3rd media listed for unit 2 of the SGGP geometry input. A mixture
and a unit/region cannot both be specified since that would either be
redundant or mutually exclusive. If the volume of the region is not
given (or calculated) in the SGGP input, then instead of flux, the tally
will compute average track length and average collision density.</p>
<p>Each region tally is summarized in the main output file. The total flux
for each particle type is listed as well as the values for the optional
integrated response functions. Along with each of these quantities is a
list of the standard deviation of the quantity, the relative
uncertainty, the figure-of-merit and a summary of list of the
statistical checks (passed or not). Group-by-group values of the fluxes
and responses are listed in a separate file named
“<em>outputName</em>.rt<em>id</em>.txt” where <em>outputName</em> is the name the user
chose for his output file and “<em>id</em>” is the identification number
corresponding to the region tally specification. This file also contains
more information about the six statistical checks for flux and each
response – their pass/fail values with each batch of simulated particles
and their final numerical values at the end of the simulation. A second
file called “<em>outputName</em>.rt<em>id</em>.chart” is also created which can be
displayed using the ChartPlot 2D Interactive Plotter, to visually check
the convergence behavior of the tally. The total neutron flux, the total
photon flux, and the total response function value for each response as
a function of batch can be viewed.</p>
</div>
<div class="section" id="id8">
<h4>Mesh tallies<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<p>A mesh tally computes the track-length estimate of the flux for every
cell in a grid (mesh) geometry. This tally requires exactly one grid
geometry or cylindrical geometry and can use any number of optional
response functions. The “gridGeometryID=” or “cylGeometryID=” keyword is
used to specify one of the mesh geometries listed in the definitions
block. The group-by-group flux values, the total flux values and the
total for each response are kept in memory during the simulation.
Group-by-group contributions to the responses are not tallied during the
simulation.</p>
<p>Mesh tallies can be limited to only save contributions to the voxel flux
from track lengths through a certain unit, region or material using the
keywords “unit=”, “region=”, and “mixture=”. For example, to compute a
mesh tally of a reaction rate of a specific isotope, the response
function should only be multiplied by the amount of flux in the voxel
that resulted in contributions from the material that contained that
isotope. In this case, the keyword “mixture=” should be used so that the
fluxes in each voxel represent only the flux from that material that
holds the desired isotope.</p>
<p>A mesh tally saves the flux for each group, as well as the integrated
response functions for each listed response for every cell of the grid
geometry to a file called “<em>outputName</em>.mt<em>id</em>.3dmap” where
<em>outputName</em> is the name the user chose for his output file and
“<em>id</em>” is the identification number corresponding to the mesh tally
specification. This file contains the group flux values and their
absolute uncertainties. If any response functions were specified, then
the responses and their uncertainties will be computed and stored in the
same file. Monaco mesh tally files can be viewed with the Mesh File
Viewer.</p>
<p>With each mesh tally, files are also created with the statistical test
information - “<em>outputName</em>.mt<em>id</em>.flux” and
“<em>outputName</em>.mt<em>id</em>.resp<em>xx</em>.txt” where <em>xx</em> is the responseID.
The statistical tests can be turned off with the keyword “noStatChecks”.</p>
<p>The Mesh File Viewer can be used to show the value, uncertainty, or
relative uncertainty of any of the group fluxes, total fluxes, or
responses tallied. For characterizing the mesh tally, the viewer can be
used to display histograms of the relative errors—showing what fraction
of the mesh cells had less than some amount of relative uncertainty.
Images from the Mesh File Viewer can be saved as *.jpg, *.bmp, *.gif
or *.png files or exported to other applications, such as MS Word.</p>
<p>Mesh tally files can become quite large—if the group-by-group fluxes are
not important for a given problem, the keyword “noGroupFluxes” can be
added to the mesh tally input. Instead of the group fluxes, only the
total neutron and total photon fluxes will be written to the mesh tally
file. If the group-by-group values for the response functions are
required, the keyword “saveRespDetails” can be used to create separate
mesh tally files of each response called
“<em>outputName</em>.mt<em>id</em>.resp<em>id</em>.3dmap” where the second “<em>id</em>”
is the response identification number. Note that for CE calculations,
these group-by-group results are formed using the response function
mapped onto the energy grid of the tally, since separate tallies of
response by group are not made during the simulation.</p>
<p>The mesh tally keyword “weightless” will instruct Monaco to not include
the particle weight in the contribution to the mesh tally for track
lengths that cross the voxels of the mesh. Instead of a flux tally, this
will compute the Monte Carlo particle density – a measure of the number
of particles simulated by Monaco in each mesh cell and in each energy
group.</p>
<p>Mesh tallies can use a cylindrical mesh instead of a rectilinear mesh.
Use the keyword “cylGeometryID=” instead of “gridGeometryID=” and
reference one of the defined cylindrical meshes defined in the
definitions block. Both cannot be specified at the same time. The Java
Mesh File Viewer can only show the <em>r</em>-<em>z</em> view of a cylindrical mesh
tally.</p>
</div>
</div>
<div class="section" id="parameter-block">
<h3>Parameter Block<a class="headerlink" href="#parameter-block" title="Permalink to this headline">¶</a></h3>
<p>The parameter block sets the Monte Carlo parameters used by Monaco.
Items can be listed in any order. The initial random number
(“randomSeed=”) is given as a 16-digit hexadecimal number. The number of
histories per batch (“perBatch=”) and the number of batches (“batches=”)
can be specified. After every batch of source particles, the tally files
are saved to disk. To prevent long run times, a maximum run time in
minutes (“maxMinutes=”) can also be specified. Defaults are 10 batches
of 1000 histories each, with no time limit. The value of batches is used
to allocate arrays for the tally statistical tests – so do not make this
overly large, even when using maxMinutes to control termination.</p>
<p>For MULTIGROUP, the particles contained in the library will be
transported, unless turned off using the keywords “noNeutron” or
“noPhoton.” In CE, to prevent loading large amounts of unneeded
cross-section information into memory, the user should specify which
particles to transport, using the keywords “neutron” and/or “photon.”
Monaco also supports Doppler pre-broadening of the CE neutron cross
sections. This is controlled by the “dopplerBroaden=” parameter. Integer
options are 0 (disabled, default), 1 (broaden 1D cross sections only), 2
(broaden 1D and 2D cross sections), and 3 (broaden 2D cross sections
normally and broaden 1D cross sections using a less robust, but faster,
interpolation method).</p>
<p>The default behavior for Monaco is to create neutrons from fission
events and create secondary gammas from neutron collisions. To turn off
the creation of fission neutrons in all multiplying media (for example,
when the source already includes them), use the keyword “fissionMult=0”.
For problems where the library has photon data but none of the tallies
require photons, use the keyword “secondaryMult=0” to stop the creation
of secondary photons from neutrons. In CE problems, the number of
fission neutrons and secondary gammas can be simulated as one particle
of each type having a high weight (“fissionMult=1”, “secondaryMult=1”)
or as many particles as the physical yield for the reaction would
dictate (“fissionMult=2”, “secondaryMult=2”), each with a weight
corresponding to their probability of emission. If the user requests
option 2 and the particle bank becomes too large, Monaco will drop the
settings back to option 1. In MULTIGROUP, values of 1 and 2 are both
treated as 1.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">parameters</span>
   <span class="err">randomSeed=</span><span class="m">003</span><span class="err">ecd</span><span class="m">7</span><span class="err">b</span><span class="m">4</span><span class="err">e</span><span class="m">3</span><span class="err">e</span><span class="m">8</span><span class="err">b</span>
   <span class="err">perBatch=</span><span class="m">100000</span>  <span class="err">batches=</span><span class="m">100</span>  <span class="err">maxMinutes=</span><span class="m">1440</span><span class="err">.</span><span class="m">0</span>
   <span class="err">fissionMult=</span><span class="m">0</span>
<span class="n">end</span><span class="err"> </span><span class="n">parameters</span>
</pre></div>
</div>
<p>In complex geometries, particles can sometimes “get lost” due to
round-off errors in the ray-tracing. This would normally result in the
code stopping, since lost particles usually indicate an undefined or
doubly defined region of space. In order to tolerate a few lost
particles without stopping the code, use the keyword “maximumLost=”.
Care should be taken not to increase this just to get around poorly
defined geometry. To aid in geometry testing, the keyword
“voidAllRegions” can be used. This keyword sets every region material to
void so that tracks can stream through without interacting (faster). A
large source and this keyword can be used to test a geometry input for
gaps and overlaps. When the “voidAllRegions” keyword is used, mesh tally
files will not contain material information, only the unit and region
information.</p>
<p>Note that for both CE and MULTIGROUP, using fissionMult=0 only turns off
the creation of neutrons from fission. The fission photons are
controlled by the secondaryMult setting because some of the ENDF data
evaluations do not separate fission gammas from other neutron collision
gammas.When using a mesh-based importance map, if a particle is outside
the importance map, the code will stop with the message “Could not find
particle importance. The particle is outside of the importance map.” If
the importance map does not cover the entire problem, then the tallies
may be missing part of their final values. If the user intends to use an
importance map that does not cover the entire geometry and wants
particles outside the importance map to have zero importance (they will
then be killed), then the keyword “allowShortImpMap” can be used to
allow the use of a “short” importance map. Users must be sure that areas
outside the importance map are unimportant to the problem.</p>
</div>
<div class="section" id="biasing-block">
<h3>Biasing Block<a class="headerlink" href="#biasing-block" title="Permalink to this headline">¶</a></h3>
<p>The optional biasing block lists the parameters for the standard Monaco
variance reduction tools: forced collisions, region-based weight
windows, and path-length stretching. This block also allows for the use
of a previously made Monaco mesh importance map, such as those produced
by the MAVRIC sequence.</p>
<div class="section" id="forced-collisions">
<h4>Forced collisions<a class="headerlink" href="#forced-collisions" title="Permalink to this headline">¶</a></h4>
<p>Forced collisions are one of the simplest variance reduction techniques.
This makes a particle have a collision along its current flight
direction before leaving the geometry. The collision is forced and the
particle weight is reduced by the true probability of having a collision
within the geometry. This is helpful in small or low-density geometries
where many particles leave without interacting but can add computation
time to ordinary problems. To use forced collisions, specify the
“forcedCollisions” keyword. This requires the use of Russian roulette
(“targetWeights” and “lowerWeights”, see below).</p>
</div>
<div class="section" id="weight-windows">
<h4>Weight windows<a class="headerlink" href="#weight-windows" title="Permalink to this headline">¶</a></h4>
<p>Monaco can use Russian roulette for preventing low particle weights from
being followed and splitting to prevent the production of very high
weight particles. Either of these requires the target weight values
(“targetWeights … end”) for each energy group and for each region to be
listed. For CE calculations, the energy bin boundaries are specified
with the keywords “nEnergyBoundsID=” and “pEnergyBoundsID=”. For Russian
roulette, the lower weight bounds must be specified (“lowerWeights …
end”) and for splitting the upper weight bounds are listed
(“upperWeights … end”). The different weight arrays can have a length
matching (1) the product of the number of energy groups and the number
of regions, (2) the number of regions, or (3) the number of energy
groups. In case 2, the values are repeated for each energy group. In
case 3, the values are repeated for each region. For example, to specify
only Russian roulette in a coupled neutron-photon problem with target
and lower weights the same in each region the following is used. An
example using the 27/19 multigroup library would be</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">biasing</span>
    <span class="err">targetWeights</span> <span class="m">27</span><span class="err">r</span><span class="m">1</span><span class="err">.</span><span class="m">0</span> <span class="m">19</span><span class="err">r</span><span class="m">0</span><span class="err">.</span><span class="m">1</span>  <span class="n">end</span>
    <span class="err">lowerWeights</span>  <span class="m">27</span><span class="err">r</span><span class="m">0</span><span class="err">.</span><span class="m">1</span> <span class="m">19</span><span class="err">r</span><span class="m">0</span><span class="err">.</span><span class="m">01</span> <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">biasing</span>
</pre></div>
</div>
<p>and for a CE calculation</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">definitions</span>
    <span class="err">energyBounds</span> <span class="m">1</span> <span class="m">27</span><span class="err">n</span> <span class="n">end</span><span class="err"> </span><span class="n">energyBounds</span>
    <span class="err">energyBounds</span> <span class="m">2</span> <span class="m">19</span><span class="err">p</span> <span class="n">end</span><span class="err"> </span><span class="n">energyBounds</span>
<span class="n">end</span><span class="err"> </span><span class="n">definitions</span>

<span class="n">read</span><span class="err"> </span><span class="n">biasing</span>
    <span class="err">nEnergyBoundsID=</span><span class="m">1</span>  <span class="err">pEnergyBoundsID=</span><span class="m">2</span>
    <span class="err">targetWeights</span> <span class="m">27</span><span class="err">r</span><span class="m">1</span><span class="err">.</span><span class="m">0</span> <span class="m">19</span><span class="err">r</span><span class="m">0</span><span class="err">.</span><span class="m">1</span>  <span class="n">end</span>
    <span class="err">lowerWeights</span>  <span class="m">27</span><span class="err">r</span><span class="m">0</span><span class="err">.</span><span class="m">1</span> <span class="m">19</span><span class="err">r</span><span class="m">0</span><span class="err">.</span><span class="m">01</span> <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">biasing</span>
</pre></div>
</div>
<p>Alternatively, to use Russian roulette and splitting, the target weights
and a window ratio (“windowRatio=”) can be specified. The window ratio
is simply the ratio of the weight window upper bound to the weight
window lower bound, with the target weight being the average of the
upper and lower. If target weights <span class="math notranslate nohighlight">\(\overline{w}\)</span> and a window
ratio <em>r</em> are supplied, then the lower and upper weight bounds are found
by using</p>
<div class="math notranslate nohighlight" id="equation-monaco-21">
<span class="eqno">(396)<a class="headerlink" href="#equation-monaco-21" title="Permalink to this equation">¶</a></span>\[w_{\mathrm{\min}} = \frac{2}{r + 1}\overline{w}\]</div>
<div class="math notranslate nohighlight" id="equation-monaco-22">
<span class="eqno">(397)<a class="headerlink" href="#equation-monaco-22" title="Permalink to this equation">¶</a></span>\[w_{\mathrm{\max}} = \frac{2r}{r + 1}\overline{w}\]</div>
<p>If only the window ratio is supplied, both Russian roulette and
splitting will be turned on with the target weights for every energy
group and every region set to 1.</p>
<p>A target weight of 0 will prevent particles of that energy group in that
region from being transported. For example, to perform a neutron-only
calculation using a coupled neutron-photon library, simply set the
target weight values for all of the photon groups in every region to 0.
The user should be careful not to “turn off” energy groups or regions
that may impact (bias incorrectly) the final tally results.</p>
<p>Monaco always uses the implicit capture technique—at collision sites
absorption is not simulated but instead the particle weight is reduced
by the ratio of the scatter probability to the total interaction
probability. Particles only stop if they escape the defined geometry.
This generally produces tally results with lower uncertainties in less
time, but for highly scattering or very large geometries, particles with
very low weights will be tracked until their weight reaches the lower
limit of real numbers in double precision. This is not typically what
the user wants. So, for problems that are not using any weight windows
or importance map, Russian roulette and splitting are automatically
turned on using the a target weight of 1 for every energy group and
every region and a window ratio of 5.</p>
</div>
<div class="section" id="path-length-stretching">
<h4>Path-length stretching<a class="headerlink" href="#path-length-stretching" title="Permalink to this headline">¶</a></h4>
<p>Path-length stretching allows particles going a certain direction to
travel farther (with reduced weight) before interacting. Seventeen
different directions are available, as listed in the Table 8.2.10. One
of the directions is specified by using the “direction=” keyword and one
of the direction strings listed in Table 8.2.10, in quotes. The amount
of stretching is specified using the “pathStretch … end” array, with
values between 0 (no stretching) and 1 (lots of stretching), for each
energy group and region. Items can be listed in any order. Similar to
the weight window arrays, the “pathStretch” array can have a length
matching (1) the product of the number of energy groups and the number
of regions, (2) the number of regions, or (3) the number of energy
groups. Values are repeated to fill in all of the regions and groups.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">biasing</span>
    <span class="err">pathStretch</span>  <span class="m">46</span><span class="err">r</span><span class="m">0</span><span class="err">.</span><span class="m">5</span> <span class="m">46</span><span class="err">r</span><span class="m">0</span><span class="err">.</span><span class="m">6</span> <span class="m">46</span><span class="err">r</span><span class="m">0</span><span class="err">.</span><span class="m">75</span> <span class="n">end</span>
    <span class="err">direction=”localZp”</span>
<span class="n">end</span><span class="err"> </span><span class="n">biasing</span>
</pre></div>
</div>
<p>When stretching toward a given location (direction=“location”), then the
location ID number must be specified using the “locationID=” keyword.
For CE calculations, energy boundary objects need to be defined using
the keywords “nEnergyBoundsID=” and “pEnergyBoundsID=”.</p>
<table class="docutils align-center" id="tab8-10">
<caption><span class="caption-number">Table 263 </span><span class="caption-text">Directions available for path-length stretching</span><a class="headerlink" href="#tab8-10" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Direction</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">localXp</span></code></p></td>
<td><p>+x direction in local coordinates</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">localYp</span></code></p></td>
<td><p>+y direction in local coordinates</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">localZp</span></code></p></td>
<td><p>+z direction in local coordinates</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">localXm</span></code></p></td>
<td><p>-x direction in local coordinates</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">localYm</span></code></p></td>
<td><p>-y direction in local coordinates</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">localZm</span></code></p></td>
<td><p>-z direction in local coordinates</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">localYZ</span></code></p></td>
<td><p>cylindrically away from x-axis (local)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">localXZ</span></code></p></td>
<td><p>cylindrically away from y-axis (local)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">localXY</span></code></p></td>
<td><p>cylindrically away from z-axis (local)</p></td>
</tr>
</tbody>
</table>
</td>
<td><table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 82%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Direction</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">globalXp</span></code></p></td>
<td><p>+x direction in global coordinates</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">globalYp</span></code></p></td>
<td><p>+y direction in global coordinates</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">globalZp</span></code></p></td>
<td><p>+z direction in global coordinates</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">globalXm</span></code></p></td>
<td><p>-x direction in global coordinates</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">globalYm</span></code></p></td>
<td><p>-y direction in global coordinates</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">globalZm</span></code></p></td>
<td><p>-z direction in global coordinates</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">outward</span></code></p></td>
<td><p>spherically outward (local)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">location</span></code></p></td>
<td><p>in the direction of a given location  (requires a locationID)</p></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="mesh-based-importance-map">
<h4>Mesh-based importance map<a class="headerlink" href="#mesh-based-importance-map" title="Permalink to this headline">¶</a></h4>
<p>The user can alternatively specify an existing Monaco mesh-based
importance map—a binary file created by a previous MAVRIC calculation.
The mesh importance map must be a binary file using the Monaco mesh
importance map format (a *.mim file). This option is specified with the
“meshImpMapFile=” keyword and the file name (and full path if necessary)
in quotes.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">biasing</span>
    <span class="err">meshImpMapFile=”c:\mydocu~</span><span class="m">1</span><span class="err">\previouslyMadeImpMap.mim”</span>
    <span class="err">windowRatio=</span><span class="m">10</span><span class="err">.</span><span class="m">0</span>
<span class="n">end</span><span class="err"> </span><span class="n">biasing</span>
</pre></div>
</div>
<p>If the “meshImpMapFile=” keyword is used, most other biasing block
keywords cannot be used. The keyword “windowRatio=” can be used and its
default value is five.</p>
<p>If particles leave the importance map but are still in the defined
geometry, the simulation will be stopped. If the user wants to allow
importance maps that do not cover the entire problem, the keyword
“allowShortImpMap” should be used in the parameters block. In that case,
areas outside the mesh importance map will be treated as completely
unimportant—particles will be killed outside the mesh.</p>
<p>Note that for the most effective use of an importance map, the source
should be biased to match. This is what the MAVRIC sequence does – it
produces a biased source such that sampled particles are born with a
weight matching the target weight of the importance map.</p>
</div>
<div class="section" id="monaco-input-summary">
<h4>Monaco input summary<a class="headerlink" href="#monaco-input-summary" title="Permalink to this headline">¶</a></h4>
<p>Below are summaries of the Monaco blocks and their available keywords.</p>
<table class="docutils align-center" id="tab8-11">
<caption><span class="caption-number">Table 264 </span><span class="caption-text">Keywords for the cross section block</span><a class="headerlink" href="#tab8-11" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><img alt="_images/tab8-11.png" src="_images/tab8-11.png" />
</td>
</tr>
</tbody>
</table>
<table class="docutils align-center" id="tab8-12">
<caption><span class="caption-number">Table 265 </span><span class="caption-text">Keywords for the definitions block</span><a class="headerlink" href="#tab8-12" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><img alt="_images/tab8-12.png" src="_images/tab8-12.png" />
</td>
</tr>
</tbody>
</table>
<table class="docutils align-center" id="tab8-13">
<caption><span class="caption-number">Table 266 </span><span class="caption-text">More keywords for the definitions block</span><a class="headerlink" href="#tab8-13" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><img alt="_images/tab8-13.png" src="_images/tab8-13.png" />
</td>
</tr>
</tbody>
</table>
<table class="docutils align-center" id="tab8-14">
<caption><span class="caption-number">Table 267 </span><span class="caption-text">Even more keywords for the definitions block</span><a class="headerlink" href="#tab8-14" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><img alt="_images/tab8-14.png" src="_images/tab8-14.png" />
</td>
</tr>
</tbody>
</table>
<table class="docutils align-center" id="tab8-15">
<caption><span class="caption-number">Table 268 </span><span class="caption-text">Special distribution keywords for the definitions block</span><a class="headerlink" href="#tab8-15" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><img alt="_images/tab8-15.png" src="_images/tab8-15.png" />
</td>
</tr>
</tbody>
</table>
<table class="docutils align-center" id="tab8-16">
<caption><span class="caption-number">Table 269 </span><span class="caption-text">Continuous energy keywords for the definitions block</span><a class="headerlink" href="#tab8-16" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><img alt="_images/tab8-16.png" src="_images/tab8-16.png" />
</td>
</tr>
</tbody>
</table>
<table class="docutils align-center" id="tab8-17">
<caption><span class="caption-number">Table 270 </span><span class="caption-text">Keywords for the sources block</span><a class="headerlink" href="#tab8-17" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><img alt="_images/tab8-17.png" src="_images/tab8-17.png" />
</td>
</tr>
</tbody>
</table>
<table class="docutils align-center" id="tab8-18">
<caption><span class="caption-number">Table 271 </span><span class="caption-text">More keywords for the sources block</span><a class="headerlink" href="#tab8-18" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><img alt="_images/tab8-18.png" src="_images/tab8-18.png" />
</td>
</tr>
</tbody>
</table>
<table class="docutils align-center" id="tab8-19">
<caption><span class="caption-number">Table 272 </span><span class="caption-text">Keywords for the tallies block</span><a class="headerlink" href="#tab8-19" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><img alt="_images/tab8-19.png" src="_images/tab8-19.png" />
</td>
</tr>
</tbody>
</table>
<table class="docutils align-center" id="tab8-20">
<caption><span class="caption-number">Table 273 </span><span class="caption-text">Keywords for the parameters block</span><a class="headerlink" href="#tab8-20" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><img alt="_images/tab8-20.png" src="_images/tab8-20.png" />
</td>
</tr>
</tbody>
</table>
<table class="docutils align-center" id="tab8-21">
<caption><span class="caption-number">Table 274 </span><span class="caption-text">Keywords for the biasing block</span><a class="headerlink" href="#tab8-21" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><img alt="_images/tab8-21.png" src="_images/tab8-21.png" />
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="monaco-output">
<h2>Monaco Output<a class="headerlink" href="#monaco-output" title="Permalink to this headline">¶</a></h2>
<div class="section" id="main-text-output-file">
<h3>Main text output file<a class="headerlink" href="#main-text-output-file" title="Permalink to this headline">¶</a></h3>
<p>The Monaco output file first reviews the input Monaco received. First is
a review of the geometry—showing which materials are used in each region
and the volume of that region, if input or calculated. Then there is a
detailed list of other Monaco input: cross-section parameters, data
definitions, the sources, the tallies, the Monte Carlo parameters, and
the biasing parameters. For calculations using an importance map, its
summary is also given. The “Mesh Importance Map Characterization” shows
where the importance map may be changing too fast and may require more
refinement.</p>
<p>For each batch of source particles simulated, the output file lists the
batch time and the starting random number for the next batch, which may
be useful in rerunning just a portion of a problem. Once all of the
batches are completed, a list of the various tally files that have been
created is given. Finally, the tallies are summarized in a section
titled “Final Tally Results Summary”. For each point detector, the total
neutron and photon fluxes (uncollided and total) are given as well as
the final response values for each response function. For each region
tally, the total neutron and photon fluxes (both track-length and
collision density estimates) are listed, followed by the final response
values for each response function. Along with each of the final
quantities are the standard deviation of the quantity, the relative
uncertainty, the figure-of-merit and a summary of list of the
statistical checks (passed or not).</p>
</div>
<div class="section" id="tally-files">
<h3>Tally files<a class="headerlink" href="#tally-files" title="Permalink to this headline">¶</a></h3>
<p>In addition to the summary of tallies contained in the Monaco text
output file, many other files are created containing the group‑by‑group
details of the final tally data. Each mesh tally produces a file
“<em>outputName</em>.mt<em>id</em>.3dmap” where <em>outputName</em> is the name the user
chose for his output file and “<em>id</em>” is the identification number
corresponding to the tally specification. This file can be viewed using
the Mesh File Viewer capability of Fulcrum. Point detector tallies and
region tallies each create files “<em>outputName</em>.pd<em>id</em>.txt” or
“<em>outputName</em>.rt<em>id</em>.txt” to list the group‑by‑group results. They
also produce chart files, “<em>outputName</em>.pd<em>id</em>.chart” or
“<em>outputName</em>.rt<em>id</em>.chart”, which contain the total neutron flux,
the total photon flux, and the total response function value calculated
at the end of each batch. This data can be used to look at tally
convergence and can be viewed with the Interactive Plotter capabilities
of Fulcrum. <a class="reference internal" href="#tab8-22"><span class="std std-numref">Table 275</span></a> lists the output files, based on the name of
the main output file (here called <em>outputName)</em>, that are available to
the user. These files will be copied back to the directory where SCALE
was executed.</p>
</div>
<div class="section" id="diagnostic-files">
<h3>Diagnostic files<a class="headerlink" href="#diagnostic-files" title="Permalink to this headline">¶</a></h3>
<p>Three of the data types defined in the definitions block can create
files or add output to the main text output file to allow the user to
ensure items were interpreted by Monaco as they were intended. Responses
that included the “makeChart” keyword will each produce a file
“<em>outputName</em>.resp<em>id</em>.chart”, where “<em>id</em>” is the response
identification number, which can be displayed using the Interactive
Plotter. Grid geometries that include the keyword “make3dmap” will each
produce a file called “<em>outputName</em>.grid<em>id</em>.3dmap”, where
“<em>id</em>” is the grid geometry identification number, which can be
visualized using the Mesh File Viewer. Likewise, cylindrical geometries
with the keyword “makeCylMap” will create a file called
“<em>outputName</em>.cyl<em>id</em>.3dmap”. Distributions using the
“runSampleTest” keyword will produce a file
“<em>outputName</em>.dist<em>id</em>.chart”, where “<em>id</em>” is the response
identification number. The “runSampleTest” results will also be
displayed in the main text output with each distribution listed in the
Monaco input review.</p>
<span id="tab8-22"></span><table class="docutils align-center" id="id37">
<caption><span class="caption-number">Table 275 </span><span class="caption-text">Output files created by Monaco</span><a class="headerlink" href="#id37" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Filename</strong></p></th>
<th class="head"><p><strong>Viewer</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Output Summary</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p><em>outputName</em>.out</p></td>
<td></td>
<td><p>main text
output file,
contains
results summary</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Diagnostic
Files</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p><em>outputName</em>.resp<em>id</em>.chart</p></td>
<td><p>P</p></td>
<td><p>response input
and MULTIGROUP
representation
for response
<em>id</em></p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p><em>outputName</em>.grid<em>id</em>.3dmap</p></td>
<td><p>V</p></td>
<td><p>mesh version of
geometry using
grid geometry
<em>id</em></p></td>
</tr>
<tr class="row-even"><td></td>
<td><p><em>outputName</em>.cyl<em>id</em>.3dmap</p></td>
<td><p>V</p></td>
<td><p>mesh version of
geometry using
cylindrical
geometry <em>id</em></p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p><em>outputName</em>.dist<em>id</em>.chart</p></td>
<td><p>P</p></td>
<td><p>distribution
input and
sampling test
for
distribution
<em>id</em></p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Mesh Source
Saver</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p><em>filename</em>.msm</p></td>
<td><p>V</p></td>
<td><p>mesh
representation
of a single
source or total
source</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p><em>filename.id</em>.msm</p></td>
<td><p>V</p></td>
<td><p>mesh
representation
of multiple
sources</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p><em>filename</em>.sampling.msm</p></td>
<td><p>V</p></td>
<td><p>biased
representation
of a single
source or total
source</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p><em>filename.</em>sampling.<em>id</em>.msm</p></td>
<td><p>V</p></td>
<td><p>biased
representation
of multiple
sources</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Tally Files</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p><em>outputName</em>.pd<em>id</em>.txt</p></td>
<td></td>
<td><p>detailed
results for
point detector
tally <em>id</em></p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p><em>outputName</em>.pd<em>id</em>.chart</p></td>
<td><p>P</p></td>
<td><p>batch
convergence
data for point
detector tally
<em>id</em></p></td>
</tr>
<tr class="row-even"><td></td>
<td><p><em>outputName</em>.rt<em>id</em>.txt</p></td>
<td></td>
<td><p>detailed
results for
region tally
<em>id</em></p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p><em>outputName</em>.rt<em>id</em>.chart</p></td>
<td><p>P</p></td>
<td><p>batch
convergence
data for region
tally <em>id</em></p></td>
</tr>
<tr class="row-even"><td></td>
<td><p><em>outputName</em>.mt<em>id</em>.3dmap</p></td>
<td><p>V</p></td>
<td><p>mesh tally for
meshTally <em>id</em></p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p><em>outputName</em>.mt<em>id</em>.resp<em>xx</em>.3dmap</p></td>
<td><p>V</p></td>
<td><p>mesh tally of
response by
group for
meshTally <em>id</em>,
response <em>xx</em></p></td>
</tr>
<tr class="row-even"><td></td>
<td><p><em>outputName</em>.mt<em>id</em>.flux.txt</p></td>
<td></td>
<td><p>detailed
results for the
group-wise flux
of meshTally
<em>id</em></p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p><em>outputName</em>.mt<em>id</em>.tfluxtxt</p></td>
<td></td>
<td><p>detailed
results for
total flux of
meshTally <em>id</em></p></td>
</tr>
<tr class="row-even"><td></td>
<td><p><em>outputName</em>.mt<em>id</em>.resp<em>xx</em>.txt</p></td>
<td></td>
<td><p>detailed
results for
response <em>xx</em>
of meshTally
<em>id</em></p></td>
</tr>
<tr class="row-odd"><td><p>V – can be
displayed with
the Mesh File
Viewer
capabilities
Fulcrum.</p>
<p>P – can be
displayed with
the 2D plotting
capabilities of
Fulcrum.</p>
</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="mesh-source-saver-files">
<h3>Mesh source saver files<a class="headerlink" href="#mesh-source-saver-files" title="Permalink to this headline">¶</a></h3>
<p>If the Mesh Source Saver was used, one mesh source file will be created
for each defined source. For a single source, the filename will be
whatever was listed with the “filename=” keyword or “source.msm” if
nothing was given. For multiple sources, the filenames will include the
source identification number, such as “source.<em>id</em>.msm”. If there were
multiple sources and the “makeTotal” keyword was used, the total will be
stored in “source.msm”. Note that if these files are desired, they must
be manually copied back from the SCALE temporary area.</p>
<p>If the keyword “meshBiasFile=” was used, then for every mesh source
generated above there will also be a biased mesh source that is used in
sampling. These files have the names in the form of
“source.sampling.<em>id</em>.msm”.</p>
</div>
<div class="section" id="statistical-checks-on-point-detector-and-region-tallies">
<h3>Statistical checks on point detector and region tallies<a class="headerlink" href="#statistical-checks-on-point-detector-and-region-tallies" title="Permalink to this headline">¶</a></h3>
<p>With each region tally and point detector tally, detailed statistical
information is provided in separate files, “<em>outputName</em>.rt<em>id</em>.txt”
or “<em>outputName</em>.pd<em>id</em>.txt”, just after the group-by-group values
for the fluxes and responses. For the total fluxes and any responses of
each tally, two tables are given.</p>
<p>First, the values of the tally and several statistical quantities are
listed as a function of batch number. With each batch, the statistical
tests are listed by number with one of the following: “X” for passing,
“-” for failing or a blank if the test could not be performed yet. The
second table lists the details of the final statistical checks for the
last batch completed. This table lists the value for each of the six
tests as well as what the goal is for that test.</p>
<p>As an example, consider a 1 Ci point source of Watt spectrum neutrons
inside an <em>r</em>=20 cm sphere of polyethylene. Two tallies are used to
find the neutron dose rate (rem/hr) 35 cm from the center of the sphere
– a region tally (region between two concentric spheres with radii of 34
and 36 cm) and a point detector 35 cm away from the center of the
sphere. Twenty batches of 1000 particles each were used in this example.</p>
<p>The first depiction of the region tally dose rate response is shown in
<a class="reference internal" href="#list8-1"><span class="std std-numref">Listing 138</span></a>. Since four of the tests involve curve fits to the table
values over the last half of the simulation, the table is split showing
each half of the simulation separately. The second depiction of the region
tally, showing all of the details for the last batch, is shown in
<a class="reference internal" href="#list8-2"><span class="std std-numref">Listing 139</span></a>. These two tables show that this tally passed all the
statistical tests for the entire second half of the simulation. This
information, combined with the fact that this is a simple tally for a
well-posed problem, indicates that this tally is well converged.</p>
<div class="literal-block-wrapper docutils container" id="list8-1">
<div class="code-block-caption"><span class="caption-number">Listing 138 </span><span class="caption-text">Tally values for a well-converged tally.</span><a class="headerlink" href="#list8-1" title="Permalink to this code">¶</a></div>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span>      <span class="err">Tally</span> <span class="err">Values</span> <span class="err">as</span> <span class="err">the</span> <span class="err">Simulation</span> <span class="err">Progressed</span>

                <span class="err">average</span>      <span class="err">standard</span>    <span class="err">relat</span>      <span class="err">rel</span>       <span class="err">FOM</span>    <span class="err">stats</span> <span class="err">check</span>
       <span class="err">batch</span>     <span class="err">value</span>      <span class="err">deviation</span>    <span class="err">uncert</span>     <span class="err">VOV</span>     <span class="err">(/min)</span>   <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span> <span class="m">6</span>
      <span class="err">------</span>  <span class="err">-----------</span>  <span class="err">-----------</span>  <span class="err">-------</span>  <span class="err">--------</span>  <span class="err">--------</span>  <span class="err">-----------</span>
           <span class="m">1</span>  <span class="m">2</span><span class="err">.</span><span class="m">06269</span><span class="err">E+</span><span class="m">01</span>  <span class="m">2</span><span class="err">.</span><span class="m">45012</span><span class="err">E+</span><span class="m">00</span>  <span class="m">0</span><span class="err">.</span><span class="m">11878</span>  <span class="m">1</span><span class="err">.</span><span class="m">45</span><span class="err">E-</span><span class="m">02</span>  <span class="m">9</span><span class="err">.</span><span class="m">96</span><span class="err">E+</span><span class="m">02</span>      <span class="err">-</span>   <span class="err">X</span>
           <span class="m">2</span>  <span class="m">1</span><span class="err">.</span><span class="m">87353</span><span class="err">E+</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">65492</span><span class="err">E+</span><span class="m">00</span>  <span class="m">0</span><span class="err">.</span><span class="m">08833</span>  <span class="m">8</span><span class="err">.</span><span class="m">16</span><span class="err">E-</span><span class="m">03</span>  <span class="m">8</span><span class="err">.</span><span class="m">76</span><span class="err">E+</span><span class="m">02</span>      <span class="err">-</span>   <span class="err">X</span>
           <span class="m">3</span>  <span class="m">1</span><span class="err">.</span><span class="m">82317</span><span class="err">E+</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">33026</span><span class="err">E+</span><span class="m">00</span>  <span class="m">0</span><span class="err">.</span><span class="m">07296</span>  <span class="m">5</span><span class="err">.</span><span class="m">63</span><span class="err">E-</span><span class="m">03</span>  <span class="m">8</span><span class="err">.</span><span class="m">45</span><span class="err">E+</span><span class="m">02</span>      <span class="err">-</span>   <span class="err">X</span>
           <span class="m">4</span>  <span class="m">1</span><span class="err">.</span><span class="m">80905</span><span class="err">E+</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">15401</span><span class="err">E+</span><span class="m">00</span>  <span class="m">0</span><span class="err">.</span><span class="m">06379</span>  <span class="m">4</span><span class="err">.</span><span class="m">27</span><span class="err">E-</span><span class="m">03</span>  <span class="m">8</span><span class="err">.</span><span class="m">28</span><span class="err">E+</span><span class="m">02</span>      <span class="err">-</span>   <span class="err">X</span>
           <span class="m">5</span>  <span class="m">1</span><span class="err">.</span><span class="m">82780</span><span class="err">E+</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">03792</span><span class="err">E+</span><span class="m">00</span>  <span class="m">0</span><span class="err">.</span><span class="m">05679</span>  <span class="m">3</span><span class="err">.</span><span class="m">40</span><span class="err">E-</span><span class="m">03</span>  <span class="m">8</span><span class="err">.</span><span class="m">36</span><span class="err">E+</span><span class="m">02</span>      <span class="err">-</span>   <span class="err">X</span>
           <span class="m">6</span>  <span class="m">1</span><span class="err">.</span><span class="m">75679</span><span class="err">E+</span><span class="m">01</span>  <span class="m">9</span><span class="err">.</span><span class="m">28759</span><span class="err">E-</span><span class="m">01</span>  <span class="m">0</span><span class="err">.</span><span class="m">05287</span>  <span class="m">2</span><span class="err">.</span><span class="m">97</span><span class="err">E-</span><span class="m">03</span>  <span class="m">8</span><span class="err">.</span><span class="m">00</span><span class="err">E+</span><span class="m">02</span>      <span class="err">-</span>   <span class="err">X</span>
           <span class="m">7</span>  <span class="m">1</span><span class="err">.</span><span class="m">71843</span><span class="err">E+</span><span class="m">01</span>  <span class="m">8</span><span class="err">.</span><span class="m">46577</span><span class="err">E-</span><span class="m">01</span>  <span class="m">0</span><span class="err">.</span><span class="m">04926</span>  <span class="m">2</span><span class="err">.</span><span class="m">60</span><span class="err">E-</span><span class="m">03</span>  <span class="m">7</span><span class="err">.</span><span class="m">89</span><span class="err">E+</span><span class="m">02</span>      <span class="err">X</span>   <span class="err">X</span>
           <span class="m">8</span>  <span class="m">1</span><span class="err">.</span><span class="m">74775</span><span class="err">E+</span><span class="m">01</span>  <span class="m">7</span><span class="err">.</span><span class="m">99275</span><span class="err">E-</span><span class="m">01</span>  <span class="m">0</span><span class="err">.</span><span class="m">04573</span>  <span class="m">2</span><span class="err">.</span><span class="m">23</span><span class="err">E-</span><span class="m">03</span>  <span class="m">8</span><span class="err">.</span><span class="m">03</span><span class="err">E+</span><span class="m">02</span>      <span class="err">X</span>   <span class="err">X</span>
           <span class="m">9</span>  <span class="m">1</span><span class="err">.</span><span class="m">73520</span><span class="err">E+</span><span class="m">01</span>  <span class="m">7</span><span class="err">.</span><span class="m">52502</span><span class="err">E-</span><span class="m">01</span>  <span class="m">0</span><span class="err">.</span><span class="m">04337</span>  <span class="m">2</span><span class="err">.</span><span class="m">00</span><span class="err">E-</span><span class="m">03</span>  <span class="m">7</span><span class="err">.</span><span class="m">94</span><span class="err">E+</span><span class="m">02</span>      <span class="err">X</span>   <span class="err">X</span>
          <span class="m">10</span>  <span class="m">1</span><span class="err">.</span><span class="m">76020</span><span class="err">E+</span><span class="m">01</span>  <span class="m">7</span><span class="err">.</span><span class="m">17178</span><span class="err">E-</span><span class="m">01</span>  <span class="m">0</span><span class="err">.</span><span class="m">04074</span>  <span class="m">1</span><span class="err">.</span><span class="m">76</span><span class="err">E-</span><span class="m">03</span>  <span class="m">8</span><span class="err">.</span><span class="m">11</span><span class="err">E+</span><span class="m">02</span>  <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span>

          <span class="m">11</span>  <span class="m">1</span><span class="err">.</span><span class="m">74628</span><span class="err">E+</span><span class="m">01</span>  <span class="m">6</span><span class="err">.</span><span class="m">80834</span><span class="err">E-</span><span class="m">01</span>  <span class="m">0</span><span class="err">.</span><span class="m">03899</span>  <span class="m">1</span><span class="err">.</span><span class="m">62</span><span class="err">E-</span><span class="m">03</span>  <span class="m">8</span><span class="err">.</span><span class="m">03</span><span class="err">E+</span><span class="m">02</span>  <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span>
          <span class="m">12</span>  <span class="m">1</span><span class="err">.</span><span class="m">75161</span><span class="err">E+</span><span class="m">01</span>  <span class="m">6</span><span class="err">.</span><span class="m">52464</span><span class="err">E-</span><span class="m">01</span>  <span class="m">0</span><span class="err">.</span><span class="m">03725</span>  <span class="m">1</span><span class="err">.</span><span class="m">48</span><span class="err">E-</span><span class="m">03</span>  <span class="m">8</span><span class="err">.</span><span class="m">08</span><span class="err">E+</span><span class="m">02</span>  <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span>
          <span class="m">13</span>  <span class="m">1</span><span class="err">.</span><span class="m">72561</span><span class="err">E+</span><span class="m">01</span>  <span class="m">6</span><span class="err">.</span><span class="m">21777</span><span class="err">E-</span><span class="m">01</span>  <span class="m">0</span><span class="err">.</span><span class="m">03603</span>  <span class="m">1</span><span class="err">.</span><span class="m">39</span><span class="err">E-</span><span class="m">03</span>  <span class="m">7</span><span class="err">.</span><span class="m">96</span><span class="err">E+</span><span class="m">02</span>  <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span>
          <span class="m">14</span>  <span class="m">1</span><span class="err">.</span><span class="m">73196</span><span class="err">E+</span><span class="m">01</span>  <span class="m">6</span><span class="err">.</span><span class="m">00329</span><span class="err">E-</span><span class="m">01</span>  <span class="m">0</span><span class="err">.</span><span class="m">03466</span>  <span class="m">1</span><span class="err">.</span><span class="m">29</span><span class="err">E-</span><span class="m">03</span>  <span class="m">8</span><span class="err">.</span><span class="m">00</span><span class="err">E+</span><span class="m">02</span>  <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span>
          <span class="m">15</span>  <span class="m">1</span><span class="err">.</span><span class="m">72025</span><span class="err">E+</span><span class="m">01</span>  <span class="m">5</span><span class="err">.</span><span class="m">77747</span><span class="err">E-</span><span class="m">01</span>  <span class="m">0</span><span class="err">.</span><span class="m">03359</span>  <span class="m">1</span><span class="err">.</span><span class="m">21</span><span class="err">E-</span><span class="m">03</span>  <span class="m">7</span><span class="err">.</span><span class="m">97</span><span class="err">E+</span><span class="m">02</span>  <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span>
          <span class="m">16</span>  <span class="m">1</span><span class="err">.</span><span class="m">72019</span><span class="err">E+</span><span class="m">01</span>  <span class="m">5</span><span class="err">.</span><span class="m">58956</span><span class="err">E-</span><span class="m">01</span>  <span class="m">0</span><span class="err">.</span><span class="m">03249</span>  <span class="m">1</span><span class="err">.</span><span class="m">14</span><span class="err">E-</span><span class="m">03</span>  <span class="m">7</span><span class="err">.</span><span class="m">98</span><span class="err">E+</span><span class="m">02</span>  <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span>
          <span class="m">17</span>  <span class="m">1</span><span class="err">.</span><span class="m">72998</span><span class="err">E+</span><span class="m">01</span>  <span class="m">5</span><span class="err">.</span><span class="m">43721</span><span class="err">E-</span><span class="m">01</span>  <span class="m">0</span><span class="err">.</span><span class="m">03143</span>  <span class="m">1</span><span class="err">.</span><span class="m">06</span><span class="err">E-</span><span class="m">03</span>  <span class="m">8</span><span class="err">.</span><span class="m">02</span><span class="err">E+</span><span class="m">02</span>  <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span>
          <span class="m">18</span>  <span class="m">1</span><span class="err">.</span><span class="m">73534</span><span class="err">E+</span><span class="m">01</span>  <span class="m">5</span><span class="err">.</span><span class="m">29351</span><span class="err">E-</span><span class="m">01</span>  <span class="m">0</span><span class="err">.</span><span class="m">03050</span>  <span class="m">9</span><span class="err">.</span><span class="m">99</span><span class="err">E-</span><span class="m">04</span>  <span class="m">8</span><span class="err">.</span><span class="m">06</span><span class="err">E+</span><span class="m">02</span>  <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span>
          <span class="m">19</span>  <span class="m">1</span><span class="err">.</span><span class="m">72752</span><span class="err">E+</span><span class="m">01</span>  <span class="m">5</span><span class="err">.</span><span class="m">14264</span><span class="err">E-</span><span class="m">01</span>  <span class="m">0</span><span class="err">.</span><span class="m">02977</span>  <span class="m">9</span><span class="err">.</span><span class="m">51</span><span class="err">E-</span><span class="m">04</span>  <span class="m">8</span><span class="err">.</span><span class="m">01</span><span class="err">E+</span><span class="m">02</span>  <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span>
          <span class="m">20</span>  <span class="m">1</span><span class="err">.</span><span class="m">74155</span><span class="err">E+</span><span class="m">01</span>  <span class="m">5</span><span class="err">.</span><span class="m">03061</span><span class="err">E-</span><span class="m">01</span>  <span class="m">0</span><span class="err">.</span><span class="m">02889</span>  <span class="m">8</span><span class="err">.</span><span class="m">95</span><span class="err">E-</span><span class="m">04</span>  <span class="m">8</span><span class="err">.</span><span class="m">08</span><span class="err">E+</span><span class="m">02</span>  <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span>
      <span class="err">------</span>  <span class="err">-----------</span>  <span class="err">-----------</span>  <span class="err">-------</span>  <span class="err">--------</span>  <span class="err">--------</span>  <span class="err">-----------</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="list8-2">
<div class="code-block-caption"><span class="caption-number">Listing 139 </span><span class="caption-text">Final check for a well-converged tally.</span><a class="headerlink" href="#list8-2" title="Permalink to this code">¶</a></div>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span>        <span class="err">Final</span> <span class="err">Statistical</span> <span class="err">Check</span> <span class="err">(fits</span> <span class="err">are</span> <span class="err">over</span> <span class="err">the</span> <span class="err">last</span> <span class="err">half</span> <span class="err">of</span> <span class="err">the</span> <span class="err">simulation)</span>

      <span class="err">quantity</span>                <span class="err">check</span>                       <span class="err">goal</span>    <span class="err">actual</span>  <span class="err">pass</span>
      <span class="err">-----------------------</span> <span class="err">-----------------------</span>  <span class="err">-------</span>  <span class="err">--------</span>  <span class="err">----</span>
      <span class="m">1</span> <span class="err">mean</span>                  <span class="err">rel</span> <span class="err">slope</span> <span class="err">of</span> <span class="err">linear</span> <span class="err">fit</span>  <span class="err">=</span>  <span class="m">0</span><span class="err">.</span><span class="m">00</span>   <span class="err">-</span><span class="m">0</span><span class="err">.</span><span class="m">0118</span>  <span class="err">yes</span>
      <span class="m">2</span> <span class="err">standard</span> <span class="err">deviation</span>    <span class="err">exponent</span> <span class="err">of</span> <span class="err">power</span> <span class="err">fit</span>    <span class="err">=</span> <span class="err">-</span><span class="m">0</span><span class="err">.</span><span class="m">50</span>   <span class="err">-</span><span class="m">0</span><span class="err">.</span><span class="m">5092</span>  <span class="err">yes</span>
      <span class="m">3</span> <span class="err">relative</span> <span class="err">uncertainty</span>  <span class="err">final</span> <span class="err">value</span>              <span class="err">&lt;</span>  <span class="m">0</span><span class="err">.</span><span class="m">05</span>    <span class="m">0</span><span class="err">.</span><span class="m">0289</span>  <span class="err">yes</span>
      <span class="m">4</span> <span class="err">relative</span> <span class="err">VOV</span>          <span class="err">exponent</span> <span class="err">of</span> <span class="err">power</span> <span class="err">fit</span>    <span class="err">=</span> <span class="err">-</span><span class="m">1</span><span class="err">.</span><span class="m">00</span>   <span class="err">-</span><span class="m">0</span><span class="err">.</span><span class="m">9833</span>  <span class="err">yes</span>
      <span class="m">5</span> <span class="err">relative</span> <span class="err">VOV</span>          <span class="err">final</span> <span class="err">value</span>              <span class="err">&lt;</span>  <span class="m">0</span><span class="err">.</span><span class="m">10</span>    <span class="m">0</span><span class="err">.</span><span class="m">0009</span>  <span class="err">yes</span>
      <span class="m">6</span> <span class="err">figure-of-merit</span> <span class="err">(FOM)</span> <span class="err">rel</span> <span class="err">slope</span> <span class="err">of</span> <span class="err">linear</span> <span class="err">fit</span>  <span class="err">=</span>  <span class="m">0</span><span class="err">.</span><span class="m">00</span>    <span class="m">0</span><span class="err">.</span><span class="m">0075</span>  <span class="err">yes</span>
      <span class="err">-----------------------</span> <span class="err">-----------------------</span>  <span class="err">-------</span>  <span class="err">--------</span>  <span class="err">----</span>
</pre></div>
</div>
</div>
<p>Since the point detector is close compared to the size of the sphere, it
should converge slower than the region tally. Contributions coming from
different parts of the sphere have large differences in attenuation
which will cause large fluctuations in the weights arriving at the point
detector. The two statistical tables are shown in <a class="reference internal" href="#list8-3"><span class="std std-numref">Listing 140</span></a> and
<a class="reference internal" href="#list8-4"><span class="std std-numref">Listing 141</span></a>. This tally is not yet converged enough to pass most of
the statistical tests. With thirty times the simulation time, this point
detector tally will pass all six tests.</p>
<p><a class="reference internal" href="#fig8-14"><span class="std std-numref">Fig. 204</span></a> shows the behavior of both the region tally
(well-converged) and the point detector tally (not-yet-converged) for
this example problem as a function of the simulation run time (shown as
the twenty batches of particles). The batch values are shown as blue
points and the fits for the last half of the simulation are shown as
solid black lines. The average value for a tally should be constant, so
test 1 looks at the slope of a linear fit over the tally average over
the last half of the simulation. The uncertainty of the tally should
decrease with the square root of the total number of particles
(<span class="math notranslate nohighlight">\(\frac{1}{\sqrt{N}}\)</span>), so test 3 computes the slope of an
exponential fit which should be close to -0.5 (green dotted line). The
variance-of-the-variance (VOV) should decrease
with<span class="math notranslate nohighlight">\(\frac{1}{N}\)</span>, so test 4 computes the slope of an
exponential fit which should be close to -1.0. The tally figure-of-merit
(FOM) should be constant. Test 6 computes the slope of the FOM values
which should be zero.</p>
<div class="literal-block-wrapper docutils container" id="list8-3">
<div class="code-block-caption"><span class="caption-number">Listing 140 </span><span class="caption-text">Tally values for a not-yet-converged tally.</span><a class="headerlink" href="#list8-3" title="Permalink to this code">¶</a></div>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span>        <span class="err">Tally</span> <span class="err">Values</span> <span class="err">as</span> <span class="err">the</span> <span class="err">Simulation</span> <span class="err">Progressed</span>

                <span class="err">average</span>      <span class="err">standard</span>    <span class="err">relat</span>      <span class="err">rel</span>       <span class="err">FOM</span>    <span class="err">stats</span> <span class="err">check</span>
       <span class="err">batch</span>     <span class="err">value</span>      <span class="err">deviation</span>    <span class="err">uncert</span>     <span class="err">VOV</span>     <span class="err">(/min)</span>   <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span> <span class="m">6</span>
      <span class="err">------</span>  <span class="err">-----------</span>  <span class="err">-----------</span>  <span class="err">-------</span>  <span class="err">--------</span>  <span class="err">--------</span>  <span class="err">-----------</span>
           <span class="m">1</span>  <span class="m">1</span><span class="err">.</span><span class="m">45258</span><span class="err">E+</span><span class="m">01</span>  <span class="m">3</span><span class="err">.</span><span class="m">00915</span><span class="err">E+</span><span class="m">00</span>  <span class="m">0</span><span class="err">.</span><span class="m">20716</span>  <span class="m">1</span><span class="err">.</span><span class="m">60</span><span class="err">E-</span><span class="m">01</span>  <span class="m">3</span><span class="err">.</span><span class="m">27</span><span class="err">E+</span><span class="m">02</span>      <span class="err">-</span>   <span class="err">-</span>
           <span class="m">2</span>  <span class="m">1</span><span class="err">.</span><span class="m">83822</span><span class="err">E+</span><span class="m">01</span>  <span class="m">4</span><span class="err">.</span><span class="m">47657</span><span class="err">E+</span><span class="m">00</span>  <span class="m">0</span><span class="err">.</span><span class="m">24353</span>  <span class="m">5</span><span class="err">.</span><span class="m">27</span><span class="err">E-</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">15</span><span class="err">E+</span><span class="m">02</span>      <span class="err">-</span>   <span class="err">-</span>
           <span class="m">3</span>  <span class="m">1</span><span class="err">.</span><span class="m">84192</span><span class="err">E+</span><span class="m">01</span>  <span class="m">3</span><span class="err">.</span><span class="m">44084</span><span class="err">E+</span><span class="m">00</span>  <span class="m">0</span><span class="err">.</span><span class="m">18681</span>  <span class="m">3</span><span class="err">.</span><span class="m">20</span><span class="err">E-</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">29</span><span class="err">E+</span><span class="m">02</span>      <span class="err">-</span>   <span class="err">-</span>
           <span class="m">4</span>  <span class="m">1</span><span class="err">.</span><span class="m">87897</span><span class="err">E+</span><span class="m">01</span>  <span class="m">2</span><span class="err">.</span><span class="m">80685</span><span class="err">E+</span><span class="m">00</span>  <span class="m">0</span><span class="err">.</span><span class="m">14938</span>  <span class="m">2</span><span class="err">.</span><span class="m">33</span><span class="err">E-</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">51</span><span class="err">E+</span><span class="m">02</span>      <span class="err">-</span>   <span class="err">-</span>
           <span class="m">5</span>  <span class="m">1</span><span class="err">.</span><span class="m">78133</span><span class="err">E+</span><span class="m">01</span>  <span class="m">2</span><span class="err">.</span><span class="m">31117</span><span class="err">E+</span><span class="m">00</span>  <span class="m">0</span><span class="err">.</span><span class="m">12974</span>  <span class="m">2</span><span class="err">.</span><span class="m">09</span><span class="err">E-</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">60</span><span class="err">E+</span><span class="m">02</span>      <span class="err">-</span>   <span class="err">-</span>
           <span class="m">6</span>  <span class="m">1</span><span class="err">.</span><span class="m">75190</span><span class="err">E+</span><span class="m">01</span>  <span class="m">2</span><span class="err">.</span><span class="m">02252</span><span class="err">E+</span><span class="m">00</span>  <span class="m">0</span><span class="err">.</span><span class="m">11545</span>  <span class="m">1</span><span class="err">.</span><span class="m">74</span><span class="err">E-</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">68</span><span class="err">E+</span><span class="m">02</span>      <span class="err">-</span>   <span class="err">-</span>
           <span class="m">7</span>  <span class="m">1</span><span class="err">.</span><span class="m">79523</span><span class="err">E+</span><span class="m">01</span>  <span class="m">2</span><span class="err">.</span><span class="m">18108</span><span class="err">E+</span><span class="m">00</span>  <span class="m">0</span><span class="err">.</span><span class="m">12149</span>  <span class="m">1</span><span class="err">.</span><span class="m">78</span><span class="err">E-</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">30</span><span class="err">E+</span><span class="m">02</span>      <span class="err">-</span>   <span class="err">-</span>
           <span class="m">8</span>  <span class="m">1</span><span class="err">.</span><span class="m">75624</span><span class="err">E+</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">95272</span><span class="err">E+</span><span class="m">00</span>  <span class="m">0</span><span class="err">.</span><span class="m">11119</span>  <span class="m">1</span><span class="err">.</span><span class="m">63</span><span class="err">E-</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">36</span><span class="err">E+</span><span class="m">02</span>      <span class="err">-</span>   <span class="err">-</span>
           <span class="m">9</span>  <span class="m">1</span><span class="err">.</span><span class="m">67648</span><span class="err">E+</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">75017</span><span class="err">E+</span><span class="m">00</span>  <span class="m">0</span><span class="err">.</span><span class="m">10440</span>  <span class="m">1</span><span class="err">.</span><span class="m">58</span><span class="err">E-</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">37</span><span class="err">E+</span><span class="m">02</span>      <span class="err">-</span>   <span class="err">-</span>
          <span class="m">10</span>  <span class="m">1</span><span class="err">.</span><span class="m">70234</span><span class="err">E+</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">66732</span><span class="err">E+</span><span class="m">00</span>  <span class="m">0</span><span class="err">.</span><span class="m">09794</span>  <span class="m">1</span><span class="err">.</span><span class="m">30</span><span class="err">E-</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">40</span><span class="err">E+</span><span class="m">02</span>  <span class="err">X</span> <span class="err">X</span> <span class="err">-</span> <span class="err">-</span> <span class="err">-</span> <span class="err">-</span>

          <span class="m">11</span>  <span class="m">1</span><span class="err">.</span><span class="m">70104</span><span class="err">E+</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">55192</span><span class="err">E+</span><span class="m">00</span>  <span class="m">0</span><span class="err">.</span><span class="m">09123</span>  <span class="m">1</span><span class="err">.</span><span class="m">18</span><span class="err">E-</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">47</span><span class="err">E+</span><span class="m">02</span>  <span class="err">-</span> <span class="err">-</span> <span class="err">-</span> <span class="err">X</span> <span class="err">-</span> <span class="err">-</span>
          <span class="m">12</span>  <span class="m">1</span><span class="err">.</span><span class="m">71598</span><span class="err">E+</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">48432</span><span class="err">E+</span><span class="m">00</span>  <span class="m">0</span><span class="err">.</span><span class="m">08650</span>  <span class="m">1</span><span class="err">.</span><span class="m">03</span><span class="err">E-</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">50</span><span class="err">E+</span><span class="m">02</span>  <span class="err">X</span> <span class="err">-</span> <span class="err">-</span> <span class="err">X</span> <span class="err">-</span> <span class="err">-</span>
          <span class="m">13</span>  <span class="m">1</span><span class="err">.</span><span class="m">74796</span><span class="err">E+</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">42808</span><span class="err">E+</span><span class="m">00</span>  <span class="m">0</span><span class="err">.</span><span class="m">08170</span>  <span class="m">8</span><span class="err">.</span><span class="m">85</span><span class="err">E-</span><span class="m">02</span>  <span class="m">1</span><span class="err">.</span><span class="m">55</span><span class="err">E+</span><span class="m">02</span>  <span class="err">X</span> <span class="err">-</span> <span class="err">-</span> <span class="err">-</span> <span class="err">X</span> <span class="err">-</span>
          <span class="m">14</span>  <span class="m">1</span><span class="err">.</span><span class="m">68710</span><span class="err">E+</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">33186</span><span class="err">E+</span><span class="m">00</span>  <span class="m">0</span><span class="err">.</span><span class="m">07894</span>  <span class="m">8</span><span class="err">.</span><span class="m">70</span><span class="err">E-</span><span class="m">02</span>  <span class="m">1</span><span class="err">.</span><span class="m">54</span><span class="err">E+</span><span class="m">02</span>  <span class="err">X</span> <span class="err">-</span> <span class="err">-</span> <span class="err">-</span> <span class="err">X</span> <span class="err">-</span>
          <span class="m">15</span>  <span class="m">1</span><span class="err">.</span><span class="m">65807</span><span class="err">E+</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">25707</span><span class="err">E+</span><span class="m">00</span>  <span class="m">0</span><span class="err">.</span><span class="m">07582</span>  <span class="m">8</span><span class="err">.</span><span class="m">34</span><span class="err">E-</span><span class="m">02</span>  <span class="m">1</span><span class="err">.</span><span class="m">56</span><span class="err">E+</span><span class="m">02</span>  <span class="err">X</span> <span class="err">-</span> <span class="err">-</span> <span class="err">-</span> <span class="err">X</span> <span class="err">-</span>
          <span class="m">16</span>  <span class="m">1</span><span class="err">.</span><span class="m">65731</span><span class="err">E+</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">20836</span><span class="err">E+</span><span class="m">00</span>  <span class="m">0</span><span class="err">.</span><span class="m">07291</span>  <span class="m">7</span><span class="err">.</span><span class="m">61</span><span class="err">E-</span><span class="m">02</span>  <span class="m">1</span><span class="err">.</span><span class="m">59</span><span class="err">E+</span><span class="m">02</span>  <span class="err">X</span> <span class="err">-</span> <span class="err">-</span> <span class="err">X</span> <span class="err">X</span> <span class="err">-</span>
          <span class="m">17</span>  <span class="m">1</span><span class="err">.</span><span class="m">62390</span><span class="err">E+</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">14550</span><span class="err">E+</span><span class="m">00</span>  <span class="m">0</span><span class="err">.</span><span class="m">07054</span>  <span class="m">7</span><span class="err">.</span><span class="m">40</span><span class="err">E-</span><span class="m">02</span>  <span class="m">1</span><span class="err">.</span><span class="m">59</span><span class="err">E+</span><span class="m">02</span>  <span class="err">X</span> <span class="err">-</span> <span class="err">-</span> <span class="err">X</span> <span class="err">X</span> <span class="err">-</span>
          <span class="m">18</span>  <span class="m">1</span><span class="err">.</span><span class="m">70002</span><span class="err">E+</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">17106</span><span class="err">E+</span><span class="m">00</span>  <span class="m">0</span><span class="err">.</span><span class="m">06889</span>  <span class="m">5</span><span class="err">.</span><span class="m">75</span><span class="err">E-</span><span class="m">02</span>  <span class="m">1</span><span class="err">.</span><span class="m">58</span><span class="err">E+</span><span class="m">02</span>  <span class="err">X</span> <span class="err">-</span> <span class="err">-</span> <span class="err">X</span> <span class="err">X</span> <span class="err">-</span>
          <span class="m">19</span>  <span class="m">1</span><span class="err">.</span><span class="m">70863</span><span class="err">E+</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">14126</span><span class="err">E+</span><span class="m">00</span>  <span class="m">0</span><span class="err">.</span><span class="m">06679</span>  <span class="m">5</span><span class="err">.</span><span class="m">20</span><span class="err">E-</span><span class="m">02</span>  <span class="m">1</span><span class="err">.</span><span class="m">59</span><span class="err">E+</span><span class="m">02</span>  <span class="err">X</span> <span class="err">-</span> <span class="err">-</span> <span class="err">-</span> <span class="err">X</span> <span class="err">-</span>
          <span class="m">20</span>  <span class="m">1</span><span class="err">.</span><span class="m">68215</span><span class="err">E+</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">09329</span><span class="err">E+</span><span class="m">00</span>  <span class="m">0</span><span class="err">.</span><span class="m">06499</span>  <span class="m">5</span><span class="err">.</span><span class="m">04</span><span class="err">E-</span><span class="m">02</span>  <span class="m">1</span><span class="err">.</span><span class="m">60</span><span class="err">E+</span><span class="m">02</span>  <span class="err">X</span> <span class="err">-</span> <span class="err">-</span> <span class="err">-</span> <span class="err">X</span> <span class="err">-</span>
      <span class="err">------</span>  <span class="err">-----------</span>  <span class="err">-----------</span>  <span class="err">-------</span>  <span class="err">--------</span>  <span class="err">--------</span>  <span class="err">-----------</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="list8-4">
<div class="code-block-caption"><span class="caption-number">Listing 141 </span><span class="caption-text">Final check for a not-yet-converged tally.</span><a class="headerlink" href="#list8-4" title="Permalink to this code">¶</a></div>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span>        <span class="err">Final</span> <span class="err">Statistical</span> <span class="err">Check</span> <span class="err">(fits</span> <span class="err">are</span> <span class="err">over</span> <span class="err">the</span> <span class="err">last</span> <span class="err">half</span> <span class="err">of</span> <span class="err">the</span> <span class="err">simulation)</span>

      <span class="err">quantity</span>                <span class="err">check</span>                       <span class="err">goal</span>    <span class="err">actual</span>  <span class="err">pass</span>
      <span class="err">-----------------------</span> <span class="err">-----------------------</span>  <span class="err">-------</span>  <span class="err">--------</span>  <span class="err">----</span>
      <span class="m">1</span> <span class="err">mean</span>                  <span class="err">rel</span> <span class="err">slope</span> <span class="err">of</span> <span class="err">linear</span> <span class="err">fit</span>  <span class="err">=</span>  <span class="m">0</span><span class="err">.</span><span class="m">00</span>   <span class="err">-</span><span class="m">0</span><span class="err">.</span><span class="m">0468</span>  <span class="err">yes</span>
      <span class="m">2</span> <span class="err">standard</span> <span class="err">deviation</span>    <span class="err">exponent</span> <span class="err">of</span> <span class="err">power</span> <span class="err">fit</span>    <span class="err">=</span> <span class="err">-</span><span class="m">0</span><span class="err">.</span><span class="m">50</span>   <span class="err">-</span><span class="m">0</span><span class="err">.</span><span class="m">6006</span>  <span class="err">no</span>
      <span class="m">3</span> <span class="err">relative</span> <span class="err">uncertainty</span>  <span class="err">final</span> <span class="err">value</span>              <span class="err">&lt;</span>  <span class="m">0</span><span class="err">.</span><span class="m">05</span>    <span class="m">0</span><span class="err">.</span><span class="m">0650</span>  <span class="err">no</span>
      <span class="m">4</span> <span class="err">relative</span> <span class="err">VOV</span>          <span class="err">exponent</span> <span class="err">of</span> <span class="err">power</span> <span class="err">fit</span>    <span class="err">=</span> <span class="err">-</span><span class="m">1</span><span class="err">.</span><span class="m">00</span>   <span class="err">-</span><span class="m">1</span><span class="err">.</span><span class="m">3823</span>  <span class="err">no</span>
      <span class="m">5</span> <span class="err">relative</span> <span class="err">VOV</span>          <span class="err">final</span> <span class="err">value</span>              <span class="err">&lt;</span>  <span class="m">0</span><span class="err">.</span><span class="m">10</span>    <span class="m">0</span><span class="err">.</span><span class="m">0504</span>  <span class="err">yes</span>
      <span class="m">6</span> <span class="err">figure-of-merit</span> <span class="err">(FOM)</span> <span class="err">rel</span> <span class="err">slope</span> <span class="err">of</span> <span class="err">linear</span> <span class="err">fit</span>  <span class="err">=</span>  <span class="m">0</span><span class="err">.</span><span class="m">00</span>    <span class="m">0</span><span class="err">.</span><span class="m">1667</span>  <span class="err">no</span>
      <span class="err">-----------------------</span> <span class="err">-----------------------</span>  <span class="err">-------</span>  <span class="err">--------</span>  <span class="err">----</span>
</pre></div>
</div>
</div>
<div class="figure align-center" id="id38">
<span id="fig8-14"></span><img alt="_images/8-14.png" src="_images/8-14.png" />
<p class="caption"><span class="caption-number">Fig. 204 </span><span class="caption-text">Behavior of two tallies as a function of number of particle batches.</span><a class="headerlink" href="#id38" title="Permalink to this image">¶</a></p>
</div>
<p>Note that the slope of the VOV is found by fitting an exponential curve
through the calculated VOV values and is very sensitive to outliers.
Users need to apply their own judgment to whether or not the VOV test
implemented in Monaco is too strict (failing when the tally seems
converged).</p>
<p>Mesh tallies produce similar tables - detailed statistical information
is provided in separate files, “<em>outputName</em>.mt<em>id</em>.flux.txt” and
“<em>outputName</em>.mt<em>id</em>.resp<em>xx</em>.txt”, for the total flux and
responses. First, the statistical values related to the mean relative
variance are listed as a function of batch number. With each batch, the
statistical tests are listed by number with one of the following: “X”
for passing, “-” for failing or a blank if the test could not be
performed yet. The second table lists the details of the final
statistical checks for the last batch completed. This table lists the
value for each of the four tests as well as what the goal is for that
test.</p>
</div>
</div>
<div class="section" id="example-problems">
<h2>Example Problems<a class="headerlink" href="#example-problems" title="Permalink to this headline">¶</a></h2>
<div class="section" id="neutron-transmission-through-an-iron-sphere">
<h3>Neutron transmission through an iron sphere<a class="headerlink" href="#neutron-transmission-through-an-iron-sphere" title="Permalink to this headline">¶</a></h3>
<p>In the early 1990s, several experiments were performed in order to
benchmark ENDF/B-VI cross-section data for iron <a class="bibtex reference internal" href="#sajo-comparison-1993" id="id9">[SWA93]</a> This example
problem will use Monaco to simulate one of these experiments:
transmission of <sup>252</sup>Cf neutrons through a sphere of iron. The
Monaco calculations will be compared to two sets of measurements, one by
the Czechoslovakian National Research Institute (NRI) and the other by
the Skoda Company.</p>
<p>The Monaco model for this sample problem
(samplesinputmonaco.ironSphere.inp) will be quite simple—just a point
source and a spherical shell of iron. Three different tallies are used
which should all give the same result: a region tally (for a thin
spherical shell at radius=100cm); a point detector tally at
(x,y,z)=(100,0,0); and a coarse mesh tally, with one cell enclosing the
point (x,y,z)=(100,0,0).</p>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p>First, the cross sections need to be computed.  Here, csas-mg is used and the “activities” material is included to make sure the flux-to-dose conversion factors are added to the working library.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="nf">=csas-mg</span>
<span class="err">Materials</span> <span class="err">for</span> <span class="err">Leakage</span> <span class="err">spectrum</span> <span class="err">of</span> <span class="err">Cf-</span><span class="m">252</span> <span class="err">through</span> <span class="err">an</span> <span class="err">iron</span> <span class="err">sphere</span>
<span class="err">v</span><span class="m">7</span><span class="err">-</span><span class="m">27</span><span class="err">n</span><span class="m">19</span><span class="err">g</span>
<span class="n">read</span><span class="err"> </span><span class="n">composition</span>
    <span class="err">wtptSphere</span> <span class="m">3</span> <span class="m">8</span><span class="err">.</span><span class="m">0</span> <span class="m">7</span>   <span class="m">26054</span> <span class="m">5</span><span class="err">.</span><span class="m">767</span>   <span class="m">26056</span> <span class="m">91</span><span class="err">.</span><span class="m">618</span>  <span class="m">26057</span> <span class="m">2</span><span class="err">.</span><span class="m">187</span>
                         <span class="m">26058</span> <span class="m">0</span><span class="err">.</span><span class="m">298</span>    <span class="m">6000</span> <span class="m">0</span><span class="err">.</span><span class="m">07</span>    <span class="m">15000</span> <span class="m">0</span><span class="err">.</span><span class="m">03</span>
                         <span class="m">16000</span> <span class="m">0</span><span class="err">.</span><span class="m">03</span>
        <span class="m">1</span><span class="err">.</span><span class="m">0</span> <span class="m">293</span><span class="err">.</span><span class="m">0</span> <span class="n">end</span>
    <span class="err">activities</span> <span class="m">99</span> <span class="m">1</span><span class="err">.</span><span class="m">0</span> <span class="m">293</span><span class="err">.</span><span class="m">0</span> <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">composition</span>
<span class="n">end</span>
</pre></div>
</div>
<p>The Monaco input file starts with module name (“monaco”) and a title.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="nf">=monaco</span>
<span class="err">Leakage</span> <span class="err">spectrum</span> <span class="err">of</span> <span class="err">Cf-</span><span class="m">252</span> <span class="err">through</span> <span class="err">an</span> <span class="err">iron</span> <span class="err">sphere</span>
</pre></div>
</div>
<p>The mixing table information can be found in the output of the above csas-mg run.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">crossSections</span>
    <span class="err">ampxFileUnit=</span><span class="m">4</span>
    <span class="err">mixture</span> <span class="m">3</span>
        <span class="err">element</span>     <span class="m">26054 5.150920E-03</span>
        <span class="err">element</span>     <span class="m">26056 7.891181E-02</span>
        <span class="err">element</span>     <span class="m">26057 1.850588E-03</span>
        <span class="err">element</span>     <span class="m">26058 2.478141E-04</span>
        <span class="err">element</span>      <span class="m">6000 2.807736E-04</span>
        <span class="err">element</span>     <span class="m">15031 4.666202E-05</span>
        <span class="err">element</span>     <span class="m">16032 4.283109E-05</span>
        <span class="err">element</span>     <span class="m">16033 3.380690E-07</span>
        <span class="err">element</span>     <span class="m">16034 1.897694E-06</span>
        <span class="err">element</span>     <span class="m">16036 9.015172E-09</span>
    <span class="n">end</span><span class="err"> </span><span class="n">mixture</span>
<span class="n">end</span><span class="err"> </span><span class="n">crossSections</span>
</pre></div>
</div>
<p>The SGGP geometry consists of several nested spheres. The regions (in
order) are a void for the <sup>252</sup>Cf source, the iron shield, a void
out to the detector, a thin shell about 100 cm, and then a void to the
problem boundary. The only volume that needs to be supplied is the
fourth region, since that is where the flux tally will be.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">geometry</span>
    <span class="err">global</span> <span class="err">unit</span> <span class="m">1</span>
        <span class="err">sphere</span>   <span class="m">10</span>   <span class="m">1</span><span class="err">.</span><span class="m">25</span>
        <span class="err">sphere</span>   <span class="m">11</span>  <span class="m">25</span><span class="err">.</span><span class="m">0</span>
        <span class="err">sphere</span>   <span class="m">12</span>  <span class="m">99</span><span class="err">.</span><span class="m">5</span>
        <span class="err">sphere</span>   <span class="m">13</span>  <span class="m">100</span><span class="err">.</span><span class="m">5</span>
        <span class="err">sphere</span>   <span class="m">99</span>  <span class="m">200</span><span class="err">.</span><span class="m">0</span>
        <span class="err">media</span>  <span class="m">0</span> <span class="m">1</span>   <span class="m">10</span>       <span class="err">vol=</span><span class="m">8</span><span class="err">.</span><span class="m">181230869</span>
        <span class="err">media</span>  <span class="m">3</span> <span class="m">1</span>   <span class="m">11</span> <span class="err">-</span><span class="m">10</span>   <span class="err">vol=</span><span class="m">65441</span><span class="err">.</span><span class="m">66572</span>
        <span class="err">media</span>  <span class="m">0</span> <span class="m">1</span>   <span class="m">12</span> <span class="err">-</span><span class="m">11</span>   <span class="err">vol=</span><span class="m">4060822</span><span class="err">.</span><span class="m">14</span>
        <span class="err">media</span>  <span class="m">0</span> <span class="m">1</span>   <span class="m">13</span> <span class="err">-</span><span class="m">12</span>   <span class="err">vol=</span><span class="m">125664</span><span class="err">.</span><span class="m">7533</span>
        <span class="err">media</span>  <span class="m">0</span> <span class="m">1</span>   <span class="m">99</span> <span class="err">-</span><span class="m">13</span>   <span class="err">vol=</span><span class="m">29258384</span><span class="err">.</span><span class="m">9</span>
    <span class="err">boundary</span> <span class="m">99</span>
<span class="n">end</span><span class="err"> </span><span class="n">geometry</span>
</pre></div>
</div>
<p>For the different tallies, responses, locations, and grid geometry
objects need to be defined. For the source, one distribution needs to be
defined.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">definitions</span>
    <span class="err">response</span> <span class="m">1</span>
        <span class="err">title=</span><span class="s">&quot;ANSI standard (1977) neutron flux-to-dose-rate factors  (rem/h)/(neutrons/cm2/s)&quot;</span>
        <span class="err">specialDose=</span><span class="m">9029</span>
    <span class="n">end</span><span class="err"> </span><span class="n">response</span>
    <span class="err">location</span> <span class="m">1</span>
        <span class="err">title=</span><span class="s">&quot;true detector location&quot;</span>
        <span class="err">position</span> <span class="m">100</span><span class="err">.</span><span class="m">0</span> <span class="m">0</span><span class="err">.</span><span class="m">0</span> <span class="m">0</span><span class="err">.</span><span class="m">0</span>
    <span class="n">end</span><span class="err"> </span><span class="n">location</span>
    <span class="err">gridGeometry</span> <span class="m">1</span>
        <span class="err">title=</span><span class="s">&quot;simple grid&quot;</span>
        <span class="err">xplanes</span> <span class="err">-</span><span class="m">25</span> <span class="err">-</span><span class="m">15</span> <span class="err">-</span><span class="m">5</span> <span class="m">5</span> <span class="m">15</span> <span class="m">25</span> <span class="m">35</span> <span class="m">55</span> <span class="m">75</span> <span class="m">95</span> <span class="m">105</span> <span class="n">end</span>
        <span class="err">yLinear</span> <span class="m">5</span> <span class="err">-</span><span class="m">25</span> <span class="m">25</span>
        <span class="err">zLinear</span> <span class="m">5</span> <span class="err">-</span><span class="m">25</span> <span class="m">25</span>
    <span class="n">end</span><span class="err"> </span><span class="n">gridGeometry</span>
    <span class="err">distribution</span> <span class="m">1</span>
        <span class="err">title=</span><span class="s">&quot;Cf-252 neutrons, Watt spectrum a=1.025 MeV and  b=2.926/MeV&quot;</span>
        <span class="err">special=</span><span class="s">&quot;wattSpectrum&quot;</span>
        <span class="err">parameters</span> <span class="m">1</span><span class="err">.</span><span class="m">025</span> <span class="m">2</span><span class="err">.</span><span class="m">926</span> <span class="n">end</span>
    <span class="n">end</span><span class="err"> </span><span class="n">distribution</span>
<span class="n">end</span><span class="err"> </span><span class="n">definitions</span>
</pre></div>
</div>
<p>The <sup>252</sup>Cf source can be modeled using the Watt spectrum with
<em>a</em>=1.025 MeV and <em>b</em>=2.926/MeV, which was used for distribution 1.
The strength is set so that the total flux at the detector (at
<em>r</em>=100 cm) without the shield would be 1 n/cm<sup>2</sup>/s. So,
strength = 4π(100)<sup>2</sup> = 125664 n/s.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">sources</span>
    <span class="err">src</span> <span class="m">1</span>
        <span class="err">title=</span><span class="s">&quot;Cf-252 neutrons, Watt Spectra using a=1.025 MeV and b=2.926/MeV&quot;</span>
        <span class="err">neutron</span>  <span class="err">strength=</span><span class="m">125663</span><span class="err">.</span><span class="m">70614</span>
        <span class="err">sphere</span> <span class="m">0</span><span class="err">.</span><span class="m">1</span>
        <span class="err">eDistributionID=</span><span class="m">1</span>
    <span class="n">end</span><span class="err"> </span><span class="n">src</span>
<span class="n">end</span><span class="err"> </span><span class="n">sources</span>
</pre></div>
</div>
<p>Three tallies will be defined: a region tally over the fourth region of
unit 1 (since this is a symmetric problem); a mesh tally using a coarse
mesh over the entire problem; and a point detector tally at the true
detector location.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">tallies</span>
    <span class="err">regionTally</span> <span class="m">4</span>
        <span class="err">title=</span><span class="s">&quot;example region tally&quot;</span>
        <span class="err">neutron</span>
        <span class="err">unit=</span><span class="m">1</span> <span class="err">region=</span><span class="m">4</span>
        <span class="err">responseID=</span><span class="m">1</span>
    <span class="n">end</span><span class="err"> </span><span class="n">regionTally</span>



    <span class="err">meshTally</span> <span class="m">1</span>
        <span class="err">title=</span><span class="s">&quot;example mesh tally&quot;</span>
        <span class="err">neutron</span>
        <span class="err">gridGeometryID=</span><span class="m">1</span>
        <span class="err">responseID=</span><span class="m">1</span>
    <span class="n">end</span><span class="err"> </span><span class="n">meshTally</span>
    <span class="err">pointDetector</span> <span class="m">2</span>
        <span class="err">title=</span><span class="s">&quot;example point detector&quot;</span>
        <span class="err">neutron</span>
        <span class="err">locationID=</span><span class="m">1</span>
        <span class="err">responseID=</span><span class="m">1</span>
    <span class="n">end</span><span class="err"> </span><span class="n">pointDetector</span>
<span class="n">end</span><span class="err"> </span><span class="n">tallies</span>
</pre></div>
</div>
<p>Monte Carlo parameters include the starting random number seed, the
number of particles per batch, and the number of batches to simulate.
Since we are only interested in simulating neutrons, use the keywords
“neutrons” and “noPhotons” to transport neutrons and not photons. To
prevent the production of fission neutrons and secondary gamma rays from
neutron interactions, the keywords “fissionMult=0” and “secondaryMult=0”
are used. In order to prevent a long run time, a maximum allowable run
time using the “maxMinutes=” keyword could also be used.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">parameters</span>
    <span class="err">randomSeed=</span><span class="m">8655745262010033</span>
    <span class="err">perBatch=</span><span class="m">262000</span>  <span class="err">batches=</span><span class="m">10</span>
    <span class="err">neutrons</span>  <span class="err">noPhotons</span>
    <span class="err">fissionMult=</span><span class="m">0</span>  <span class="err">secondaryMult=</span><span class="m">0</span>
<span class="n">end</span><span class="err"> </span><span class="n">parameters</span>
</pre></div>
</div>
<p>Without any biasing parameters, Monaco will set the target weights of
every energy group in every region to 1 and the values for weight lower
bounds (Russian roulette) will be 1/3. Since “noPhotons” was listed in
the parameters block, photons should not be generated. So, no biasing
block is required.</p>
<p>If desired, a biasing block could be added to change the size of the
weight windows (default is 5, giving lower weights of 1/3 and upper
weights of 5/3). By using the default target weights of 1.0 and defining
the windowRatio as 199, the lower weights are all set to 0.01 and the
upper weights for splitting are 1.99.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">biasing</span>
    <span class="err">windowRatio=</span><span class="m">199</span><span class="err">.</span><span class="m">0</span>
<span class="n">end</span><span class="err"> </span><span class="n">biasing</span>
</pre></div>
</div>
<p>or the target weights and lower weights could be listed for every group,
every region or for every group/region. For all regions having the same
targets and lower bounds, the following could be used:</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">biasing</span>
    <span class="err">targetWeights</span>  <span class="m">27</span><span class="err">r</span><span class="m">1</span><span class="err">.</span><span class="m">00</span> <span class="m">19</span><span class="err">r</span><span class="m">0</span><span class="err">.</span><span class="m">0</span> <span class="n">end</span>
    <span class="err">lowerWeights</span>   <span class="m">27</span><span class="err">r</span><span class="m">0</span><span class="err">.</span><span class="m">01</span> <span class="m">19</span><span class="err">r</span><span class="m">0</span><span class="err">.</span><span class="m">0</span> <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">biasing</span>
</pre></div>
</div>
<p>If this last case were used, the “noPhotons” keyword would not be
required since the target weights for all photon groups were explicitly
set to 0.</p>
<p>Finally, the Monaco input file is ended with</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">end</span><span class="err"> </span><span class="n">data</span>
<span class="n">end</span>
</pre></div>
</div>
<p>The complete input file <code class="docutils literal notranslate"><span class="pre">monaco.ironSphere.inp</span></code> is located in the SCALE
<code class="docutils literal notranslate"><span class="pre">samples\input</span></code> directory.</p>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p>When Monaco finishes, there are several output files produced. First,
the main output file lists summaries for each of the region tallies and
point detector tallies. With each mesh tally, a *.3dmap file is
produced which can be viewed with the Mesh File Viewer capabilities of
Fulcrum. Region tallies and point detectors produce text files listing
group-by-group results for fluxes and any optional responses. Both of
these tallies also produce *.chart files which contain information
about how the simulation progresses with each batch. These can be viewed
with the Interactive Plotter capabilities of Fulcrum.</p>
<p>From the main output file, the final tally results summary is shown
below:</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="err">Final</span> <span class="err">Tally</span> <span class="err">Results</span> <span class="err">Summary</span>
 <span class="err">============================</span>

<span class="err">Neutron</span> <span class="err">Point</span> <span class="err">Detector</span> <span class="m">2</span><span class="err">.</span>  <span class="err">example</span> <span class="err">point</span> <span class="err">detector</span>
                         <span class="err">average</span>      <span class="err">standard</span>     <span class="err">relat</span>      <span class="err">FOM</span>    <span class="err">stat</span> <span class="err">checks</span>
    <span class="err">tally/quantity</span>        <span class="err">value</span>       <span class="err">deviation</span>    <span class="err">uncert</span>   <span class="err">(/min)</span>   <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span> <span class="m">6</span>
    <span class="err">------------------</span>  <span class="err">-----------</span>  <span class="err">-----------</span>  <span class="err">-------</span>  <span class="err">--------</span>  <span class="err">-----------</span>
    <span class="err">uncollided</span> <span class="err">flux</span>     <span class="m">5</span><span class="err">.</span><span class="m">28059</span><span class="err">E-</span><span class="m">03</span>  <span class="m">3</span><span class="err">.</span><span class="m">15856</span><span class="err">E-</span><span class="m">06</span>  <span class="m">0</span><span class="err">.</span><span class="m">00060</span>
    <span class="err">total</span> <span class="err">flux</span>          <span class="m">9</span><span class="err">.</span><span class="m">76163</span><span class="err">E-</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">06422</span><span class="err">E-</span><span class="m">03</span>  <span class="m">0</span><span class="err">.</span><span class="m">00109</span>  <span class="m">8</span><span class="err">.</span><span class="m">39</span><span class="err">E+</span><span class="m">04</span>  <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span>
    <span class="err">response</span> <span class="m">1</span>          <span class="m">7</span><span class="err">.</span><span class="m">55800</span><span class="err">E-</span><span class="m">05</span>  <span class="m">8</span><span class="err">.</span><span class="m">63873</span><span class="err">E-</span><span class="m">08</span>  <span class="m">0</span><span class="err">.</span><span class="m">00114</span>  <span class="m">7</span><span class="err">.</span><span class="m">64</span><span class="err">E+</span><span class="m">04</span>  <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span>
    <span class="err">------------------</span>  <span class="err">-----------</span>  <span class="err">-----------</span>  <span class="err">-------</span>  <span class="err">--------</span>  <span class="err">-----------</span>

 <span class="err">Neutron</span> <span class="err">Region</span> <span class="err">Tally</span> <span class="m">4</span><span class="err">.</span>  <span class="err">example</span> <span class="err">region</span> <span class="err">tally</span>
                         <span class="err">average</span>      <span class="err">standard</span>     <span class="err">relat</span>      <span class="err">FOM</span>    <span class="err">stat</span> <span class="err">checks</span>
    <span class="err">tally/quantity</span>        <span class="err">value</span>       <span class="err">deviation</span>    <span class="err">uncert</span>   <span class="err">(/min)</span>   <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span> <span class="m">6</span>
    <span class="err">------------------</span>  <span class="err">-----------</span>  <span class="err">-----------</span>  <span class="err">-------</span>  <span class="err">--------</span>  <span class="err">-----------</span>
    <span class="err">total</span> <span class="err">flux</span> <span class="err">(tl)</span>     <span class="m">9</span><span class="err">.</span><span class="m">75719</span><span class="err">E-</span><span class="m">01</span>  <span class="m">5</span><span class="err">.</span><span class="m">54774</span><span class="err">E-</span><span class="m">05</span>  <span class="m">0</span><span class="err">.</span><span class="m">00006</span>  <span class="m">3</span><span class="err">.</span><span class="m">09</span><span class="err">E+</span><span class="m">07</span>  <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span>
    <span class="err">total</span> <span class="err">flux</span> <span class="err">(cd)</span><span class="m">     0.00000E+00</span>
    <span class="err">response</span> <span class="m">1</span>          <span class="m">7</span><span class="err">.</span><span class="m">55800</span><span class="err">E-</span><span class="m">05</span>  <span class="m">8</span><span class="err">.</span><span class="m">63873</span><span class="err">E-</span><span class="m">08</span>  <span class="m">0</span><span class="err">.</span><span class="m">00114</span>  <span class="m">7</span><span class="err">.</span><span class="m">64</span><span class="err">E+</span><span class="m">04</span>  <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span>
    <span class="err">------------------</span>  <span class="err">-----------</span>  <span class="err">-----------</span>  <span class="err">-------</span>  <span class="err">--------</span>  <span class="err">-----------</span>
</pre></div>
</div>
<p>The fluxes reported are the total fluxes. Note the close agreement
between the point detector flux and the region tally track-length
estimate. The region tally did not produce a collision-density estimate
of flux since the region was a void. Also notice that the neutron dose
(response 1) from both tallies match well. The tally details that are
saved in the *.pd*.txt or *.rt*.txt files are shown in <a class="reference internal" href="#tab8-23"><span class="std std-numref">Table 276</span></a>.
Group values for the mesh tally were obtained through the Mesh File
Viewer.</p>
<p>For the mesh tally, the total neutron flux and neutron dose can be
visualized using the Mesh File Viewer, as shown in <a class="reference internal" href="#fig8-15"><span class="std std-numref">Fig. 205</span></a> and <a class="reference internal" href="#fig8-16"><span class="std std-numref">Fig. 206</span></a>. Using the mouse in the
viewer, the flux and the dose rate for the cell that contains the
detector location (100,0,0) are found to be 1.004 ± 2.3%
n/cm<sup>2</sup>/s and 7.82×10<sup>‑5</sup> ± 2.4% rem/hr, respectively,
matching the other tallies well, given the higher uncertainties for the
mesh tally.</p>
<p>A comparison of the results of all three Monaco tallies to the two
experimental measurements is shown in <a class="reference internal" href="#fig8-17"><span class="std std-numref">Fig. 207</span></a> through
<a class="reference internal" href="#fig8-21"><span class="std std-numref">Fig. 211</span></a> for different cross section libraries. Note
that the point detector results and the region tally results are the
same for most of the energy range shown. The line representing the mesh
tally result becomes broken in some plots because no neutrons of certain
energy groups crossed this particular mesh cell. These four plots are
each for 10 minutes of computation using a 2 GHz Linux processor.</p>
<p>Using the library with finer groups, the Monaco results show more of the
structure seen in the experiments over the energy range from 0.01 MeV to
1.0 MeV, as shown in <a class="reference internal" href="#fig8-18"><span class="std std-numref">Fig. 208</span></a> and <a class="reference internal" href="#fig8-19"><span class="std std-numref">Fig. 209</span></a>.</p>
<span id="tab8-23"></span><table class="docutils align-center" id="id39">
<caption><span class="caption-number">Table 276 </span><span class="caption-text">Group-by-group details of the three flux tallies (ENDF/B-VII.0 27n19g)</span><a class="headerlink" href="#id39" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 14%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Energy</strong></p></th>
<th class="head"><p>Mesh
Tally</p></th>
<th class="head"></th>
<th class="head"><p><strong>Point
detector</strong></p></th>
<th class="head"></th>
<th class="head"><p>Region
Tally</p></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>(MeV)</strong></p></td>
<td><p><strong>value</strong></p></td>
<td><p><strong>rel-unc</strong></p></td>
<td><p><strong>value</strong></p></td>
<td><p><strong>rel-unc</strong></p></td>
<td><p><strong>value</strong></p></td>
<td><p><strong>rel-unc</strong></p></td>
</tr>
<tr class="row-odd"><td><p>2.000E+07</p></td>
<td><p>9.59E-04</p></td>
<td><p>0.6325</p></td>
<td><p>1.30E-03</p></td>
<td><p>0.0344</p></td>
<td><p>1.35E-03</p></td>
<td><p>0.0168</p></td>
</tr>
<tr class="row-even"><td><p>6.376E+06</p></td>
<td><p>1.26E-02</p></td>
<td><p>0.1472</p></td>
<td><p>8.19E-03</p></td>
<td><p>0.0117</p></td>
<td><p>8.40E-03</p></td>
<td><p>0.0067</p></td>
</tr>
<tr class="row-odd"><td><p>3.012E+06</p></td>
<td><p>2.03E-02</p></td>
<td><p>0.1413</p></td>
<td><p>2.21E-02</p></td>
<td><p>0.0060</p></td>
<td><p>2.21E-02</p></td>
<td><p>0.0041</p></td>
</tr>
<tr class="row-even"><td><p>1.827E+06</p></td>
<td><p>2.88E-02</p></td>
<td><p>0.0919</p></td>
<td><p>2.41E-02</p></td>
<td><p>0.0047</p></td>
<td><p>2.42E-02</p></td>
<td><p>0.0039</p></td>
</tr>
<tr class="row-odd"><td><p>1.423E+06</p></td>
<td><p>8.94E-02</p></td>
<td><p>0.0770</p></td>
<td><p>9.05E-02</p></td>
<td><p>0.0026</p></td>
<td><p>9.06E-02</p></td>
<td><p>0.0020</p></td>
</tr>
<tr class="row-even"><td><p>9.072E+05</p></td>
<td><p>3.40E-01</p></td>
<td><p>0.0466</p></td>
<td><p>3.26E-01</p></td>
<td><p>0.0018</p></td>
<td><p>3.25E-01</p></td>
<td><p>0.0009</p></td>
</tr>
<tr class="row-odd"><td><p>4.076E+05</p></td>
<td><p>4.19E-01</p></td>
<td><p>0.0320</p></td>
<td><p>4.15E-01</p></td>
<td><p>0.0017</p></td>
<td><p>4.15E-01</p></td>
<td><p>0.0007</p></td>
</tr>
<tr class="row-even"><td><p>1.111E+05</p></td>
<td><p>7.25E-02</p></td>
<td><p>0.0790</p></td>
<td><p>6.65E-02</p></td>
<td><p>0.0046</p></td>
<td><p>6.64E-02</p></td>
<td><p>0.0023</p></td>
</tr>
<tr class="row-odd"><td><p>1.503E+04</p></td>
<td><p>1.27E-02</p></td>
<td><p>0.1751</p></td>
<td><p>1.21E-02</p></td>
<td><p>0.0118</p></td>
<td><p>1.21E-02</p></td>
<td><p>0.0055</p></td>
</tr>
<tr class="row-even"><td><p>3.035E+03</p></td>
<td><p>4.05E-03</p></td>
<td><p>0.3065</p></td>
<td><p>4.80E-03</p></td>
<td><p>0.0179</p></td>
<td><p>4.75E-03</p></td>
<td><p>0.0083</p></td>
</tr>
<tr class="row-odd"><td><p>5.830E+02</p></td>
<td><p>1.51E-03</p></td>
<td><p>0.4935</p></td>
<td><p>2.58E-03</p></td>
<td><p>0.0237</p></td>
<td><p>2.59E-03</p></td>
<td><p>0.0109</p></td>
</tr>
<tr class="row-even"><td><p>1.013E+02</p></td>
<td><p>6.10E-04</p></td>
<td><p>0.6476</p></td>
<td><p>1.26E-03</p></td>
<td><p>0.0320</p></td>
<td><p>1.20E-03</p></td>
<td><p>0.0151</p></td>
</tr>
<tr class="row-odd"><td><p>2.902E+01</p></td>
<td><p>4.75E-04</p></td>
<td><p>0.6724</p></td>
<td><p>7.23E-04</p></td>
<td><p>0.0367</p></td>
<td><p>7.16E-04</p></td>
<td><p>0.0182</p></td>
</tr>
<tr class="row-even"><td><p>1.068E+01</p></td>
<td><p>2.82E-04</p></td>
<td><p>0.9487</p></td>
<td><p>5.19E-04</p></td>
<td><p>0.0402</p></td>
<td><p>5.03E-04</p></td>
<td><p>0.0210</p></td>
</tr>
<tr class="row-odd"><td><p>3.059E+00</p></td>
<td></td>
<td></td>
<td><p>1.60E-04</p></td>
<td><p>0.0597</p></td>
<td><p>1.40E-04</p></td>
<td><p>0.0403</p></td>
</tr>
<tr class="row-even"><td><p>1.855E+00</p></td>
<td></td>
<td></td>
<td><p>7.91E-05</p></td>
<td><p>0.0824</p></td>
<td><p>8.31E-05</p></td>
<td><p>0.0534</p></td>
</tr>
<tr class="row-odd"><td><p>1.300E+00</p></td>
<td></td>
<td></td>
<td><p>3.15E-05</p></td>
<td><p>0.1059</p></td>
<td><p>2.96E-05</p></td>
<td><p>0.0901</p></td>
</tr>
<tr class="row-even"><td><p>1.125E+00</p></td>
<td></td>
<td></td>
<td><p>2.24E-05</p></td>
<td><p>0.1108</p></td>
<td><p>1.97E-05</p></td>
<td><p>0.1086</p></td>
</tr>
<tr class="row-odd"><td><p>1.000E+00</p></td>
<td></td>
<td></td>
<td><p>3.21E-05</p></td>
<td><p>0.1299</p></td>
<td><p>2.45E-05</p></td>
<td><p>0.0979</p></td>
</tr>
<tr class="row-even"><td><p>8.000E-01</p></td>
<td></td>
<td></td>
<td><p>4.20E-05</p></td>
<td><p>0.1127</p></td>
<td><p>3.63E-05</p></td>
<td><p>0.0816</p></td>
</tr>
<tr class="row-odd"><td><p>4.140E-01</p></td>
<td></td>
<td></td>
<td><p>1.02E-05</p></td>
<td><p>0.1720</p></td>
<td><p>1.03E-05</p></td>
<td><p>0.1583</p></td>
</tr>
<tr class="row-even"><td><p>3.250E-01</p></td>
<td></td>
<td></td>
<td><p>1.13E-05</p></td>
<td><p>0.2433</p></td>
<td><p>7.62E-06</p></td>
<td><p>0.1701</p></td>
</tr>
<tr class="row-odd"><td><p>2.250E-01</p></td>
<td></td>
<td></td>
<td><p>8.26E-06</p></td>
<td><p>0.2554</p></td>
<td><p>7.42E-06</p></td>
<td><p>0.1746</p></td>
</tr>
<tr class="row-even"><td><p>1.000E-01</p></td>
<td></td>
<td></td>
<td><p>1.00E-06</p></td>
<td><p>0.4480</p></td>
<td><p>6.73E-07</p></td>
<td><p>0.6451</p></td>
</tr>
<tr class="row-odd"><td><p>5.000E-02</p></td>
<td></td>
<td></td>
<td><p>6.61E-08</p></td>
<td><p>0.4590</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>3.000E-02</p></td>
<td></td>
<td></td>
<td><p>6.59E-10</p></td>
<td><p>0.4491</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>1.000E-02</p></td>
<td></td>
<td></td>
<td><p>6.90E-13</p></td>
<td><p>0.3458</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>1.000E-05</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<div class="figure align-center" id="id40">
<span id="fig8-15"></span><img alt="_images/8-15.png" src="_images/8-15.png" />
<p class="caption"><span class="caption-number">Fig. 205 </span><span class="caption-text">Total neutron flux in n/cm2/s.</span><a class="headerlink" href="#id40" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id41">
<span id="fig8-16"></span><img alt="_images/8-16.png" src="_images/8-16.png" />
<p class="caption"><span class="caption-number">Fig. 206 </span><span class="caption-text">Neutron dose rate in rem/hr.</span><a class="headerlink" href="#id41" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id42">
<span id="fig8-17"></span><a class="reference internal image-reference" href="_images/8-17.png"><img alt="_images/8-17.png" src="_images/8-17.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-number">Fig. 207 </span><span class="caption-text">Comparison of Monaco results using the ENDF/B-VII.0 27n/19g library and the measured values.</span><a class="headerlink" href="#id42" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id43">
<span id="fig8-18"></span><a class="reference internal image-reference" href="_images/8-18.png"><img alt="_images/8-18.png" src="_images/8-18.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-number">Fig. 208 </span><span class="caption-text">Comparison of Monaco results using the new ENDF/B-VII.0 200n/47g library and the measured values.</span><a class="headerlink" href="#id43" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id44">
<span id="fig8-19"></span><img alt="_images/8-19.png" src="_images/8-19.png" />
<p class="caption"><span class="caption-number">Fig. 209 </span><span class="caption-text">Comparison of Monaco results using the ENDF/B-VII 238n library and the measured values.</span><a class="headerlink" href="#id44" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id45">
<span id="fig8-20"></span><a class="reference internal image-reference" href="_images/8-20.png"><img alt="_images/8-20.png" src="_images/8-20.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-number">Fig. 210 </span><span class="caption-text">Comparison of Monaco results using the ENDF/B-VII 252n library and the measured values.</span><a class="headerlink" href="#id45" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id46">
<span id="fig8-21"></span><img alt="_images/8-21.png" src="_images/8-21.png" />
<p class="caption"><span class="caption-number">Fig. 211 </span><span class="caption-text">Comparison of Monaco results using the ENDF/B-VII CE n/p library (binned using the 200n group structure) and the measured values.</span><a class="headerlink" href="#id46" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>
<div class="section" id="neutrons-through-a-heavy-water-sphere">
<h3>Neutrons through a heavy water sphere<a class="headerlink" href="#neutrons-through-a-heavy-water-sphere" title="Permalink to this headline">¶</a></h3>
<p>Similar to the first example problem, <sup>252</sup>Cf neutrons were
measured outside of a sphere filled with heavy water <a class="bibtex reference internal" href="#jansky-comparison-1997" id="id10">[JTN+97]</a> Two
measurements were made: one without the iron/polyethylene shield and one
with the shield. These two measurements were subtracted to account for
scatter from the floor (which is about a 5% effect for energies above
10 keV). A great amount of detail is given for the materials and
geometry of the source holder, insertion tube, and detectors in Ref. 6.
For this sample problem, just the basics will be modeled in two inputs:
<code class="docutils literal notranslate"><span class="pre">monaco.d2oSphereA.inp</span></code> and <code class="docutils literal notranslate"><span class="pre">monaco.d2oSphereB.inp</span></code>, both located in the
SCALE <code class="docutils literal notranslate"><span class="pre">samples\input</span></code> directory.</p>
<div class="figure align-center" id="id47">
<span id="fig8-22"></span><img alt="_images/8-22.png" src="_images/8-22.png" />
<p class="caption"><span class="caption-number">Fig. 212 </span><span class="caption-text">Experimental setup.</span><a class="headerlink" href="#id47" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="id11">
<h4>Input<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h4>
<p>First, the cross sections for four materials need to be computed.  Here, csas-mg is used:</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="nf">=csas-mg</span>
<span class="err">Leakage</span> <span class="err">spectrum</span> <span class="err">of</span> <span class="err">Cf-</span><span class="m">252</span> <span class="err">through</span> <span class="err">a</span> <span class="err">heavy</span> <span class="err">water</span> <span class="err">sphere</span>
<span class="err">v</span><span class="m">7</span><span class="err">-</span><span class="m">27</span><span class="err">n</span><span class="m">19</span><span class="err">g</span>
<span class="n">read</span><span class="err"> </span><span class="n">composition</span>
    <span class="err">d</span><span class="m">2</span><span class="err">o</span>          <span class="m">1</span> <span class="m">0</span><span class="err">.</span><span class="m">99286</span> <span class="m">293</span><span class="err">.</span><span class="m">0</span> <span class="n">end</span>
    <span class="err">h</span><span class="m">2</span><span class="err">o</span>          <span class="m">1</span> <span class="m">0</span><span class="err">.</span><span class="m">00714</span> <span class="m">293</span><span class="err">.</span><span class="m">0</span> <span class="n">end</span>
    <span class="err">polyethylene</span> <span class="m">2</span> <span class="m">0</span><span class="err">.</span><span class="m">882</span>   <span class="m">293</span><span class="err">.</span><span class="m">0</span> <span class="n">end</span>
    <span class="err">boron</span>        <span class="m">2</span> <span class="m">0</span><span class="err">.</span><span class="m">118</span>   <span class="m">293</span><span class="err">.</span><span class="m">0</span> <span class="n">end</span>
    <span class="err">iron</span>         <span class="m">3</span> <span class="m">1</span><span class="err">.</span><span class="m">0</span>     <span class="m">293</span><span class="err">.</span><span class="m">0</span> <span class="n">end</span>
    <span class="err">orconcrete</span>   <span class="m">4</span> <span class="m">1</span><span class="err">.</span><span class="m">0</span>     <span class="m">293</span><span class="err">.</span><span class="m">0</span> <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">composition</span>
<span class="n">end</span>
</pre></div>
</div>
<p>The Monaco input file starts with module name (“monaco”) and a title.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="nf">=monaco</span>
<span class="err">Leakage</span> <span class="err">spectrum</span> <span class="err">of</span> <span class="err">Cf-</span><span class="m">252</span> <span class="err">through</span> <span class="err">a</span> <span class="err">heavy</span> <span class="err">water</span> <span class="err">sphere,</span> <span class="err">shield</span> <span class="err">in</span> <span class="err">place</span>
</pre></div>
</div>
<p>The mixing table information can be found in the output of the above
csas-mg run. The newer ENDF/B-VII libraries contain isotopic data for
iron, instead of just the elemental data in the older ENDF/B-V
libraries.</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">crossSections</span>
    <span class="err">ampxFileUnit=</span><span class="m">4</span>

    <span class="err">mixture</span> <span class="m">1</span>
        <span class="err">element</span>    <span class="m">1002     6.60172E-02</span>
        <span class="err">element</span>    <span class="m">8016     3.32469E-02</span>
        <span class="err">element</span>    <span class="m">1001     4.76617E-04</span>
    <span class="n">end</span><span class="err"> </span><span class="n">mixture</span>

    <span class="err">mixture</span> <span class="m">2</span>
        <span class="err">element</span> <span class="m">9001001     6.96775E-02</span>
        <span class="err">element</span>    <span class="m">6000     3.48387E-02</span>
        <span class="err">element</span>    <span class="m">5010     3.10004E-03</span>
        <span class="err">element</span>    <span class="m">5011     1.24780E-02</span>
    <span class="n">end</span><span class="err"> </span><span class="n">mixture</span>

    <span class="err">mixture</span> <span class="m">3</span>
        <span class="err">element</span>   <span class="m">26054     4.95419E-03</span>
        <span class="err">element</span>   <span class="m">26056     7.77702E-02</span>
        <span class="err">element</span>   <span class="m">26057     1.79605E-03</span>
        <span class="err">element</span>   <span class="m">26058     2.39022E-04</span>
    <span class="n">end</span><span class="err"> </span><span class="n">mixture</span>
</pre></div>
</div>
</td>
<td><div class="highlight-scale notranslate"><div class="highlight"><pre><span></span>    <span class="err">mixture</span> <span class="m">4</span>
        <span class="err">element</span>   <span class="m">26054     1.12815E-05</span>
        <span class="err">element</span>   <span class="m">26056     1.77096E-04</span>
        <span class="err">element</span>   <span class="m">26057     4.08991E-06</span>
        <span class="err">element</span>   <span class="m">26058     5.44292E-07</span>
        <span class="err">element</span>    <span class="m">1001     8.50077E-03</span>
        <span class="err">element</span>    <span class="m">6000     2.01991E-02</span>
        <span class="err">element</span>    <span class="m">8016     3.55123E-02</span>
        <span class="err">element</span>   <span class="m">11023     1.63230E-05</span>
        <span class="err">element</span>   <span class="m">12024     1.46935E-03</span>
        <span class="err">element</span>   <span class="m">12025     1.86017E-04</span>
        <span class="err">element</span>   <span class="m">12026     2.04805E-04</span>
        <span class="err">element</span>   <span class="m">13027     5.55811E-04</span>
        <span class="err">element</span>   <span class="m">14028     1.56780E-03</span>
        <span class="err">element</span>   <span class="m">14029     7.96453E-05</span>
        <span class="err">element</span>   <span class="m">14030     5.25642E-05</span>
        <span class="err">element</span>   <span class="m">19039     3.75869E-05</span>
        <span class="err">element</span>   <span class="m">19040     4.71559E-09</span>
        <span class="err">element</span>   <span class="m">19041     2.71255E-06</span>
        <span class="err">element</span>   <span class="m">20040     1.07616E-02</span>
        <span class="err">element</span>   <span class="m">20042     7.18248E-05</span>
        <span class="err">element</span>   <span class="m">20043     1.49866E-05</span>
        <span class="err">element</span>   <span class="m">20044     2.31571E-04</span>
        <span class="err">element</span>   <span class="m">20046     4.44048E-07</span>
        <span class="err">element</span>   <span class="m">20048     2.07592E-05</span>
    <span class="n">end</span><span class="err"> </span><span class="n">mixture</span>
<span class="n">end</span><span class="err"> </span><span class="n">crossSections</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>The SGGP geometry consists of two nested spheres for the source and
heavy water sphere. Four cylindrical shields made of either borated
polyethylene or iron are placed between the sphere and the detector
position (75,0,0). The experiment sat 2 m above the floor of an
experimental hall that measured 10 × 13 × 25 m. Here, the origin
corresponds to the source at the center of the heavy water sphere.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">geometry</span>
    <span class="err">global</span> <span class="err">unit</span> <span class="m">1</span>
        <span class="err">sphere</span>    <span class="m">10</span>   <span class="m">0</span><span class="err">.</span><span class="m">5</span>
        <span class="err">sphere</span>    <span class="m">11</span>  <span class="m">15</span><span class="err">.</span><span class="m">0</span>
        <span class="err">sphere</span>    <span class="m">21</span>   <span class="m">2</span><span class="err">.</span><span class="m">0</span>  <span class="err">origin</span> <span class="err">x=</span><span class="m">75</span><span class="err">.</span><span class="m">0</span>
        <span class="err">xcylinder</span> <span class="m">31</span>  <span class="m">15</span><span class="err">.</span><span class="m">0</span>  <span class="m">26</span><span class="err">.</span><span class="m">0</span> <span class="m">31</span><span class="err">.</span><span class="m">0</span>
        <span class="err">xcylinder</span> <span class="m">32</span>  <span class="m">11</span><span class="err">.</span><span class="m">25</span> <span class="m">31</span><span class="err">.</span><span class="m">0</span> <span class="m">39</span><span class="err">.</span><span class="m">0</span>
        <span class="err">xcylinder</span> <span class="m">33</span>   <span class="m">9</span><span class="err">.</span><span class="m">00</span> <span class="m">39</span><span class="err">.</span><span class="m">0</span> <span class="m">47</span><span class="err">.</span><span class="m">0</span>
        <span class="err">xcylinder</span> <span class="m">34</span>   <span class="m">7</span><span class="err">.</span><span class="m">25</span> <span class="m">47</span><span class="err">.</span><span class="m">0</span> <span class="m">55</span><span class="err">.</span><span class="m">0</span>
        <span class="err">cuboid</span>    <span class="m">41</span>  <span class="m">650</span><span class="err">.</span><span class="m">0</span> <span class="err">-</span><span class="m">650</span>  <span class="m">500</span> <span class="err">-</span><span class="m">500</span>   <span class="m">2300</span> <span class="err">-</span><span class="m">200</span>
        <span class="err">cuboid</span>    <span class="m">42</span>  <span class="m">750</span><span class="err">.</span><span class="m">0</span> <span class="err">-</span><span class="m">750</span>  <span class="m">600</span> <span class="err">-</span><span class="m">600</span>   <span class="m">2400</span> <span class="err">-</span><span class="m">300</span>
        <span class="err">media</span>  <span class="m">0</span> <span class="m">1</span>   <span class="m">10</span>
        <span class="err">media</span>  <span class="m">1</span> <span class="m">1</span>   <span class="m">11</span> <span class="err">-</span><span class="m">10</span>
        <span class="err">media</span>  <span class="m">0</span> <span class="m">1</span>   <span class="m">21</span>          <span class="err">vol=</span><span class="m">33</span><span class="err">.</span><span class="m">510322</span>
        <span class="err">media</span>  <span class="m">3</span> <span class="m">1</span>   <span class="m">31</span>
        <span class="err">media</span>  <span class="m">2</span> <span class="m">1</span>   <span class="m">32</span>
        <span class="err">media</span>  <span class="m">2</span> <span class="m">1</span>   <span class="m">33</span>
        <span class="err">media</span>  <span class="m">2</span> <span class="m">1</span>   <span class="m">34</span>
        <span class="err">media</span>  <span class="m">0</span> <span class="m">1</span>   <span class="m">41</span> <span class="err">-</span><span class="m">11</span> <span class="err">-</span><span class="m">21</span>  <span class="err">-</span><span class="m">31</span> <span class="err">-</span><span class="m">32</span> <span class="err">-</span><span class="m">33</span> <span class="err">-</span><span class="m">34</span>
        <span class="err">media</span>  <span class="m">4</span> <span class="m">1</span>   <span class="m">42</span> <span class="err">-</span><span class="m">41</span>
    <span class="err">boundary</span> <span class="m">42</span>
<span class="n">end</span><span class="err"> </span><span class="n">geometry</span>
</pre></div>
</div>
<p>A second input file (<code class="docutils literal notranslate"><span class="pre">samples\input\monaco.d2oSphereA.inp</span></code>) was created
for the geometry without the four xcylinder shields in place.</p>
<p>For this example, a point detector will be used to calculate the flux at
the detector location and the source will require a Watt distribution.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">definitions</span>
    <span class="err">location</span> <span class="m">1</span>
        <span class="err">title=</span><span class="s">&quot;true detector location&quot;</span>
        <span class="err">position</span> <span class="m">75</span><span class="err">.</span><span class="m">0</span> <span class="m">0</span><span class="err">.</span><span class="m">0</span> <span class="m">0</span><span class="err">.</span><span class="m">0</span>
    <span class="n">end</span><span class="err"> </span><span class="n">location</span>
    <span class="err">distribution</span> <span class="m">1</span>
        <span class="err">title=</span><span class="s">&quot;Cf-252 neutrons, Watt spectrum a=1.025 MeV and  b=2.926/MeV&quot;</span>
        <span class="err">special=</span><span class="s">&quot;wattSpectrum&quot;</span>
        <span class="err">parameters</span> <span class="m">1</span><span class="err">.</span><span class="m">025</span> <span class="m">2</span><span class="err">.</span><span class="m">926</span> <span class="n">end</span>
    <span class="n">end</span><span class="err"> </span><span class="n">distribution</span>
<span class="n">end</span><span class="err"> </span><span class="n">definitions</span>
</pre></div>
</div>
<p>The strength is set so that the total flux at the detector (at
<em>r</em>=75 cm) without any shield would be 1 n/cm<sup>2</sup>/s. So,
strength = 4π(75)<sup>2</sup> = 70686 n/s.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">sources</span>
    <span class="err">src</span> <span class="m">1</span>
        <span class="err">title=</span><span class="s">&quot;Cf-252 neutrons, Watt fission spectrum, using a=1.025 and b=2.926&quot;</span>
        <span class="err">neutrons</span>  <span class="err">strength=</span><span class="m">70685</span><span class="err">.</span><span class="m">834704</span>
        <span class="err">sphere</span> <span class="m">0</span><span class="err">.</span><span class="m">1</span>
        <span class="err">eDistributionID=</span><span class="m">1</span>
    <span class="n">end</span><span class="err"> </span><span class="n">src</span>
<span class="n">end</span><span class="err"> </span><span class="n">sources</span>
</pre></div>
</div>
<p>Two tallies will be defined: a region tally over the third region of
unit 1 and a point detector tally at the true detector location.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">tallies</span>
    <span class="err">regionTally</span> <span class="m">3</span>
        <span class="err">title=</span><span class="s">&quot;example region tally&quot;</span>
        <span class="err">neutron</span>
        <span class="err">unit=</span><span class="m">1</span> <span class="err">region=</span><span class="m">3</span>
    <span class="n">end</span><span class="err"> </span><span class="n">regionTally</span>



    <span class="err">pointDetector</span> <span class="m">2</span>
        <span class="err">title=</span><span class="s">&quot;example point detector&quot;</span>
        <span class="err">neutron</span>
        <span class="err">locationID=</span><span class="m">1</span>
    <span class="n">end</span><span class="err"> </span><span class="n">pointDetector</span>
<span class="n">end</span><span class="err"> </span><span class="n">tallies</span>
</pre></div>
</div>
<p>Monte Carlo parameters include the starting random number seed, the
number of particles per batch, and the number of batches to simulate.
Since there are no photon tallies, the keyword “secondaryMult=0” is used
so that photons are not produced nor transported.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">parameters</span>
    <span class="err">randomSeed=</span><span class="m">8655745262010035</span>
    <span class="err">perBatch=</span><span class="m">18700</span>  <span class="err">batches=</span><span class="m">90</span>
    <span class="err">neutrons</span>  <span class="err">noPhotons</span>
    <span class="err">fissionMult=</span><span class="m">0</span>  <span class="err">secondaryMult=</span><span class="m">0</span>
<span class="n">end</span><span class="err"> </span><span class="n">parameters</span>
</pre></div>
</div>
<p>Finally, the Monaco input file is ended with</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">end</span><span class="err"> </span><span class="n">data</span>
<span class="n">end</span>
</pre></div>
</div>
</div>
<div class="section" id="id12">
<h4>Output<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h4>
<p>For the case without the xcylinder shields, the tally summaries from the main output file are reported as:</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="err">Neutron</span> <span class="err">Point</span> <span class="err">Detector</span> <span class="m">2</span><span class="err">.</span>  <span class="err">example</span> <span class="err">point</span> <span class="err">detector</span>
                         <span class="err">average</span>      <span class="err">standard</span>     <span class="err">relat</span>      <span class="err">FOM</span>    <span class="err">stat</span> <span class="err">checks</span>
    <span class="err">tally/quantity</span>        <span class="err">value</span>       <span class="err">deviation</span>    <span class="err">uncert</span>   <span class="err">(/min)</span>   <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span> <span class="m">6</span>
    <span class="err">------------------</span>  <span class="err">-----------</span>  <span class="err">-----------</span>  <span class="err">-------</span>  <span class="err">--------</span>  <span class="err">-----------</span>
    <span class="err">uncollided</span> <span class="err">flux</span>     <span class="m">4</span><span class="err">.</span><span class="m">20334</span><span class="err">E-</span><span class="m">02</span>  <span class="m">6</span><span class="err">.</span><span class="m">81217</span><span class="err">E-</span><span class="m">05</span>  <span class="m">0</span><span class="err">.</span><span class="m">00162</span>
    <span class="err">total</span> <span class="err">flux</span>          <span class="m">1</span><span class="err">.</span><span class="m">13349</span><span class="err">E+</span><span class="m">00</span>  <span class="m">3</span><span class="err">.</span><span class="m">28455</span><span class="err">E-</span><span class="m">03</span>  <span class="m">0</span><span class="err">.</span><span class="m">00290</span>  <span class="m">1</span><span class="err">.</span><span class="m">18</span><span class="err">E+</span><span class="m">04</span>  <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span>
    <span class="err">------------------</span>  <span class="err">-----------</span>  <span class="err">-----------</span>  <span class="err">-------</span>  <span class="err">--------</span>  <span class="err">-----------</span>

 <span class="err">Neutron</span> <span class="err">Region</span> <span class="err">Tally</span> <span class="m">3</span><span class="err">.</span>  <span class="err">example</span> <span class="err">region</span> <span class="err">tally</span>
                         <span class="err">average</span>      <span class="err">standard</span>     <span class="err">relat</span>      <span class="err">FOM</span>    <span class="err">stat</span> <span class="err">checks</span>
    <span class="err">tally/quantity</span>        <span class="err">value</span>       <span class="err">deviation</span>    <span class="err">uncert</span>   <span class="err">(/min)</span>   <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span> <span class="m">6</span>
    <span class="err">------------------</span>  <span class="err">-----------</span>  <span class="err">-----------</span>  <span class="err">-------</span>  <span class="err">--------</span>  <span class="err">-----------</span>
    <span class="err">total</span> <span class="err">flux</span> <span class="err">(tl)</span>     <span class="m">1</span><span class="err">.</span><span class="m">00584</span><span class="err">E+</span><span class="m">00</span>  <span class="m">1</span><span class="err">.</span><span class="m">47136</span><span class="err">E-</span><span class="m">01</span>  <span class="m">0</span><span class="err">.</span><span class="m">14628</span>  <span class="m">4</span><span class="err">.</span><span class="m">64</span><span class="err">E+</span><span class="m">00</span>  <span class="err">-</span> <span class="err">-</span> <span class="err">-</span> <span class="err">X</span> <span class="err">X</span> <span class="err">-</span>
    <span class="err">total</span> <span class="err">flux</span> <span class="err">(cd)</span><span class="m">     0.00000E+00</span>
    <span class="err">------------------</span>  <span class="err">-----------</span>  <span class="err">-----------</span>  <span class="err">-------</span>  <span class="err">--------</span>  <span class="err">-----------</span>
</pre></div>
</div>
<p>Note that in this sample calculation (10 minutes), the region tally did
not pass all of the statistical checks and the relative uncertainty for
the region tally is very large due to the region’s small size. This
shows how useful a point detector tally can be in estimating fluxes for
hard‑to‑reach locations.</p>
<p>For the case with the xcylinder shields in place (450 minutes), the
final results were:</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="err">Neutron</span> <span class="err">Point</span> <span class="err">Detector</span> <span class="m">2</span>
                        <span class="err">average</span>      <span class="err">standard</span>     <span class="err">relat</span>      <span class="err">FOM</span>    <span class="err">stat</span> <span class="err">checks</span>
    <span class="err">tally/quantity</span>        <span class="err">value</span>       <span class="err">deviation</span>    <span class="err">uncert</span>   <span class="err">(/min)</span>   <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span> <span class="m">6</span>
    <span class="err">------------------</span>  <span class="err">-----------</span>  <span class="err">-----------</span>  <span class="err">-------</span>  <span class="err">--------</span>  <span class="err">-----------</span>
    <span class="err">uncollided</span> <span class="err">flux</span>     <span class="m">8</span><span class="err">.</span><span class="m">37999</span><span class="err">E-</span><span class="m">05</span>  <span class="m">1</span><span class="err">.</span><span class="m">44384</span><span class="err">E-</span><span class="m">07</span>  <span class="m">0</span><span class="err">.</span><span class="m">00172</span>
    <span class="err">total</span> <span class="err">flux</span>          <span class="m">1</span><span class="err">.</span><span class="m">26869</span><span class="err">E-</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">10733</span><span class="err">E-</span><span class="m">04</span>  <span class="m">0</span><span class="err">.</span><span class="m">00087</span>  <span class="m">4</span><span class="err">.</span><span class="m">80</span><span class="err">E+</span><span class="m">03</span>  <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span>
    <span class="err">------------------</span>  <span class="err">-----------</span>  <span class="err">-----------</span>  <span class="err">-------</span>  <span class="err">--------</span>  <span class="err">-----------</span>

 <span class="err">Neutron</span> <span class="err">Region</span> <span class="err">Tally</span> <span class="m">3</span><span class="err">.</span>  <span class="err">example</span> <span class="err">region</span> <span class="err">tally</span>
                         <span class="err">average</span>      <span class="err">standard</span>     <span class="err">relat</span>      <span class="err">FOM</span>    <span class="err">stat</span> <span class="err">checks</span>
    <span class="err">tally/quantity</span>        <span class="err">value</span>       <span class="err">deviation</span>    <span class="err">uncert</span>   <span class="err">(/min)</span>   <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span> <span class="m">6</span>
    <span class="err">------------------</span>  <span class="err">-----------</span>  <span class="err">-----------</span>  <span class="err">-------</span>  <span class="err">--------</span>  <span class="err">-----------</span>
    <span class="err">total</span> <span class="err">flux</span> <span class="err">(tl)</span>     <span class="m">1</span><span class="err">.</span><span class="m">40236</span><span class="err">E-</span><span class="m">01</span>  <span class="m">1</span><span class="err">.</span><span class="m">22375</span><span class="err">E-</span><span class="m">02</span>  <span class="m">0</span><span class="err">.</span><span class="m">08726</span>  <span class="m">4</span><span class="err">.</span><span class="m">80</span><span class="err">E-</span><span class="m">01</span>  <span class="err">-</span> <span class="err">-</span> <span class="err">-</span> <span class="err">X</span> <span class="err">X</span> <span class="err">-</span>
    <span class="err">total</span> <span class="err">flux</span> <span class="err">(cd)</span><span class="m">     0.00000E+00</span>
    <span class="err">------------------</span>  <span class="err">-----------</span>  <span class="err">-----------</span>  <span class="err">-------</span>  <span class="err">--------</span>  <span class="err">-----------</span>
</pre></div>
</div>
<p>Here again, the region tally performed very poorly, showing that very
few neutrons actually crossed the tally region. The four shields make
this problem very slow to converge because rare particles can arrive at
the detector after paths that see different amounts of shield.</p>
<p>The group-wise results list in the point detector detail files from each
case can be subtracted and compared to the measurements and calculations
listed in <a class="bibtex reference internal" href="#jansky-comparison-1997" id="id13">[JTN+97]</a>. The computed and measured neutron spectra seen by the
detector are shown in <a class="reference internal" href="#fig8-23"><span class="std std-numref">Fig. 213</span></a> through <a class="reference internal" href="#fig8-27"><span class="std std-numref">Fig. 217</span></a>
using different cross-section libraries. For each figure, the
computational times for case “A”, without the shields and case “B”, with
the shields, were 10 minutes and 90 minutes, each on a 2 GHz Linux
processor. For the CE case, 100 and 900 minutes were used to reduce the
statistical uncertainties. Except for the 27/19 multigroup case shown
above, none of the “B” cases passed all of the statistical tests.</p>
<div class="figure align-center" id="id48">
<span id="fig8-23"></span><img alt="_images/8-23.png" src="_images/8-23.png" />
<p class="caption"><span class="caption-number">Fig. 213 </span><span class="caption-text">Comparison of Monaco calculated results using the ENDF/B-VII.0 27n/19g library to the measured values.</span><a class="headerlink" href="#id48" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id49">
<span id="fig8-24"></span><img alt="_images/8-24.png" src="_images/8-24.png" />
<p class="caption"><span class="caption-number">Fig. 214 </span><span class="caption-text">Comparison of Monaco calculated results using the ENDF/B-VII.0 200n/47g library to the measured values.</span><a class="headerlink" href="#id49" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id50">
<span id="fig8-25"></span><img alt="_images/8-25.png" src="_images/8-25.png" />
<p class="caption"><span class="caption-number">Fig. 215 </span><span class="caption-text">Comparison of Monaco calculated results using the ENDF/B-V 238n library to the measured values.</span><a class="headerlink" href="#id50" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id51">
<span id="fig8-26"></span><img alt="_images/8-26.png" src="_images/8-26.png" />
<p class="caption"><span class="caption-number">Fig. 216 </span><span class="caption-text">Comparison of Monaco calculated results using the ENDF/B-V 252n library to the measured values.</span><a class="headerlink" href="#id51" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id52">
<span id="fig8-27"></span><img alt="_images/8-27.png" src="_images/8-27.png" />
<p class="caption"><span class="caption-number">Fig. 217 </span><span class="caption-text">Comparison of Monaco calculated results using the ENDF/B-VII CE n/p library (binned using the 200n group structure) to the measured values.</span><a class="headerlink" href="#id52" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>
<div class="section" id="activation-rate-from-a-neutron-howitzer">
<h3>Activation rate from a neutron howitzer<a class="headerlink" href="#activation-rate-from-a-neutron-howitzer" title="Permalink to this headline">¶</a></h3>
<p>A <em>neutron howitzer</em> is a common laboratory-sized neutron source. A few
curies of an alpha emitter is mixed with an isotope that has a large
(α,n) cross section. This source is then stored in a large tank of
moderating material (water, paraffin, etc.) with an access port.
Materials can be placed into the access port for irradiation. Activation
studies are a typical use of a neutron howitzer. Note that the large
moderator tank also provides shielding for the users. Typical source
strengths are such that users would probably not wish to spend large
amounts of time in front of an open access port.</p>
<p>A typical size and shape for a neutron howitzer is an upright cylinder,
outer radius of 30 cm by 70 cm in height. The outer wall, top, and
bottom are made of 2 cm thick Plexiglas. The access port is a cylinder
of radius 2 cm extending 5 cm away from the tank center through the side
wall. A Plexiglas rod can be removed/inserted into the port for sample
loading. The tank is filled with ordinary water. <a class="reference internal" href="#fig8-28"><span class="std std-numref">Fig. 218</span></a> shows a
cutaway view of a very simplified model of the tank with the Plexiglas
rod inserted into the access port, to prevent neutrons from streaming
into the room. The source is located in the center of the tank and is
small enough to be considered a point source. A small foil (1×1×0.001
cm) gold foil <sup>197</sup>Au is included as an activation sample.</p>
<p>The goal is to use Monaco to calculate the activation rate density, <em>R</em>,
in units of  /cm <sup>3</sup>/s, of the gold foil</p>
<div class="math notranslate nohighlight" id="equation-monaco-23">
<span class="eqno">(398)<a class="headerlink" href="#equation-monaco-23" title="Permalink to this equation">¶</a></span>\[R = \int_{}^{}{\Sigma\left( E \right)\phi\left( E \right) dE}\]</div>
<p>so that the activity, <em>A</em>, can be calculated as a function of time in
the howitzer, <em>T</em>, and time outside the howitzer, <em>t</em>. Note that the
half-life of <sup>198</sup>Au of 2.7 days (decay constant is
<span class="math notranslate nohighlight">\(\lambda\)</span>=2.97×10<sup>-6</sup> /s).</p>
<div class="math notranslate nohighlight" id="equation-monaco-24">
<span class="eqno">(399)<a class="headerlink" href="#equation-monaco-24" title="Permalink to this equation">¶</a></span>\[A = RV\left( 1 - e^{- \lambda T} \right)e^{- \lambda t}\]</div>
<div class="figure align-center" id="id53">
<span id="fig8-28"></span><a class="reference internal image-reference" href="_images/8-28.png"><img alt="_images/8-28.png" src="_images/8-28.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-number">Fig. 218 </span><span class="caption-text">Idealized geometry for a neutron howitzer.</span><a class="headerlink" href="#id53" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="input-file">
<h4>Input file<a class="headerlink" href="#input-file" title="Permalink to this headline">¶</a></h4>
<p>The following input file represents the simple model of a neutron
howitzer used for a gold foil activation experiment. The file
<code class="docutils literal notranslate"><span class="pre">monaco.howitzer.inp</span></code> is located in the SCALE <code class="docutils literal notranslate"><span class="pre">samples\input</span></code> directory.
CSAS-MG is used to generate the cross sections.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="c">&#39;===============================================================================</span>
<span class="c">&#39; Generate the Cross Sections</span>
<span class="c">&#39;===============================================================================</span>
<span class="nf">=csas-mg</span>
<span class="err">Materials</span> <span class="err">for</span> <span class="err">Monaco/MAVRIC</span> <span class="err">Training</span> <span class="err">-</span> <span class="err">Exercise</span> <span class="err">Problem</span> <span class="m">1</span><span class="err">.</span>
<span class="err">v</span><span class="m">7</span><span class="err">-</span><span class="m">27</span><span class="err">n</span><span class="m">19</span><span class="err">g</span>
<span class="n">read</span><span class="err"> </span><span class="n">composition</span>
    <span class="err">h</span><span class="m">2</span><span class="err">o</span>         <span class="m">1</span> <span class="m">1</span><span class="err">.</span><span class="m">0</span> <span class="m">293</span><span class="err">.</span><span class="m">0</span> <span class="n">end</span>
    <span class="err">plexiglass</span>  <span class="m">2</span> <span class="m">1</span><span class="err">.</span><span class="m">0</span> <span class="m">293</span><span class="err">.</span><span class="m">0</span> <span class="n">end</span>
    <span class="err">Au</span>          <span class="m">3</span> <span class="m">1</span><span class="err">.</span><span class="m">0</span> <span class="m">293</span><span class="err">.</span><span class="m">0</span> <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">composition</span>
<span class="n">end</span>


<span class="c">&#39;===============================================================================</span>
<span class="c">&#39; Monaco functional module and title</span>
<span class="c">&#39;===============================================================================</span>
<span class="nf">=monaco</span>
<span class="err">Monaco/MAVRIC</span> <span class="err">Training</span> <span class="err">-</span> <span class="err">Exercise</span> <span class="err">Problem</span> <span class="m">1</span><span class="err">.</span>  <span class="err">Neutron</span> <span class="err">Howitzer</span>

<span class="c">&#39;-------------------------------------------------------------------------------</span>
<span class="c">&#39; Cross Section Information</span>
<span class="c">&#39;-------------------------------------------------------------------------------</span>
<span class="n">read</span><span class="err"> </span><span class="n">crossSections</span>
    <span class="err">ampxFileUnit=</span><span class="m">4</span>
    <span class="err">mixture</span> <span class="m">1</span>
        <span class="err">element</span>   <span class="m">1001 6.675146E-02</span>
        <span class="err">element</span>   <span class="m">8016 3.337573E-02</span>
    <span class="n">end</span><span class="err"> </span><span class="n">mixture</span>
    <span class="err">mixture</span> <span class="m">2</span>
        <span class="err">element</span>   <span class="m">1001 5.678730E-02</span>
        <span class="err">element</span>   <span class="m">6000 3.549206E-02</span>
        <span class="err">element</span>   <span class="m">8016 1.419682E-02</span>
    <span class="n">end</span><span class="err"> </span><span class="n">mixture</span>
    <span class="err">mixture</span> <span class="m">3</span>
        <span class="err">element</span>  <span class="m">79197 5.772470E-02</span>
    <span class="n">end</span><span class="err"> </span><span class="n">mixture</span>
<span class="n">end</span><span class="err"> </span><span class="n">crossSections</span>

<span class="c">&#39;-------------------------------------------------------------------------------</span>
<span class="c">&#39; Geometry Block - SCALE standard geometry package (SGGP)</span>
<span class="c">&#39;-------------------------------------------------------------------------------</span>
<span class="n">read</span><span class="err"> </span><span class="n">geometry</span>
    <span class="err">global</span> <span class="err">unit</span>  <span class="m">1</span>
        <span class="err">cylinder</span>  <span class="m">1</span>  <span class="m">30</span>    <span class="m">35</span> <span class="err">-</span><span class="m">35</span>
        <span class="err">cylinder</span>  <span class="m">2</span>  <span class="m">28</span>    <span class="m">33</span> <span class="err">-</span><span class="m">33</span>
        <span class="err">xcylinder</span> <span class="m">3</span>   <span class="m">2</span>    <span class="m">30</span>  <span class="m">10</span>
        <span class="err">xcylinder</span> <span class="m">4</span>   <span class="m">2</span>    <span class="m">10</span>   <span class="m">5</span>
        <span class="err">cuboid</span>   <span class="m">11</span>   <span class="m">7</span><span class="err">.</span><span class="m">501</span> <span class="m">7</span><span class="err">.</span><span class="m">500</span>  <span class="m">0</span><span class="err">.</span><span class="m">5</span> <span class="err">-</span><span class="m">0</span><span class="err">.</span><span class="m">5</span>  <span class="m">0</span><span class="err">.</span><span class="m">5</span> <span class="err">-</span><span class="m">0</span><span class="err">.</span><span class="m">5</span>

        <span class="err">media</span>  <span class="m">1</span> <span class="m">1</span>   <span class="m">2</span> <span class="err">-</span><span class="m">3</span> <span class="err">-</span><span class="m">4</span>
        <span class="err">media</span>  <span class="m">2</span> <span class="m">1</span>   <span class="m">1</span> <span class="err">-</span><span class="m">2</span> <span class="err">-</span><span class="m">3</span>
        <span class="err">media</span>  <span class="m">2</span> <span class="m">1</span>   <span class="m">3</span>
        <span class="err">media</span>  <span class="m">0</span> <span class="m">1</span>   <span class="m">4</span> <span class="err">-</span><span class="m">11</span>

        <span class="err">com=</span><span class="s">&quot;gold foil&quot;</span>
        <span class="err">media</span>  <span class="m">3</span> <span class="m">1</span>   <span class="m">11</span>  <span class="err">vol=</span><span class="m">0</span><span class="err">.</span><span class="m">001</span>
    <span class="err">boundary</span> <span class="m">4</span>
<span class="n">end</span><span class="err"> </span><span class="n">geometry</span>


<span class="c">&#39;-------------------------------------------------------------------------------</span>
<span class="c">&#39; Definitions Block</span>
<span class="c">&#39;-------------------------------------------------------------------------------</span>
<span class="n">read</span><span class="err"> </span><span class="n">definitions</span>
    <span class="err">response</span> <span class="m">1</span>
        <span class="err">title=</span><span class="s">&quot;gold macro&quot;</span>
        <span class="err">mat=</span><span class="m">3</span> <span class="err">ZAID=</span><span class="m">79197</span> <span class="err">MT=</span><span class="m">102</span> <span class="err">macro</span>
        <span class="err">makeChart</span>
    <span class="n">end</span><span class="err"> </span><span class="n">response</span>

    <span class="err">distribution</span> <span class="m">1</span>
        <span class="err">title=</span><span class="s">&quot;Pu-Be Source Energy Spectra - from Knoll (Anderson &amp; Neff)&quot;</span>
        <span class="err">abscissa</span> <span class="m">11</span><span class="err">.</span><span class="m">0</span><span class="err">E+</span><span class="m">06</span> <span class="m">10</span><span class="err">.</span><span class="m">5</span><span class="err">E+</span><span class="m">06</span> <span class="m">10</span><span class="err">.</span><span class="m">0</span><span class="err">E+</span><span class="m">06</span>  <span class="m">9</span><span class="err">.</span><span class="m">5</span><span class="err">E+</span><span class="m">06  9.0E+06</span>
                  <span class="m">8</span><span class="err">.</span><span class="m">5</span><span class="err">E+</span><span class="m">06</span>  <span class="m">8</span><span class="err">.</span><span class="m">0</span><span class="err">E+</span><span class="m">06</span>  <span class="m">7</span><span class="err">.</span><span class="m">5</span><span class="err">E+</span><span class="m">06</span>  <span class="m">7</span><span class="err">.</span><span class="m">0</span><span class="err">E+</span><span class="m">06  6.5E+06</span>
                  <span class="m">6</span><span class="err">.</span><span class="m">0</span><span class="err">E+</span><span class="m">06</span>  <span class="m">5</span><span class="err">.</span><span class="m">5</span><span class="err">E+</span><span class="m">06</span>  <span class="m">5</span><span class="err">.</span><span class="m">0</span><span class="err">E+</span><span class="m">06</span>  <span class="m">4</span><span class="err">.</span><span class="m">5</span><span class="err">E+</span><span class="m">06  4.0E+06</span>
                  <span class="m">3</span><span class="err">.</span><span class="m">5</span><span class="err">E+</span><span class="m">06</span>  <span class="m">3</span><span class="err">.</span><span class="m">0</span><span class="err">E+</span><span class="m">06</span>  <span class="m">2</span><span class="err">.</span><span class="m">5</span><span class="err">E+</span><span class="m">06</span>  <span class="m">2</span><span class="err">.</span><span class="m">0</span><span class="err">E+</span><span class="m">06  1.5E+06</span>
                  <span class="m">1</span><span class="err">.</span><span class="m">0</span><span class="err">E+</span><span class="m">06</span>  <span class="m">0</span><span class="err">.</span><span class="m">5</span><span class="err">E+</span><span class="m">06</span>  <span class="m">0</span><span class="err">.</span><span class="m">0</span><span class="err">E+</span><span class="m">06</span>  <span class="n">end</span>
        <span class="err">truePDF</span> <span class="m">2</span><span class="err">.</span><span class="m">74935</span><span class="err">E-</span><span class="m">03</span> <span class="m">7</span><span class="err">.</span><span class="m">94257</span><span class="err">E-</span><span class="m">03</span> <span class="m">1</span><span class="err">.</span><span class="m">38995</span><span class="err">E-</span><span class="m">02</span> <span class="m">8</span><span class="err">.</span><span class="m">70628</span><span class="err">E-</span><span class="m">03 1.40522E-02</span>
                <span class="m">3</span><span class="err">.</span><span class="m">37559</span><span class="err">E-</span><span class="m">02</span> <span class="m">4</span><span class="err">.</span><span class="m">13930</span><span class="err">E-</span><span class="m">02</span> <span class="m">3</span><span class="err">.</span><span class="m">54361</span><span class="err">E-</span><span class="m">02</span> <span class="m">4</span><span class="err">.</span><span class="m">12403</span><span class="err">E-</span><span class="m">02 2.93264E-02</span>
                <span class="m">3</span><span class="err">.</span><span class="m">89491</span><span class="err">E-</span><span class="m">02</span> <span class="m">5</span><span class="err">.</span><span class="m">97220</span><span class="err">E-</span><span class="m">02</span> <span class="m">6</span><span class="err">.</span><span class="m">76646</span><span class="err">E-</span><span class="m">02</span> <span class="m">6</span><span class="err">.</span><span class="m">56789</span><span class="err">E-</span><span class="m">02 6.41515E-02</span>
                <span class="m">8</span><span class="err">.</span><span class="m">11059</span><span class="err">E-</span><span class="m">02</span> <span class="m">6</span><span class="err">.</span><span class="m">00275</span><span class="err">E-</span><span class="m">02</span> <span class="m">5</span><span class="err">.</span><span class="m">59035</span><span class="err">E-</span><span class="m">02</span> <span class="m">4</span><span class="err">.</span><span class="m">78082</span><span class="err">E-</span><span class="m">02 5.78891E-02</span>
                <span class="m">8</span><span class="err">.</span><span class="m">20223</span><span class="err">E-</span><span class="m">02</span> <span class="m">9</span><span class="err">.</span><span class="m">05758</span><span class="err">E-</span><span class="m">02</span> <span class="n">end</span>
        <span class="err">runSampleTest</span>
    <span class="n">end</span><span class="err"> </span><span class="n">distribution</span>
<span class="n">end</span><span class="err"> </span><span class="n">definitions</span>

<span class="c">&#39;-------------------------------------------------------------------------------</span>
<span class="c">&#39; Sources Block</span>
<span class="c">&#39;-------------------------------------------------------------------------------</span>
<span class="n">read</span><span class="err"> </span><span class="n">sources</span>
    <span class="err">src</span> <span class="m">1</span>
        <span class="err">neutrons</span>  <span class="err">strength</span><span class="m">=1.377E+07</span>
        <span class="err">cuboid</span>  <span class="m">0</span> <span class="m">0</span>  <span class="m">0</span> <span class="m">0</span>  <span class="m">0</span> <span class="m">0</span>
        <span class="err">eDistributionID=</span><span class="m">1</span>
    <span class="n">end</span><span class="err"> </span><span class="n">src</span>
<span class="n">end</span><span class="err"> </span><span class="n">sources</span>

<span class="c">&#39;-------------------------------------------------------------------------------</span>
<span class="c">&#39; Tallies Block</span>
<span class="c">&#39;-------------------------------------------------------------------------------</span>
<span class="n">read</span><span class="err"> </span><span class="n">tallies</span>
    <span class="err">regionTally</span> <span class="m">1</span>
        <span class="err">neutron</span>
        <span class="err">unit=</span><span class="m">1</span> <span class="err">region=</span><span class="m">5</span>
        <span class="err">responseID=</span><span class="m">1</span>
    <span class="n">end</span><span class="err"> </span><span class="n">regionTally</span>
<span class="n">end</span><span class="err"> </span><span class="n">tallies</span>

<span class="c">&#39;-------------------------------------------------------------------------------</span>
<span class="c">&#39; Parameters Block</span>
<span class="c">&#39;-------------------------------------------------------------------------------</span>
<span class="n">read</span><span class="err"> </span><span class="n">parameters</span>
    <span class="err">randomSeed=</span> <span class="m">8650005740006085</span>
    <span class="err">perBatch=</span><span class="m">47000</span> <span class="err">batches=</span><span class="m">10</span>
    <span class="err">neutrons</span>  <span class="err">noPhotons</span>
    <span class="err">fissionMult=</span><span class="m">0</span>  <span class="err">secondaryMult=</span><span class="m">0</span>
<span class="n">end</span><span class="err"> </span><span class="n">parameters</span>

<span class="n">end</span><span class="err"> </span><span class="n">data</span>
<span class="n">end</span>
</pre></div>
</div>
</div>
<div class="section" id="id14">
<h4>Output<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h4>
<p>The main text output file results are reported as:</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="err">Neutron</span> <span class="err">Region</span> <span class="err">Tally</span> <span class="m">1</span><span class="err">.</span>
                         <span class="err">average</span>      <span class="err">standard</span>     <span class="err">relat</span>      <span class="err">FOM</span>    <span class="err">stat</span> <span class="err">checks</span>
    <span class="err">tally/quantity</span>        <span class="err">value</span>       <span class="err">deviation</span>    <span class="err">uncert</span>   <span class="err">(/min)</span>   <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span> <span class="m">6</span>
    <span class="err">------------------</span>  <span class="err">-----------</span>  <span class="err">-----------</span>  <span class="err">-------</span>  <span class="err">--------</span>  <span class="err">-----------</span>
    <span class="err">total</span> <span class="err">flux</span> <span class="err">(tl)</span>     <span class="m">8</span><span class="err">.</span><span class="m">59999</span><span class="err">E+</span><span class="m">04</span>  <span class="m">2</span><span class="err">.</span><span class="m">64821</span><span class="err">E+</span><span class="m">03</span>  <span class="m">0</span><span class="err">.</span><span class="m">03079</span>  <span class="m">9</span><span class="err">.</span><span class="m">70</span><span class="err">E+</span><span class="m">01</span>  <span class="err">X</span> <span class="err">-</span> <span class="err">X</span> <span class="err">-</span> <span class="err">X</span> <span class="err">-</span>
    <span class="err">total</span> <span class="err">flux</span> <span class="err">(cd)</span>     <span class="m">1</span><span class="err">.</span><span class="m">23288</span><span class="err">E+</span><span class="m">05</span>  <span class="m">8</span><span class="err">.</span><span class="m">52974</span><span class="err">E+</span><span class="m">04</span>  <span class="m">0</span><span class="err">.</span><span class="m">69186</span>  <span class="m">1</span><span class="err">.</span><span class="m">92</span><span class="err">E-</span><span class="m">01</span>  <span class="err">-</span> <span class="err">-</span> <span class="err">-</span> <span class="err">-</span> <span class="err">-</span> <span class="err">-</span>
    <span class="err">response</span> <span class="m">1</span>          <span class="m">2</span><span class="err">.</span><span class="m">66771</span><span class="err">E+</span><span class="m">05</span>  <span class="m">1</span><span class="err">.</span><span class="m">12525</span><span class="err">E+</span><span class="m">04</span>  <span class="m">0</span><span class="err">.</span><span class="m">04218</span>  <span class="m">5</span><span class="err">.</span><span class="m">17</span><span class="err">E+</span><span class="m">01</span>  <span class="err">-</span> <span class="err">-</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">–</span>
    <span class="err">------------------</span>  <span class="err">-----------</span>  <span class="err">-----------</span>  <span class="err">-------</span>  <span class="err">--------</span>  <span class="err">-----------</span>
</pre></div>
</div>
<p>In addition to the main output file, the diagnostics from the
definitions block are shown in <a class="reference internal" href="#fig8-29"><span class="std std-numref">Fig. 219</span></a> and <a class="reference internal" href="#fig8-30"><span class="std std-numref">Fig. 220</span></a> The final value for the activation rate
density <em>R</em> is 2.65×10<sup>5</sup> /cm:sup:<cite>3</cite>/sec. Note how the track
length tally performs better than the collision density estimate for
this thin foil region. But also note that after ten minutes, not all of
the statistical checks are converged. Running this problem for longer
times (even up to 10 hours) does not make all of the tests pass. Due to
the very thin width of the of the tally region, most track-lengths
across are very small but occasionally a very long track-length is
recorded. This rare but high-value score tends to upset the convergence
metrics. A tally region over a larger, more cuboid-like volume would
make for a better behaved tally.</p>
<div class="figure align-center" id="id54">
<span id="fig8-29"></span><img alt="_images/8-29.png" src="_images/8-29.png" />
<p class="caption"><span class="caption-number">Fig. 219 </span><span class="caption-text">Response 1.</span><a class="headerlink" href="#id54" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id55">
<span id="fig8-30"></span><img alt="_images/8-30.png" src="_images/8-30.png" />
<p class="caption"><span class="caption-number">Fig. 220 </span><span class="caption-text">Distribution 1.</span><a class="headerlink" href="#id55" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>
<div class="section" id="graphite-shielding-measurements">
<h3>Graphite shielding measurements<a class="headerlink" href="#graphite-shielding-measurements" title="Permalink to this headline">¶</a></h3>
<p>K. Ueki of the Nuclear Technology Division, Ship Research Division in
Japan performed many simple studies on a variety of shielding materials
layered in different combinations. He and his colleagues used both
neutron (<sup>252</sup>Cf) and photon (<sup>60</sup>Co) sources to
investigate the shielding effectiveness of steel, graphite, and many
hydrogen-containing materials as single shields or in combinations.</p>
<p>One such series of measurements was for pure graphite <a class="bibtex reference internal" href="#ueki-neutron-1992" id="id15">[UOA92]</a> A
<sup>252</sup>Cf neutron source was placed in the center of a 50 cm cube
of paraffin which had a 45° cone cut-out. A neutron meter was placed
110 cm from the source. Sheets of material, in 5×80×80 cm slabs, were
placed between the source and detector, with the detector side of the
shield always fixed at 90 cm from the source. The shield thickness was
increased on the source side of the shield. His results (read from a
plot) for different thicknesses of graphite are shown in <a class="reference internal" href="#tab8-24"><span class="std std-numref">Table 277</span></a>.</p>
<span id="tab8-24"></span><table class="docutils align-center" id="id56">
<caption><span class="caption-number">Table 277 </span><span class="caption-text">Ueki’s experimental results</span><a class="headerlink" href="#id56" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 38%" />
<col style="width: 62%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Thickness</strong>
<strong>(cm)</strong></p></td>
<td><p><strong>Dose equivalent</strong></p>
<p><strong>attenuation</strong></p>
</td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>0.828810</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>0.721721</p></td>
</tr>
<tr class="row-even"><td><p>10</p></td>
<td><p>0.526054</p></td>
</tr>
<tr class="row-odd"><td><p>15</p></td>
<td><p>0.364949</p></td>
</tr>
<tr class="row-even"><td><p>20</p></td>
<td><p>0.253182</p></td>
</tr>
<tr class="row-odd"><td><p>25</p></td>
<td><p>0.170514</p></td>
</tr>
<tr class="row-even"><td><p>30</p></td>
<td><p>0.112591</p></td>
</tr>
<tr class="row-odd"><td><p>35</p></td>
<td><p>0.074181</p></td>
</tr>
</tbody>
</table>
<div class="section" id="id16">
<h4>Input file<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h4>
<p>The following is a listing of the file monaco.graphite.inp located in
the SCALE samplesinput directory. This represents a simple model of
Ueki’s experiment for the 20 cm graphite slab.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="c">&#39;===============================================================================</span>
<span class="c">&#39; Generate the Cross Sections</span>
<span class="c">&#39;===============================================================================</span>
<span class="nf">=csas-mg</span>
<span class="err">Materials</span> <span class="err">for</span> <span class="err">Monaco/MAVRIC</span> <span class="err">Training</span> <span class="err">-</span> <span class="err">Exercise</span> <span class="err">Problem</span> <span class="m">2</span><span class="err">.</span>
<span class="err">v</span><span class="m">7</span><span class="err">-</span><span class="m">200</span><span class="err">n</span><span class="m">47</span><span class="err">g</span>
<span class="n">read</span><span class="err"> </span><span class="n">composition</span>
    <span class="err">para(h</span><span class="m">2</span><span class="err">o)</span>    <span class="m">1</span>         <span class="m">1</span><span class="err">.</span><span class="m">0</span> <span class="m">293</span><span class="err">.</span><span class="m">0</span> <span class="n">end</span>
    <span class="err">carbon</span>       <span class="m">2</span> <span class="err">den=</span><span class="m">1</span><span class="err">.</span><span class="m">7</span> <span class="m">1</span><span class="err">.</span><span class="m">0</span> <span class="m">300</span><span class="err">.</span><span class="m">0</span> <span class="n">end</span>
    <span class="err">activities</span>  <span class="m">99</span>         <span class="m">1</span><span class="err">.</span><span class="m">0</span> <span class="m">293</span><span class="err">.</span><span class="m">0</span> <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">composition</span>
<span class="n">end</span>


<span class="c">&#39;===============================================================================</span>
<span class="c">&#39; Monaco functional module and title</span>
<span class="c">&#39;===============================================================================</span>
<span class="nf">=monaco</span>
<span class="err">Monaco/MAVRIC</span> <span class="err">Training</span> <span class="err">-</span> <span class="err">Exercise</span> <span class="err">Problem</span> <span class="m">2</span><span class="err">.</span>  <span class="err">Graphite</span> <span class="err">Shielding</span> <span class="err">Measurements</span>

<span class="c">&#39;-------------------------------------------------------------------------------</span>
<span class="c">&#39; Cross Section Information</span>
<span class="c">&#39;-------------------------------------------------------------------------------</span>
<span class="n">read</span><span class="err"> </span><span class="n">crossSections</span>
    <span class="err">ampxFileUnit=</span><span class="m">4</span>
    <span class="err">mixture</span> <span class="m">1</span>
        <span class="err">element</span>  <span class="m">1001 7.991204E-02</span>
        <span class="err">element</span>  <span class="m">6000 3.841925E-02</span>
    <span class="n">end</span><span class="err"> </span><span class="n">mixture</span>
    <span class="err">mixture</span> <span class="m">2</span>
        <span class="err">element</span>  <span class="m">6000 8.523484E-02</span>
    <span class="n">end</span><span class="err"> </span><span class="n">mixtureend</span><span class="err"> </span><span class="n">crossSections</span>

<span class="c">&#39;-------------------------------------------------------------------------------</span>
<span class="c">&#39; Geometry Block - SCALE standard geometry package (SGGP)</span>
<span class="c">&#39;-------------------------------------------------------------------------------</span>
<span class="n">read</span><span class="err"> </span><span class="n">geometry</span>
    <span class="err">global</span> <span class="err">unit</span> <span class="m">1</span>
        <span class="err">cuboid</span>  <span class="m">1</span>   <span class="m">25</span><span class="err">.</span><span class="m">0</span> <span class="err">-</span><span class="m">25</span><span class="err">.</span><span class="m">0</span>  <span class="m">25</span><span class="err">.</span><span class="m">0</span> <span class="err">-</span><span class="m">25</span><span class="err">.</span><span class="m">0</span>   <span class="m">25</span><span class="err">.</span><span class="m">0</span> <span class="err">-</span><span class="m">25</span><span class="err">.</span><span class="m">0</span>
        <span class="err">cone</span>    <span class="m">2</span>  <span class="m">10</span><span class="err">.</span><span class="m">35948</span>  <span class="m">25</span><span class="err">.</span><span class="m">01</span>   <span class="m">0</span><span class="err">.</span><span class="m">0</span> <span class="m">0</span><span class="err">.</span><span class="m">0</span>   <span class="err">rotate</span>  <span class="err">a</span><span class="m">1</span><span class="err">=-</span><span class="m">90</span> <span class="err">a</span><span class="m">2</span><span class="err">=-</span><span class="m">90</span> <span class="err">a</span><span class="m">3</span><span class="err">=</span><span class="m">0</span>
        <span class="err">cuboid</span>  <span class="m">3</span>   <span class="m">90</span><span class="err">.</span><span class="m">0</span>  <span class="m">70</span><span class="err">.</span><span class="m">0</span>  <span class="m">40</span><span class="err">.</span><span class="m">0</span> <span class="err">-</span><span class="m">40</span><span class="err">.</span><span class="m">0</span>   <span class="m">40</span><span class="err">.</span><span class="m">0</span> <span class="err">-</span><span class="m">40</span><span class="err">.</span><span class="m">0</span>
        <span class="err">cuboid</span> <span class="m">99</span>  <span class="m">120</span><span class="err">.</span><span class="m">0</span> <span class="err">-</span><span class="m">30</span><span class="err">.</span><span class="m">0</span>  <span class="m">50</span><span class="err">.</span><span class="m">0</span> <span class="err">-</span><span class="m">50</span><span class="err">.</span><span class="m">0</span>   <span class="m">50</span><span class="err">.</span><span class="m">0</span> <span class="err">-</span><span class="m">50</span><span class="err">.</span><span class="m">0</span>
        <span class="err">media</span> <span class="m">1</span> <span class="m">1</span>  <span class="m">1</span> <span class="err">-</span><span class="m">2</span>
        <span class="err">media</span> <span class="m">0</span> <span class="m">1</span>  <span class="m">2</span>
        <span class="err">media</span> <span class="m">2</span> <span class="m">1</span>  <span class="m">3</span>
        <span class="err">media</span> <span class="m">0</span> <span class="m">1</span>  <span class="m">99</span> <span class="err">-</span><span class="m">1</span>  <span class="err">-</span><span class="m">2</span> <span class="err">-</span><span class="m">3</span>
    <span class="err">boundary</span> <span class="m">99</span>
<span class="n">end</span><span class="err"> </span><span class="n">geometry</span>

<span class="c">&#39;-------------------------------------------------------------------------------</span>
<span class="c">&#39; Geometry Plots</span>
<span class="c">&#39;-------------------------------------------------------------------------------</span>
<span class="n">read</span><span class="err"> </span><span class="n">plot</span>
    <span class="err">scr=yes</span>

    <span class="err">ttl=</span><span class="s">&quot;slice through plane of z=0, whole geometry&quot;</span>
    <span class="err">pic=mixture</span>
    <span class="err">xul=-</span><span class="m">30</span><span class="err">.</span><span class="m">0</span> <span class="err">yul=</span><span class="m">50</span><span class="err">.</span><span class="m">0</span> <span class="err">zul=</span><span class="m">0</span><span class="err">.</span><span class="m">0</span>
    <span class="err">xlr=</span><span class="m">120</span><span class="err">.</span><span class="m">0</span> <span class="err">ylr=-</span><span class="m">50</span><span class="err">.</span><span class="m">0</span> <span class="err">zlr=</span><span class="m">0</span><span class="err">.</span><span class="m">0</span>
    <span class="err">uax=</span><span class="m">1</span><span class="err">.</span><span class="m">0</span> <span class="err">vax=</span><span class="m">0</span><span class="err">.</span><span class="m">0</span> <span class="err">wax=</span><span class="m">0</span><span class="err">.</span><span class="m">0</span>
    <span class="err">udn=</span><span class="m">0</span><span class="err">.</span><span class="m">0</span> <span class="err">vdn=-</span><span class="m">1</span><span class="err">.</span><span class="m">0</span> <span class="err">wdn=</span><span class="m">0</span><span class="err">.</span><span class="m">0</span>
    <span class="err">nax=</span><span class="m">640</span>
    <span class="n">end</span>

    <span class="err">ttl=</span><span class="s">&quot;slice through plane of y=0, through just the paraffin block&quot;</span>
    <span class="err">pic=mixture</span>
    <span class="err">xul=-</span><span class="m">30</span><span class="err">.</span><span class="m">0</span> <span class="err">yul=</span><span class="m">0</span><span class="err">.</span><span class="m">0</span> <span class="err">zul=</span><span class="m">50</span><span class="err">.</span><span class="m">0</span>
    <span class="err">xlr=</span><span class="m">30</span><span class="err">.</span><span class="m">0</span>  <span class="err">ylr=</span><span class="m">0</span><span class="err">.</span><span class="m">0</span> <span class="err">zlr=-</span><span class="m">50</span><span class="err">.</span><span class="m">0</span>
    <span class="err">uax=</span><span class="m">1</span><span class="err">.</span><span class="m">0</span> <span class="err">vax=</span><span class="m">0</span><span class="err">.</span><span class="m">0</span> <span class="err">wax=</span><span class="m">0</span><span class="err">.</span><span class="m">0</span>
    <span class="err">udn=</span><span class="m">0</span><span class="err">.</span><span class="m">0</span> <span class="err">vdn=</span><span class="m">0</span><span class="err">.</span><span class="m">0</span> <span class="err">wdn=-</span><span class="m">1</span><span class="err">.</span><span class="m">0</span>
    <span class="err">nax=</span><span class="m">640</span>
    <span class="n">end</span>

    <span class="err">ttl=</span><span class="s">&quot;slice through plane of x=0, through just the paraffin block&quot;</span>
    <span class="err">pic=mixture</span>
    <span class="err">xul=</span><span class="m">0</span><span class="err">.</span><span class="m">0</span> <span class="err">yul=-</span><span class="m">50</span><span class="err">.</span><span class="m">0</span> <span class="err">zul=</span><span class="m">50</span><span class="err">.</span><span class="m">0</span>
    <span class="err">xlr=</span><span class="m">0</span><span class="err">.</span><span class="m">0</span> <span class="err">ylr=</span><span class="m">50</span><span class="err">.</span><span class="m">0</span> <span class="err">zlr=-</span><span class="m">50</span><span class="err">.</span><span class="m">0</span>
    <span class="err">uax=</span><span class="m">0</span><span class="err">.</span><span class="m">0</span> <span class="err">vax=</span><span class="m">1</span><span class="err">.</span><span class="m">0</span> <span class="err">wax=</span><span class="m">0</span><span class="err">.</span><span class="m">0</span>
    <span class="err">udn=</span><span class="m">0</span><span class="err">.</span><span class="m">0</span> <span class="err">vdn=</span><span class="m">0</span><span class="err">.</span><span class="m">0</span> <span class="err">wdn=-</span><span class="m">1</span><span class="err">.</span><span class="m">0</span>
    <span class="err">nax=</span><span class="m">640</span>
    <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">plot</span>

<span class="c">&#39;-------------------------------------------------------------------------------</span>
<span class="c">&#39; Definitions Block</span>
<span class="c">&#39;-------------------------------------------------------------------------------</span>
<span class="n">read</span><span class="err"> </span><span class="n">definitions</span>
    <span class="err">location</span> <span class="m">1</span>
        <span class="err">position</span> <span class="m">110</span> <span class="m">0</span> <span class="m">0</span>
    <span class="n">end</span><span class="err"> </span><span class="n">location</span>
    <span class="err">response</span> <span class="m">5</span>
        <span class="err">title=</span><span class="s">&quot;ANSI standard (1977) neutron flux-to-dose-rate factors&quot;</span>
        <span class="err">specialDose=</span><span class="m">9029</span>
    <span class="n">end</span><span class="err"> </span><span class="n">response</span>
    <span class="err">distribution</span> <span class="m">1</span>
        <span class="err">title=</span><span class="s">&quot;Cf-252 neutrons, Watt spectrum a=1.025 MeV and b=2.926/MeV&quot;</span>
        <span class="err">special=</span><span class="s">&quot;wattSpectrum&quot;</span>
        <span class="err">parameters</span> <span class="m">1</span><span class="err">.</span><span class="m">025</span> <span class="m">2</span><span class="err">.</span><span class="m">926</span> <span class="n">end</span>
    <span class="n">end</span><span class="err"> </span><span class="n">distribution</span>
<span class="n">end</span><span class="err"> </span><span class="n">definitions</span>

<span class="c">&#39;-------------------------------------------------------------------------------</span>
<span class="c">&#39; Sources Block</span>
<span class="c">&#39;-------------------------------------------------------------------------------</span>
<span class="n">read</span><span class="err"> </span><span class="n">sources</span>
    <span class="err">src</span> <span class="m">1</span>
        <span class="err">title=</span><span class="s">&quot;Cf-252 neutrons&quot;</span>
        <span class="err">neutrons</span>  <span class="err">strength</span><span class="m">=4.05E+07</span>
        <span class="err">cuboid</span>  <span class="m">0</span><span class="err">.</span><span class="m">01</span> <span class="m">0</span><span class="err">.</span><span class="m">01</span>  <span class="m">0</span> <span class="m">0</span>  <span class="m">0</span> <span class="m">0</span>
        <span class="err">eDistributionID=</span><span class="m">1</span>
    <span class="n">end</span><span class="err"> </span><span class="n">src</span>
<span class="n">end</span><span class="err"> </span><span class="n">sources</span>

<span class="c">&#39;-------------------------------------------------------------------------------</span>
<span class="c">&#39; Tallies Block</span>
<span class="c">&#39;-------------------------------------------------------------------------------</span>
<span class="n">read</span><span class="err"> </span><span class="n">tallies</span>
    <span class="err">pointDetector</span> <span class="m">1</span>
        <span class="err">title=</span><span class="s">&quot;center of detector&quot;</span>
        <span class="err">neutron</span>
        <span class="err">locationID=</span><span class="m">1</span>
        <span class="err">responseID=</span><span class="m">5</span>
    <span class="n">end</span><span class="err"> </span><span class="n">pointDetector</span>
<span class="n">end</span><span class="err"> </span><span class="n">tallies</span>

<span class="c">&#39;-------------------------------------------------------------------------------</span>
<span class="c">&#39; Parameters Block</span>
<span class="c">&#39;-------------------------------------------------------------------------------</span>
<span class="n">read</span><span class="err"> </span><span class="n">parameters</span>
    <span class="err">randomSeed=</span><span class="m">00003</span><span class="err">ecd</span><span class="m">7</span><span class="err">b</span><span class="m">4</span><span class="err">e</span><span class="m">3</span><span class="err">e</span><span class="m">8</span><span class="err">b</span>
    <span class="err">perBatch=</span><span class="m">9500</span> <span class="err">batches=</span><span class="m">20</span>
    <span class="err">neutrons</span>  <span class="err">noPhotons</span>
    <span class="err">fissionMult=</span><span class="m">0</span>  <span class="err">secondaryMult=</span><span class="m">0</span>
<span class="n">end</span><span class="err"> </span><span class="n">parameters</span>

<span class="n">end</span><span class="err"> </span><span class="n">data</span>
<span class="n">end</span>
</pre></div>
</div>
</div>
<div class="section" id="id17">
<h4>Output<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h4>
<p>For the 20 cm case, Monaco reports the following results:</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="err">Neutron</span> <span class="err">Point</span> <span class="err">Detector</span> <span class="m">1</span><span class="err">.</span>  <span class="err">center</span> <span class="err">of</span> <span class="err">detector</span>
                         <span class="err">average</span>      <span class="err">standard</span>     <span class="err">relat</span>      <span class="err">FOM</span>    <span class="err">stat</span> <span class="err">checks</span>
    <span class="err">tally/quantity</span>        <span class="err">value</span>       <span class="err">deviation</span>    <span class="err">uncert</span>   <span class="err">(/min)</span>   <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span> <span class="m">6</span>
    <span class="err">------------------</span>  <span class="err">-----------</span>  <span class="err">-----------</span>  <span class="err">-------</span>  <span class="err">--------</span>  <span class="err">-----------</span>
    <span class="err">uncollided</span> <span class="err">flux</span>     <span class="m">1</span><span class="err">.</span><span class="m">06273</span><span class="err">E+</span><span class="m">01</span>  <span class="m">2</span><span class="err">.</span><span class="m">56481</span><span class="err">E-</span><span class="m">02</span>  <span class="m">0</span><span class="err">.</span><span class="m">00241</span>
    <span class="err">total</span> <span class="err">flux</span>          <span class="m">2</span><span class="err">.</span><span class="m">43530</span><span class="err">E+</span><span class="m">02</span>  <span class="m">4</span><span class="err">.</span><span class="m">58843</span><span class="err">E+</span><span class="m">00</span>  <span class="m">0</span><span class="err">.</span><span class="m">01884</span>  <span class="m">1</span><span class="err">.</span><span class="m">39</span><span class="err">E+</span><span class="m">02</span>  <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span>
    <span class="err">response</span> <span class="m">5</span>          <span class="m">1</span><span class="err">.</span><span class="m">30398</span><span class="err">E-</span><span class="m">02</span>  <span class="m">2</span><span class="err">.</span><span class="m">58938</span><span class="err">E-</span><span class="m">04</span>  <span class="m">0</span><span class="err">.</span><span class="m">01986</span>  <span class="m">1</span><span class="err">.</span><span class="m">26</span><span class="err">E+</span><span class="m">02</span>  <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span> <span class="err">X</span>
    <span class="err">------------------</span>  <span class="err">-----------</span>  <span class="err">-----------</span>  <span class="err">-------</span>  <span class="err">--------</span>  <span class="err">-----------</span>
</pre></div>
</div>
<p>The plots generated by the “read plots” block are shown in <a class="reference internal" href="#fig8-31"><span class="std std-numref">Fig. 221</span></a></p>
<p>To compute the attenuation that Ueki measured, this dose rate can be
divided by the dose rate from another Monaco calculation using a slab
thickness of 0 cm—the unattenuated case. Combining the results of nine
Monaco runs (eight different thicknesses and the unattenuated case),
which were allowed to run long enough to achieve 1% uncertainty, gives
the results shown in <a class="reference internal" href="#tab8-25"><span class="std std-numref">Table 278</span></a>. Note how the runtime of the Monaco
calculation increases with increasing shield thickness.</p>
<div class="figure align-center" id="id57">
<span id="fig8-31"></span><img alt="_images/8-31.png" src="_images/8-31.png" />
<p class="caption"><span class="caption-number">Fig. 221 </span><span class="caption-text">Images (*.png files) generated with the “read plot” block.</span><a class="headerlink" href="#id57" title="Permalink to this image">¶</a></p>
</div>
<span id="tab8-25"></span><table class="docutils align-center" id="id58">
<caption><span class="caption-number">Table 278 </span><span class="caption-text">Measured and calculated dose attenuation rate for graphite</span><a class="headerlink" href="#id58" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 21%" />
<col style="width: 16%" />
<col style="width: 18%" />
<col style="width: 16%" />
<col style="width: 18%" />
<col style="width: 11%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Thickness</strong></p></th>
<th class="head"><p><strong>Ueki</strong></p></th>
<th class="head"></th>
<th class="head"><p><strong>Monaco</strong></p></th>
<th class="head"></th>
<th class="head"><p><strong>C/E</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>(cm)</strong></p></td>
<td><p><strong>et al.</strong></p></td>
<td><p><strong>minutes</strong></p></td>
<td><p><strong>value</strong></p></td>
<td><p><strong>rel unc</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>0.8288</p></td>
<td><p>10</p></td>
<td><p>0.8679</p></td>
<td><p>0.0072</p></td>
<td><p>1.05</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>0.7217</p></td>
<td><p>20</p></td>
<td><p>0.7383</p></td>
<td><p>0.0086</p></td>
<td><p>1.02</p></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td><p>0.5261</p></td>
<td><p>40</p></td>
<td><p>0.5387</p></td>
<td><p>0.0086</p></td>
<td><p>1.02</p></td>
</tr>
<tr class="row-even"><td><p>15</p></td>
<td><p>0.3649</p></td>
<td><p>60</p></td>
<td><p>0.3837</p></td>
<td><p>0.0089</p></td>
<td><p>1.05</p></td>
</tr>
<tr class="row-odd"><td><p>20</p></td>
<td><p>0.2532</p></td>
<td><p>20</p></td>
<td><p>0.2593</p></td>
<td><p>0.0199</p></td>
<td><p>1.02</p></td>
</tr>
<tr class="row-even"><td><p>25</p></td>
<td><p>0.1705</p></td>
<td><p>120</p></td>
<td><p>0.1774</p></td>
<td><p>0.0095</p></td>
<td><p>1.04</p></td>
</tr>
<tr class="row-odd"><td><p>30</p></td>
<td><p>0.1126</p></td>
<td><p>180</p></td>
<td><p>0.1206</p></td>
<td><p>0.0093</p></td>
<td><p>1.07</p></td>
</tr>
<tr class="row-even"><td><p>35</p></td>
<td><p>0.0742</p></td>
<td><p>300</p></td>
<td><p>0.0806</p></td>
<td><p>0.0088</p></td>
<td><p>1.09</p></td>
</tr>
</tbody>
</table>
<p>Adding a mesh tally</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">definitions</span>
    <span class="err">…</span>
    <span class="err">gridGeometry</span> <span class="m">7</span>
        <span class="err">title=</span><span class="s">&quot;large meshes in paraffin, 5 cm mesh for shield thicknesses&quot;</span>
        <span class="err">xLinear</span> <span class="m">5</span> <span class="err">-</span><span class="m">25</span> <span class="m">25</span>
        <span class="err">xLinear</span> <span class="m">12</span> <span class="m">30</span> <span class="m">90</span>
        <span class="err">xplanes</span> <span class="m">100</span> <span class="m">110</span> <span class="m">120</span> <span class="err">-</span><span class="m">30</span> <span class="n">end</span>
        <span class="err">yplanes</span> <span class="err">-</span><span class="m">50</span> <span class="err">-</span><span class="m">40</span> <span class="m">40</span> <span class="m">50</span> <span class="n">end</span>
        <span class="err">yLinear</span> <span class="m">7</span> <span class="err">-</span><span class="m">35</span> <span class="m">35</span>
        <span class="err">zplanes</span> <span class="err">-</span><span class="m">50</span> <span class="err">-</span><span class="m">40</span> <span class="m">40</span> <span class="m">50</span> <span class="n">end</span>
        <span class="err">zLinear</span> <span class="m">7</span> <span class="err">-</span><span class="m">35</span> <span class="m">35</span>
    <span class="n">end</span><span class="err"> </span><span class="n">gridGeometry</span>
<span class="n">end</span><span class="err"> </span><span class="n">definitions</span>

<span class="n">read</span><span class="err"> </span><span class="n">tallies</span>
    <span class="err">…</span>

    <span class="err">meshTally</span> <span class="m">1</span>
        <span class="err">title=</span><span class="s">&quot;example mesh tally&quot;</span>
        <span class="err">neutron</span>
        <span class="err">gridGeometryID=</span><span class="m">7</span>
        <span class="err">responseID=</span><span class="m">5</span>
        <span class="err">noGroupFluxes</span>
    <span class="n">end</span><span class="err"> </span><span class="n">meshTally</span>
<span class="n">end</span><span class="err"> </span><span class="n">tallies</span>
</pre></div>
</div>
<p>and viewing the resulting *.3dmap file with the Mesh File Viewer can produce the image shown in <a class="reference internal" href="#fig8-32"><span class="std std-numref">Fig. 222</span></a>.</p>
<div class="figure align-center" id="id59">
<span id="fig8-32"></span><img alt="_images/fig8-32.png" src="_images/fig8-32.png" />
<p class="caption"><span class="caption-number">Fig. 222 </span><span class="caption-text">Mesh tally showing neutron dose rate (rem/hr)</span><a class="headerlink" href="#id59" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>
<div class="section" id="simple-shielding-demonstration-with-line-spectra">
<h3>Simple shielding demonstration with line spectra<a class="headerlink" href="#simple-shielding-demonstration-with-line-spectra" title="Permalink to this headline">¶</a></h3>
<p>Sources containing line data are difficult to represent in multigroup.
Comparing real measurements of line data to multigroup calculations is
also difficult. This sample problem is not the simulation of a real
measurement but is just a simple demonstration of the differences
between continuous-energy simulation and the multigroup approach.</p>
<p>Consider an isotropic cobalt-60 source on one side of a slab of tungsten
(5 cm thick) and the goal is to compute the photon flux and dose on the
other side of the slab. Since the continuous-energy library does not
have a built-in structure that could be used by tallies, the user needs
to supply one (otherwise tally information is recorded in one bin
covering the entire range of energy). The user can construct an energy
boundaries object in the definitions block that is uniformly spaced,
logarithmically spaced, based on one of the multigroup libraries or any
combination of the above.</p>
<div class="section" id="id18">
<h4>Input file<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h4>
<p>The sample problem <code class="docutils literal notranslate"><span class="pre">monaco.wSlab.inp</span></code>, is located in the <code class="docutils literal notranslate"><span class="pre">samples\input</span></code>
directory. The materials input consist just of tungsten, in its natural
isotopic abundances.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">crossSections</span>
    <span class="err">ceLibrary=</span><span class="s">&quot;ce_v7.1_endf.xml&quot;</span>
    <span class="err">mixture</span> <span class="m">1</span>
        <span class="err">element</span>  <span class="m">74182 1.531781E-02</span>
        <span class="err">element</span>  <span class="m">74183 8.202875E-03</span>
        <span class="err">element</span>  <span class="m">74184 1.806470E-02</span>
        <span class="err">element</span>  <span class="m">74186 1.671717E-02</span>
    <span class="n">end</span><span class="err"> </span><span class="n">mixture</span>
<span class="n">end</span><span class="err"> </span><span class="n">crossSections</span>
</pre></div>
</div>
<p>The geometry is a simple slab of tungsten, with a small air region on one side for a region tally.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">geometry</span>
    <span class="err">global</span> <span class="err">unit</span> <span class="m">1</span>
        <span class="err">cuboid</span> <span class="m">10</span>   <span class="m">2</span><span class="err">.</span><span class="m">5</span>  <span class="err">-</span><span class="m">2</span><span class="err">.</span><span class="m">5</span>  <span class="m">25</span><span class="err">.</span><span class="m">0</span> <span class="err">-</span><span class="m">25</span><span class="err">.</span><span class="m">0</span>
                               <span class="m">25</span><span class="err">.</span><span class="m">0</span> <span class="err">-</span><span class="m">25</span><span class="err">.</span><span class="m">0</span>
        <span class="err">cuboid</span> <span class="m">20</span>   <span class="m">6</span><span class="err">.</span><span class="m">0</span>   <span class="m">4</span><span class="err">.</span><span class="m">0</span>   <span class="m">1</span><span class="err">.</span><span class="m">0</span>  <span class="err">-</span><span class="m">1</span><span class="err">.</span><span class="m">0</span>
                                <span class="m">1</span><span class="err">.</span><span class="m">0</span>  <span class="err">-</span><span class="m">1</span><span class="err">.</span><span class="m">0</span>
        <span class="err">cuboid</span> <span class="m">30</span>  <span class="m">10</span><span class="err">.</span><span class="m">0</span> <span class="err">-</span><span class="m">10</span><span class="err">.</span><span class="m">0</span>  <span class="m">25</span><span class="err">.</span><span class="m">0</span> <span class="err">-</span><span class="m">25</span><span class="err">.</span><span class="m">0</span>
                               <span class="m">25</span><span class="err">.</span><span class="m">0</span> <span class="err">-</span><span class="m">25</span><span class="err">.</span><span class="m">0</span>

        <span class="err">media</span> <span class="m">1</span> <span class="m">1</span>  <span class="m">10</span>
        <span class="err">media</span> <span class="m">0</span> <span class="m">1</span>  <span class="m">20</span>          <span class="err">vol=</span><span class="m">8</span><span class="err">.</span><span class="m">0</span>
        <span class="err">media</span> <span class="m">0</span> <span class="m">1</span>  <span class="m">30</span> <span class="err">-</span><span class="m">10</span> <span class="err">-</span><span class="m">20</span>
    <span class="err">boundary</span> <span class="m">30</span>
<span class="n">end</span><span class="err"> </span><span class="n">geometry</span>
</pre></div>
</div>
<div class="figure align-center" id="id60">
<span id="fig8-33"></span><a class="reference internal image-reference" href="_images/8-33.png"><img alt="_images/8-33.png" src="_images/8-33.png" style="width: 50%;" /></a>
<p class="caption"><span class="caption-number">Fig. 223 </span><span class="caption-text">Simple slab geometry with a source (S) on the left and a tally region (T) on the right.</span><a class="headerlink" href="#id60" title="Permalink to this image">¶</a></p>
</div>
<p>In the definitions block, a location (for a point detector), the photon
dose response function, the Co-60 line spectra and an energy boundaries
structure are all defined. The energyBounds defined here has a base
structure of 30 bins that are 50 keV wide, with three bins that are 2
keV wide at the cobalt line energies and the 511 keV annihilation gamma
energy.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">definitions</span>
    <span class="err">location</span> <span class="m">1</span>
        <span class="err">position</span> <span class="m">5</span><span class="err">.</span><span class="m">0</span> <span class="m">0</span><span class="err">.</span><span class="m">0</span> <span class="m">0</span><span class="err">.</span><span class="m">0</span>
    <span class="n">end</span><span class="err"> </span><span class="n">location</span>

    <span class="err">response</span> <span class="m">5</span>
        <span class="err">title=</span><span class="s">&quot;ANSI standard (1977) photon flux-to-dose-rate factors&quot;</span>
        <span class="err">doseData=</span><span class="m">9504</span>
    <span class="n">end</span><span class="err"> </span><span class="n">response</span>

    <span class="err">distribution</span> <span class="m">1</span>
        <span class="err">title=</span><span class="s">&quot;cobalt-60 gammas/decay&quot;</span>
        <span class="err">discrete</span>   <span class="m">347140</span>   <span class="m">826100</span> <span class="m">1173228</span> <span class="m">1332492</span>  <span class="m">2158570</span>    <span class="m">2505692</span> <span class="n">end</span>
        <span class="err">truepdf</span>  <span class="m">0</span><span class="err">.</span><span class="m">000075</span> <span class="m">0</span><span class="err">.</span><span class="m">000076</span> <span class="m">0</span><span class="err">.</span><span class="m">9985</span> <span class="m">0</span><span class="err">.</span><span class="m">999826</span> <span class="m">0</span><span class="err">.</span><span class="m">000012</span> <span class="m">0</span><span class="err">.</span><span class="m">00000002</span> <span class="n">end</span>
    <span class="n">end</span><span class="err"> </span><span class="n">distribution</span>


    <span class="err">energyBounds</span> <span class="m">1</span>
        <span class="err">linear</span> <span class="m">30</span> <span class="m">0</span><span class="err">.</span><span class="m">00</span><span class="err">e</span><span class="m">6 1.50e6</span>
        <span class="err">bounds</span>  <span class="m">0</span><span class="err">.</span><span class="m">510</span><span class="err">e+</span><span class="m">6</span> <span class="m">0</span><span class="err">.</span><span class="m">512</span><span class="err">e+</span><span class="m">6</span>   <span class="m">1</span><span class="err">.</span><span class="m">172</span><span class="err">e</span><span class="m">6</span> <span class="m">1</span><span class="err">.</span><span class="m">174</span><span class="err">e</span><span class="m">6</span>   <span class="m">1</span><span class="err">.</span><span class="m">331</span><span class="err">e</span><span class="m">6</span> <span class="m">1</span><span class="err">.</span><span class="m">333</span><span class="err">e</span><span class="m">6</span> <span class="n">end</span>
    <span class="n">end</span><span class="err"> </span><span class="n">energyBounds</span>
<span class="n">end</span><span class="err"> </span><span class="n">definitions</span>
</pre></div>
</div>
<p>The source is a simple point source 5 cm to the left of the slab.
Because the distribution of cobalt gamma rays was entered as gammas per
decay, the keyword ‘useNormConst’ will set the source strength to be the
total of the energy distribution - about 2 photons/decay. The
‘multiplier’keyword is used to multiply that strength by 37×10<sup>9</sup>
decays/sec to get 1 Ci.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">sources</span>
    <span class="err">src</span> <span class="m">1</span>
        <span class="err">title=</span><span class="s">&quot;one Ci of cobalt-60&quot;</span>
        <span class="err">useNormConst</span>
        <span class="err">multiplier</span><span class="m">=37e9</span>
        <span class="err">sphere</span> <span class="m">0</span><span class="err">.</span><span class="m">0</span>   <span class="err">origin</span> <span class="err">x=-</span><span class="m">5</span><span class="err">.</span><span class="m">0</span> <span class="err">y=</span><span class="m">0</span><span class="err">.</span><span class="m">0</span> <span class="err">z=</span><span class="m">0</span><span class="err">.</span><span class="m">0</span>
        <span class="err">photons</span>
        <span class="err">eDistributionID=</span><span class="m">1</span>
    <span class="n">end</span><span class="err"> </span><span class="n">src</span>
<span class="n">end</span><span class="err"> </span><span class="n">sources</span>
</pre></div>
</div>
<p>Both a region tally and a point detector tally are defined. Parameters are set for a 10 minute calculation.</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">tallies</span>
    <span class="err">pointDetector</span> <span class="m">15</span>
        <span class="err">photon</span>
        <span class="err">locationID=</span><span class="m">1</span>
        <span class="err">responseID=</span><span class="m">5</span>
        <span class="err">energyBoundsID=</span><span class="m">1</span>
    <span class="n">end</span><span class="err"> </span><span class="n">pointDetector</span>
    <span class="err">regionTally</span> <span class="m">24</span>
        <span class="err">photon</span>
        <span class="err">unit=</span><span class="m">1</span> <span class="err">region=</span><span class="m">2</span>
        <span class="err">responseID=</span><span class="m">5</span>
        <span class="err">energyBoundsID=</span><span class="m">1</span>
    <span class="n">end</span><span class="err"> </span><span class="n">regionTally</span>
<span class="n">end</span><span class="err"> </span><span class="n">tallies</span>

<span class="n">read</span><span class="err"> </span><span class="n">parameters</span>
    <span class="err">randomSeed=</span><span class="m">00003</span><span class="err">ecd</span><span class="m">7</span><span class="err">b</span><span class="m">4</span><span class="err">e</span><span class="m">3</span><span class="err">e</span><span class="m">8</span><span class="err">b</span>
    <span class="err">perBatch=</span><span class="m">582000</span> <span class="err">batches=</span><span class="m">90</span>
    <span class="err">noNeutrons</span>  <span class="err">photons</span>
    <span class="err">fissionMult=</span><span class="m">0</span>  <span class="err">secondaryMult=</span><span class="m">0</span>
<span class="n">end</span><span class="err"> </span><span class="n">parameters</span>
</pre></div>
</div>
</div>
<div class="section" id="id19">
<h4>Output<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h4>
<p>Results for the dose rate from this continuous-energy calculation are
shown in <a class="reference internal" href="#tab8-26"><span class="std std-numref">Table 279</span></a>, along with results from two multigroup
calculations and an MCNP calculation. To simulate the same type of
physics used in the continuous-energy SCALE, the MCNP calculation used a
photon cutoff energy of 0.01 MeV, EMCPF=100 MeV (detailed physics),
IDES=1 (no electrons/no bremsstrahlung), NOCOH=0 (coherent scattering
occurs), ISPN=0 (no photonuclear collisions), and NODOP=1 (no Doppler
energy broadening).</p>
<p>The results from the SCALE multigroup calculations differ by 20%, due to
how the source and the dose response function are represented. The
19-group structure represents the 1.33 MeV line with the 1.33-1.66 MeV,
so it is expected that the computed dose will be high. With the 47-group
structure, the 1.17 MeV line is represented by the 1-1.2 MeV group (too
low – lower dose will result) and the 1.33 MeV line is represented by
the 1.33-1.44 MeV group (too high – higher dose will result). The
multigroup results are well-converged – just not as accurate as desired.
The continuous-energy results should be more accurate.</p>
<table class="docutils align-center" id="tab8-26" style="width: 70%">
<caption><span class="caption-number">Table 279 </span><span class="caption-text">Dose rates for the cobalt-60/tungsten problem using different energy treatments.</span><a class="headerlink" href="#tab8-26" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><img alt="_images/tab8-26.png" src="_images/tab8-26.png" />
</td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="#fig8-34"><span class="std std-numref">Fig. 224</span></a> and <a class="reference internal" href="#fig8-35"><span class="std std-numref">Fig. 225</span></a> show the results of the point detector
and region tally flux as a function of energy, for this problem as well
as two multigroup calculations and an MCNP calculation. Tables M and N
list the flux values of the cobalt lines and the annihilation gamma for
the two tally types.</p>
<div class="figure align-center" id="id61">
<span id="fig8-34"></span><img alt="_images/8-34.png" src="_images/8-34.png" />
<p class="caption"><span class="caption-number">Fig. 224 </span><span class="caption-text">Point detector fluxes for the cobalt-60/tungsten problem using different energy treatments.</span><a class="headerlink" href="#id61" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id62">
<span id="fig8-35"></span><img alt="_images/8-35.png" src="_images/8-35.png" />
<p class="caption"><span class="caption-number">Fig. 225 </span><span class="caption-text">Region tally fluxes for the cobalt-60/tungsten problem using different energy treatments.</span><a class="headerlink" href="#id62" title="Permalink to this image">¶</a></p>
</div>
<table class="docutils align-center" id="tab8-27" style="width: 70%">
<caption><span class="caption-number">Table 280 </span><span class="caption-text">Region tally fluxes for the cobalt-60/tungsten problem using different energy treatments.</span><a class="headerlink" href="#tab8-27" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><img alt="_images/tab8-27.png" src="_images/tab8-27.png" />
</td>
</tr>
</tbody>
</table>
<table class="docutils align-center" id="tab8-28" style="width: 70%">
<caption><span class="caption-number">Table 281 </span><span class="caption-text">Region tally flux values for the lines.</span><a class="headerlink" href="#tab8-28" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><img alt="_images/tab8-28.png" src="_images/tab8-28.png" />
</td>
</tr>
</tbody>
</table>
<p id="bibtex-bibliography-Monaco-0"><dl class="citation">
<dt class="bibtex label" id="froehner-method-1981"><span class="brackets"><a class="fn-backref" href="#id1">FS81</a></span></dt>
<dd><p>F. H. Froehner and R. R. Spencer. Method for sampling from fission neutron energy spectra. Technical Report ORNL/TM-7631, Oak Ridge National Lab., TN (USA), 1981.</p>
</dd>
<dt class="bibtex label" id="jansky-comparison-1997"><span class="brackets">JTN+97</span><span class="fn-backref">(<a href="#id10">1</a>,<a href="#id13">2</a>)</span></dt>
<dd><p>B. Janskỳ, Z. Turzík, E. Novák, J. Kyncl, F. Cvachovec, and P. Tiller. Comparison of measured and calculated neutron transmission through heavy water for 252Cf source placed in the center of 30 cm diameter sphere. <em>Annals of Nuclear Energy</em>, 24(15):1189–1212, 1997. Publisher: Elsevier.</p>
</dd>
<dt class="bibtex label" id="kiedrowski-evaluating-2011"><span class="brackets"><a class="fn-backref" href="#id4">KI11</a></span></dt>
<dd><p>Brian C. Kiedrowski and Ahmad Ibrahim. Evaluating the efficiency of estimating numerous Monte Carlo tallies. Technical Report, Los Alamos National Lab.(LANL), Los Alamos, NM (United States), 2011.</p>
</dd>
<dt class="bibtex label" id="kiedrowski-statistical-2011"><span class="brackets"><a class="fn-backref" href="#id3">KS11</a></span></dt>
<dd><p>Brian C. Kiedrowski and Clell J. Solomon. Statistical assessment of numerous Monte Carlo tallies. Technical Report, Los Alamos National Lab.(LANL), Los Alamos, NM (United States), 2011.</p>
</dd>
<dt class="bibtex label" id="pederson-confidence-1997"><span class="brackets"><a class="fn-backref" href="#id2">PFB97</a></span></dt>
<dd><p>S. P. Pederson, R. A. Forster, and T. E. Booth. Confidence interval procedures for Monte Carlo transport simulations. <em>Nuclear science and engineering</em>, 127(1):54–77, 1997. Publisher: Taylor &amp; Francis.</p>
</dd>
<dt class="bibtex label" id="sajo-comparison-1993"><span class="brackets"><a class="fn-backref" href="#id9">SWA93</a></span></dt>
<dd><p>E. Sajo, M. L. Williams, and M. Asgari. Comparison of Measured and Calculated Neutron Transmission through Steel for a 252Cf source. <em>Annals of Nuclear Energy</em>, 20(9):585–604, 1993. Publisher: Elsevier.</p>
</dd>
<dt class="bibtex label" id="ueki-neutron-1992"><span class="brackets"><a class="fn-backref" href="#id15">UOA92</a></span></dt>
<dd><p>K. Ueki, A. Ohashi, and Y. Anayama. Neutron shielding ability of KRAFTON N2-Mannan-KRAFTON N2 sandwich-type material and others. <em>Proc. Topical Mtg. on New Horizons in Radiation Protection and Shielding, ANS, Pasco</em>, 1992.</p>
</dd>
</dl>
</p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="MAVRIC.html" class="btn btn-neutral float-right" title="MAVRIC: Monaco with Automated Variance Reduction using Importance Calculations" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="KenoC.html" class="btn btn-neutral float-left" title="Keno Appendix C: Sample problems" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, SCALE developers

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>