

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Sourcerer: Deterministic Starting Source for Criticality Calculations &mdash; SCALE Manual 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="DEVC: Denovo EigenValue Calculation" href="DEVC.html" />
    <link rel="prev" title="STARBUCS: A Scale Control Module for Automated Criticality Safety Analyses Using Burnup Credit" href="STARBUCS.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> SCALE Manual
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Reactor Physics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="TRITON.html">TRITON: A Multipurpose Transport, Depletion, And Sensitivity and Uncertainty Analysis Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="TRITONAppABC.html">TRITON Appendices</a></li>
<li class="toctree-l1"><a class="reference internal" href="Polaris.html">POLARIS - 2D Light Water Reactor Lattice Physics Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="PolarisA.html">SCALE 6.2 Polaris Input Format</a></li>
</ul>
<p class="caption"><span class="caption-text">Depletion, Activation, and Spent Fuel Source Terms</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Depletion%2C%20Activation%2C%20and%20Spent%20Fuel%20Source%20Terms%20Overview.html">Depletion, Activation, and Spent Fuel Source Terms Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="ORIGEN.html">Origen: Neutron Activation, Actinide Transmutation, Fission Product Generation, and Radiation Source Term Calculation</a></li>
<li class="toctree-l1"><a class="reference internal" href="ORIGEN-Data.html">Origen Data Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="ORIGEN-Data.html#energy-resource">Energy Resource</a></li>
<li class="toctree-l1"><a class="reference internal" href="ORIGEN-Data.html#decay-resource-format">Decay Resource Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="ORIGEN-Data.html#fission-yield-resource-format">Fission Yield Resource Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="ORIGEN-Data.html#gamma-resource-format">Gamma Resource Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="ORIGEN-Data.html#origen-end7dec-nuclide-set">ORIGEN “end7dec” Nuclide Set</a></li>
<li class="toctree-l1"><a class="reference internal" href="ORIGAMI.html">ORIGAMI: A Code for Computing Assembly Isotopics with ORIGEN</a></li>
<li class="toctree-l1"><a class="reference internal" href="SLIG.html">SCALE/Origen Library Generator (SLIG)</a></li>
<li class="toctree-l1"><a class="reference internal" href="Origenutil.html">ORIGEN Utility Programs</a></li>
</ul>
<p class="caption"><span class="caption-text">Sensitivity and Uncertainty Analysis</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Sensitivity%20and%20Uncertainty%20Analysis%20Overview.html">Snesitivity and Uncertainty Analysis Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="tsunami-1d.html">TSUNAMI-1D:  Control Module for One-Dimensional Cross-Section Sensitivity and Uncertainty</a></li>
<li class="toctree-l1"><a class="reference internal" href="tsunami-1d-appA.html">XSDRNPM Data File Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="tsunami-3d.html">TSUNAMI-3D: Control Module for Three-Dimensional Cross Section Sensitivity and Uncertainty Analysis for Criticality</a></li>
<li class="toctree-l1"><a class="reference internal" href="sams.html">SAMS: Sensitivity Analysis Module for Scale</a></li>
<li class="toctree-l1"><a class="reference internal" href="sams-appA.html">Sensitivity Data File Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="tsar.html">TSAR: Tool for Sensitivity Analysis of Reactivity Responses</a></li>
<li class="toctree-l1"><a class="reference internal" href="tsunami-ip.html">TSUNAMI Utility Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="tsunami-ip-appAB.html">Data File Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="tsurfer.html">TSURFER: An Adjustment Code to Determine Biases and Uncertainties in Nuclear System Responses by Consolidating Differential Data and Benchmark Integral Experiments</a></li>
<li class="toctree-l1"><a class="reference internal" href="tsurfer-appA.html">TSURFER Appendix A: Sensitivity/Uncertainty Notation</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampler.html">Sampler: A Module for Statistical Uncertainty Analysis with Scale Sequences</a></li>
</ul>
<p class="caption"><span class="caption-text">Criticality Safety</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Criticality%20Safety%20Overview.html">Criticality Safety Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="CSAS5.html">CSAS5:  Control Module For Enhanced Criticality Safety Analysis Sequences With KENO V.a</a></li>
<li class="toctree-l1"><a class="reference internal" href="CSAS5App.html">Additional Example Applications of CSAS5</a></li>
<li class="toctree-l1"><a class="reference internal" href="CSAS6.html">CSAS6:  Control Module for Enhanced Criticality Safety Analysis with KENO-VI</a></li>
<li class="toctree-l1"><a class="reference internal" href="CSAS6App.html">Additional Example Applications of CSAS6</a></li>
<li class="toctree-l1"><a class="reference internal" href="STARBUCS.html">STARBUCS: A Scale Control Module for Automated Criticality Safety Analyses Using Burnup Credit</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Sourcerer: Deterministic Starting Source for Criticality Calculations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#capabilities">Capabilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#using-devc-denovo">Using DEVC/Denovo</a></li>
<li class="toctree-l3"><a class="reference internal" href="#convergence-metrics-in-keno">Convergence Metrics in KENO</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#sequence-input">Sequence Input</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sequence-output">Sequence Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sample-problems">Sample problems</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#jezebel">Jezebel</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#input-file">Input file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#output-file">Output file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#other-variations">Other variations</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="DEVC.html">DEVC: Denovo EigenValue Calculation</a></li>
<li class="toctree-l1"><a class="reference internal" href="KMART.html">KMART5 and KMART6: Postprocessors for KENO V.A and KENO-VI</a></li>
<li class="toctree-l1"><a class="reference internal" href="K5C5.html">K5toK6 and C5toC6: Input File Conversion Programs for KENO and CSAS</a></li>
</ul>
<p class="caption"><span class="caption-text">Material Specification and Cross Section Processing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Material%20Specification%20and%20Cross%20Section%20Processing%20Overview.html">Material Specification and Cross Section Processing Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="XSProc.html">XSPROC: The Material and Cross Section Processing Module for SCALE</a></li>
<li class="toctree-l1"><a class="reference internal" href="XSProcAppA.html">XSProc: Standard Composition Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="XSProcAppB.html">XSProc Standard Composition Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="XSProcAppC.html">Examples of Complete XSProc Input Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="stdcmp.html">Standard Composition Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="BONAMI.html">BONAMI: Resonance Self-Shielding by the Bondarenko Method</a></li>
<li class="toctree-l1"><a class="reference internal" href="CENTRM.html">CENTRM: A Neutron Transport Code for Computing Continuous-Energy Spectra in General One-Dimensional Geometries and Two-Dimensional Lattice Cells</a></li>
<li class="toctree-l1"><a class="reference internal" href="PMC.html">PMC: A Program to Produce Multigroup Cross Sections Using Pointwise Energy Spectra from CENTRM</a></li>
<li class="toctree-l1"><a class="reference internal" href="PMCAppAB.html">PMC Appendices A and B</a></li>
<li class="toctree-l1"><a class="reference internal" href="CHOPS.html">CHOPS: Module to Compute Pointwise Disadvantage Factors and Produce a Cell-Homogenized CENTRM Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="CRAWDAD.html">CRAWDAD: Module to Produce CENTRM-Formatted Continuous-Energy Nuclear Data Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="MCDancoff.html">MCDancoff Data Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="CAJUN.html">CAJUN: Module for Combining and Manipulating CENTRM Continuous-Energy Libraries</a></li>
</ul>
<p class="caption"><span class="caption-text">Monte Carlo Transport</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Monte%20Carlo%20Transport%20Overview.html">Monte Carlo Transport Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="KenoA.html">Keno Appendix A: KENO V.a Shape Descriptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="KenoB.html">Keno Appendix B: KENO VI Shape Descriptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="KenoC.html">Keno Appendix C: Sample problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="Monaco.html">Monaco: A Fixed-Source Monte Carlo Transport Code for Shielding Applications</a></li>
</ul>
<p class="caption"><span class="caption-text">Radiation Shielding</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="MAVRIC.html">MAVRIC: Monaco with Automated Variance Reduction using Importance Calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="CAAScapability.html">MAVRIC Appendix A: CAAS Capability</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendixb.html">MAVRIC Appendix B: MAVRIC Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendixc.html">MAVRIC Appendix C: Advanced Features</a></li>
</ul>
<p class="caption"><span class="caption-text">Deterministic Transport</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Deterministic%20Transport%20Intro.html">Deterministic Transport Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="XSD.html">XSDRNPM: A One-Dimensional Discrete-Ordinates Code for Transport Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="XSDAppAB.html">XSDRNPM Appendices A and B</a></li>
<li class="toctree-l1"><a class="reference internal" href="NEWT.html">NEWT:  A New Transport Algorithm for Two-Dimensional Discrete-Ordinates Analysis in Non-Orthogonal Geometries</a></li>
</ul>
<p class="caption"><span class="caption-text">Nuclear Data Libraries</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Nuclear%20Data%20Libraries%20Overview.html">SCALE Nuclear Data Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="XSLib.html">SCALE Cross Section Libraries</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SCALE Manual</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Sourcerer: Deterministic Starting Source for Criticality Calculations</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/Sourcerer.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="sourcerer-deterministic-starting-source-for-criticality-calculations">
<span id="sourcerer"></span><h1>Sourcerer: Deterministic Starting Source for Criticality Calculations<a class="headerlink" href="#sourcerer-deterministic-starting-source-for-criticality-calculations" title="Permalink to this headline">¶</a></h1>
<p><em>D. E. Peplow, A. M. Ibrahim, K. B. Bekar, C. Celik, and B. T. Rearden</em></p>
<p>The Sourcerer sequence in SCALE deterministically computes a fission
distribution and uses it as the starting source in a Monte Carlo
eigenvalue criticality calculation. Using a reasonably accurate starting
source, developed from the Denovo discrete-ordinates code through the
DEVC sequence, Sourcerer improves the KENO/CSAS Monte Carlo calculation
in two ways. First, the number of skipped generations required to
converge the fission source distribution in the KENO solution is
reduced. Second, for problems with loosely coupled fissionable areas,
the reliability of the final eigenvalue
(<span class="math notranslate nohighlight">\(k_{\mathrm{\text{eff}}}\)</span>) is increased. Several convergence
diagnostic capabilities available in the KENO codes help the user better
measure when the fission source actually convergences.</p>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Monte Carlo eigenvalue calculations have been used in evaluating
critical and sub-critical systems for decades. Calculations are
typically done iteratively – starting with a set of fission neutrons,
transporting them through the geometry until they leak or are absorbed,
and then tabulating the fission sites for the next iteration. Each
iteration corresponds to a generation in a chain reaction, and the
eigenvalue, <span class="math notranslate nohighlight">\(k_{\mathrm{\text{eff}}}\)</span>, is the ratio of the number
of fissions in one generation to the number in the previous generation.
Once the fission source distribution (the eigenfunction) has converged,
many generations are simulated to obtain more estimates of
<span class="math notranslate nohighlight">\(k_{\mathrm{\text{eff}}}\)</span> with lower statistical uncertainty.</p>
<p>Two common questions that concern practitioners are (1) how many
generations (skipped generations) are required before the fission source
distribution is sufficiently converged that generational estimates of
<span class="math notranslate nohighlight">\(k_{\mathrm{\text{eff}}}\)</span> can be included in the final average of
the eigenvalue (the active generations) and (2) has the fission source
converged to the correct distribution, such that the final value of the
eigenvalue will be correct? For most calculations, the final value of
the <span class="math notranslate nohighlight">\(k_{\mathrm{\text{eff}}}\)</span> eigenvalue is all that matters, so
the convergence of the generational value of
<span class="math notranslate nohighlight">\(k_{\mathrm{\text{eff}}}\)</span> is used to determine the number of
skipped generations. Fluxes and reaction rates computed during the
active generations are more sensitive to the entire fission distribution
and should only be accumulated when the fission distribution is
sufficiently converged – which is not necessarily as soon as the
generational value of <span class="math notranslate nohighlight">\(k_{\mathrm{\text{eff}}}\)</span> has converged. To
address this concern, tools such as Shannon entropy <a class="bibtex reference internal" href="#shannon-mathematical-1948" id="id1">[Sha48]</a> can be used to
measure the convergence of the fission source distribution
eigenfunction <a class="bibtex reference internal" href="#ueki-stationarity-2003" id="id2">[UB03]</a><a class="bibtex reference internal" href="#ueki-stationarity-2005" id="id3">[UB05]</a>.</p>
<p>For the second question, the reliability in the final
<span class="math notranslate nohighlight">\(k_{\mathrm{\text{eff}}}\)</span> eigenvalue depends on whether the
fission source converges to the correct distribution. Because no tool
currently exists in SCALE to verify that the fission distribution is
correct, models are often run for many generations using many histories
per generation to ensure that the result does not change. Another
approach to verify eigenvalue accuracy is to run several clones of the
same problem, but each starting with different random numbers seed, and
ensure that they all predict the same value for
<span class="math notranslate nohighlight">\(k_{\mathrm{\text{eff}}}\)</span>. Addressing this concern relies heavily
on the engineering judgment of the practitioner.</p>
<p>Initial studies <a class="bibtex reference internal" href="#ibrahim-acceleration-2011" id="id4">[IPW+11]</a> have shown that the use of a
starting fission distribution that is similar to the true fission
distribution can both reduce the number of skipped generations required
for fission source convergence and significantly improve the reliability
of the final <span class="math notranslate nohighlight">\(k_{\mathrm{\text{eff}}}\)</span> result. A recent study <a class="bibtex reference internal" href="#ibrahim-hybrid-2013" id="id5">[Ibr13]</a>
focusing on criticality calculations of a spent nuclear fuel cask showed
that the chance of a low eigenvalue result due to undersampling from an
unconverged source was dramatically reduced when using a deterministic
starting source. In that study, a cask holding 24 assemblies was
examined using a uniform starting source, a deterministic starting
source with loose convergence criteria, and a deterministic starting
source with tight convergence criteria. Multiple clones of KENO were run
(with different random number seeds) for different values of skipped
cycles. The number of clones that gave an incorrect result for
<span class="math notranslate nohighlight">\(k_{\mathrm{\text{eff}}}\)</span> was then tabulated. The results from
that study, presented in Figure 2.4.1, show that using a deterministic
starting source significantly increases the
<span class="math notranslate nohighlight">\(k_{\mathrm{\text{eff}}}\)</span> reliability.</p>
<p>The Sourcerer sequence in SCALE uses the solution from the Denovo <a class="bibtex reference internal" href="appendixc.html#evans-denovo-2010" id="id6">[ESSC10]</a>
discrete-ordinates code (through the DEVC sequence) as that starting
fission source distribution in a CSAS/KENO Monte Carlo <a class="bibtex reference internal" href="#goluoglu-monte-2011" id="id7">[GPJD+11]</a> calculation.
For challenging criticality safety analyses, such as as-loaded spent
nuclear fuel transportation packages with a mixed loading of low- and
high-burnup fuel, even a low-fidelity deterministic solution for the
fission source should be more accurate than the typical starting guesses
of uniform or cosine shape over the fissionable regions. The Sourcerer
sequence is fairly automated and uses an input very similar to standard
CSAS (KENO V.a or KENO-VI) inputs, along with a short description of the
mesh and other parameters for the Denovo calculation.</p>
<div class="figure align-center" id="id9">
<span id="fig2-4-1"></span><a class="reference internal image-reference" href="_images/fig124.png"><img alt="_images/fig124.png" src="_images/fig124.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-number">Fig. 129 </span><span class="caption-text">Fraction of failure to agree with the reference <em>k</em><sub>eff</sub> value for KENO calculations with different starting sources (Figure 4 from Ref. 5).</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="capabilities">
<h2>Capabilities<a class="headerlink" href="#capabilities" title="Permalink to this headline">¶</a></h2>
<p>The Sourcerer sequence calls a series of other sequences and utilities
in SCALE – most importantly DEVC (for Denovo) and one of the CSAS
sequences. Because DEVC can only use KENO-VI geometry, the utility
c5toc6 geometry converter is used for KENO V.a geometries. The utility
dso2msl is used to convert the Denovo spatial output (*.dso file) into a
mesh source lite (*.msl) file that can be read as a starting source in
KENO. All of the steps in Sourcerer are described in <a class="reference internal" href="#tab2-4-1"><span class="std std-numref">Table 134</span></a>.</p>
<p>The sequence can be terminated at several points throughout the
calculation using the <code class="docutils literal notranslate"><span class="pre">“parm=”</span></code> control on the <code class="docutils literal notranslate"><span class="pre">“=sourcerer”</span></code> line that
starts the sequence. This capability can be used to stop the sequence
between steps to ensure that the problem is progressing correctly or
used to make a single source distribution that can be used with many
variants of the final CSAS problem. Also when running several versions
of a problem, if a file that is normally created by the Sourcerer
sequence is supplied, then that step will be skipped, thus saving time.
Note that files that use the name of the input file (<em>input</em>.inp) will
be copied back to the user’s working directory automatically when the
sequence finishes. Files that do not use the input file name can be
copied back to the user’s working area with an extra <code class="docutils literal notranslate"><span class="pre">“=shell”</span></code> directive
in the <code class="docutils literal notranslate"><span class="pre">*input*.inp</span></code> input file.</p>
<p>The Sourcerer sequence can be used with KENO V.a or KENO-VI geometries.
Either multi-group (MG) or continuous energy cross-section libraries can
be used for the final CSAS calculation. Denovo only uses multi-group
libraries, and self-shielding can be done like any MG sequence in SCALE.
For efficient calculations, the user should understand the basics of
Denovo eigenvalue calculations, how to use macromaterials, and how to
use the KENO convergence metrics.</p>
<span id="tab2-4-1"></span><table class="docutils align-center" id="id10">
<caption><span class="caption-number">Table 134 </span><span class="caption-text">Steps in Sourcerer for an input file named <em>input</em>.inp.</span><a class="headerlink" href="#id10" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Step</p></th>
<th class="head"><p>Module/Task</p></th>
<th class="head"><p>Creates file</p></th>
<th class="head"><p>To stop after</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>Check user
input</p></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">parm=check</span></code></p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">c5toc6</span></code> – For
KENO V.a
sequences, the
geometry is
translated into
KENO-VI
geometry.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">input.geom0…</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">00.inp</span></code></p>
</td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>2a</p></td>
<td><p>Create Denovo
input and AMPX
cross sections</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">xkba_b.inp</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">ft02f001</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">input.mmt</span></code></p>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">parm=deninp</span></code></p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>2b</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">devc</span></code> – Denovo eigenvalue
calculation to
compute a
fission source
distribution</p></td>
<td><p><em>input</em>.dso</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">parm=denovo</span></code></p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dso2msl</span></code> –
Convert the
fission source
distribution
file into a
mesh source
lite file</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">input.msl</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>4a</p></td>
<td><p>Create the CSAS
input</p></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">parm=csasinp</span></code></p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>4b</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">csasX</span></code> - Run
the specific CSAS sequence using the mesh source lite as the
starting source</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<div class="section" id="using-devc-denovo">
<h3>Using DEVC/Denovo<a class="headerlink" href="#using-devc-denovo" title="Permalink to this headline">¶</a></h3>
<p>Some discussion is required about the extent and level of detail needed
in the grid geometry that will be used in the Denovo calculation and the
mesh-based starting source. When using discrete-ordinates transport
(S:sub:<cite>N</cite>) methods alone for solving radiation transport problems, a
good rule of thumb is to use mesh cell sizes on the order of a mean-free
path of the particle. For complex problems, this could lead to an
extremely large number of mesh cells, especially when considering the
size of the mean-free path of the lowest energy neutrons.</p>
<p>In Sourcerer, the goal is to use the S<sub>N</sub> calculation for a quick
estimate. Accuracy is not paramount—just getting an approximation of the
overall shape of the true fission source distribution will benefit the
CSAS Monte Carlo calculation. With a more accurate starting source,
fewer skipped generations may be required. At some point there is a time
trade-off where calculating the starting source guess requires more time
than the saved skipped generations would have used. Large numbers of
mesh cells, as a result of using very small mesh sizes, for S<sub>N</sub>
calculations also use a great deal of computer memory.</p>
<p>Because the S<sub>N</sub> calculation is only used to establish the
initial distribution of source neutrons, the runtime and memory
requirements for Sourcerer can be reduced by using larger/coarser mesh
cell sizes than is typical for a stand-alone S<sub>N</sub> analysis. Some
general guidelines to consider when creating a mesh for the Denovo
eigenvalue calculation/mesh-based starting source are as follows.</p>
<ul class="simple">
<li><p>All fissionable areas of the geometry and areas where neutrons can
reasonably affect the eigenvalue should be included in the mesh.</p></li>
<li><p>More detail should be used in the fissionable areas.</p></li>
<li><p>Mesh planes should be placed at significant material boundaries.</p></li>
<li><p>Neighboring cell mesh sizes should not be drastically different.</p></li>
</ul>
</div>
<div class="section" id="convergence-metrics-in-keno">
<h3>Convergence Metrics in KENO<a class="headerlink" href="#convergence-metrics-in-keno" title="Permalink to this headline">¶</a></h3>
<p>KENO provides several tools that can be used to examine the convergence
of <span class="math notranslate nohighlight">\(k_{\mathrm{\text{eff}}}\)</span> and the fission source distribution.
These include tools based on Shannon Entropy<sup>1,3</sup> and tools based
on the mesh tally metrics described in <a class="bibtex reference internal" href="#kiedrowski-statistical-2011" id="id8">[KS11]</a>. Running Sourcerer
should accelerate Shannon Entropy convergence for KENO calculations, and
Sourcerer/KENO users should always check that the calculation Shannon
Entropy has converged before active generations begin.</p>
</div>
</div>
<div class="section" id="sequence-input">
<h2>Sequence Input<a class="headerlink" href="#sequence-input" title="Permalink to this headline">¶</a></h2>
<p>The input file for a Sourcerer calculation is similar to a CSAS input,
as shown in <a class="reference internal" href="#tab2-4-2"><span class="std std-numref">Table 135</span></a>. There are two major differences between
Sourcerer and CSAS: the beginning/end syntax of the CSAS input and the
presence of the “read detSource” block for specifying the deterministic
starting source. The CSAS input appears as one block in the Sourcerer
sequence – instead of “=csasXX” use “read csasXX” and instead of “end
data” use “end csasXX”. If any parm= parameters are required for the
CSAS sequence, they can be listed as “read csasX parm=(…)”. Because
Sourcerer runs both the DEVC and CSAS sequences, which will most likely
use different cross-section data libraries (coarse group for S<sub>N</sub>
and fine group or continuous energy for Monte Carlo), the library for
DEVC is listed in the new “read detSource” block, along with other
parameters used by the Sourcerer sequence.</p>
<p>One important note about the geometry in Sourcerer is that for KENO V.a
geometries, an outer boundary region should be added for an accurate
internal conversion to a KENO-VI geometry prior to ray tracing. Also
note that when using CSAS methods with the search capability, the Denovo
mesh must encompass any changes to the size of the geometry.</p>
<p>Parameters used for building the deterministic starting source and
establishing the CSAS sequence are specified in the detSource block. The
library name for the Denovo calculation and the grid for the Denovo
calculations are required. Many optional parameters are available for
controlling the Denovo solver and applying boundary conditions (in the
<code class="docutils literal notranslate"><span class="pre">eigenValParams</span></code> sub-block). The grid geometry is defined in a sub-block,
or the keyword <code class="docutils literal notranslate"><span class="pre">“gridGeometryID=</span></code> <em>n</em>” can be used to point to a grid
geometry defined in its own input block. The use of macromaterials to
construct a more representative mesh model from the Monte Carlo geometry
is controlled with the <code class="docutils literal notranslate"><span class="pre">“mmSubCell=”</span></code> and <code class="docutils literal notranslate"><span class="pre">“mmTolerance=”</span></code> parameters in the
macromaterial sub-block.</p>
<p>The overall layout of the detSource block is shown in <a class="reference internal" href="#tab2-4-3"><span class="std std-numref">Table 136</span></a>. The
more common keywords for the eigenValParams sub-block are shown in
<a class="reference internal" href="#tab2-4-4"><span class="std std-numref">Table 137</span></a> and <a class="reference internal" href="#tab2-4-5"><span class="std std-numref">Table 138</span></a>. A full list of the Denovo parameters
appears in Appendix A. Macromaterials are explained in detail in the
DEVC manual, and a list of keywords is given in <a class="reference internal" href="#tab2-4-6"><span class="std std-numref">Table 139</span></a>.</p>
<table class="docutils align-center" id="tab2-4-2">
<caption><span class="caption-number">Table 135 </span><span class="caption-text">Input file for a Sourcerer calculation (and differences with a CSAS input file, where black text is the same as CSAS and green text is new for Sourcerer sequence).</span><a class="headerlink" href="#tab2-4-2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><img alt="_images/tab23.png" src="_images/tab23.png" />
</td>
</tr>
</tbody>
</table>
<table class="docutils align-center" id="tab2-4-3">
<caption><span class="caption-number">Table 136 </span><span class="caption-text">The detSource block.</span><a class="headerlink" href="#tab2-4-3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><img alt="_images/tab31.png" src="_images/tab31.png" />
</td>
</tr>
</tbody>
</table>
<table class="docutils align-center" id="tab2-4-4">
<caption><span class="caption-number">Table 137 </span><span class="caption-text">Common Denovo parameters in the eigenValParams sub-block.</span><a class="headerlink" href="#tab2-4-4" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><img alt="_images/tab41.png" src="_images/tab41.png" />
</td>
</tr>
</tbody>
</table>
<table class="docutils align-center" id="tab2-4-5">
<caption><span class="caption-number">Table 138 </span><span class="caption-text">Boundary conditions in the eigenValParams sub-block.</span><a class="headerlink" href="#tab2-4-5" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><img alt="_images/tab51.png" src="_images/tab51.png" />
</td>
</tr>
</tbody>
</table>
<table class="docutils align-center" id="tab2-4-6">
<caption><span class="caption-number">Table 139 </span><span class="caption-text">Macromaterial sub-block input.</span><a class="headerlink" href="#tab2-4-6" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><img alt="_images/tab61.png" src="_images/tab61.png" />
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="sequence-output">
<h2>Sequence Output<a class="headerlink" href="#sequence-output" title="Permalink to this headline">¶</a></h2>
<p>In addition to the data contained in the main Sourcerer text output
file, many other files are created containing the intermediate data used
by the sequence. These files are listed in <a class="reference internal" href="#tab2-4-7"><span class="std std-numref">Table 140</span></a>. Some of the
files produced can be viewed using the Java Mesh File Viewer, which is
distributed with SCALE.</p>
<p>Note that files that use the name of the input file (<em>input</em>.inp) will
be copied back to the user’s working directory automatically when the
sequence finishes. Files that do not use the input file name can be
copied back to the user’s working area with an extra <code class="docutils literal notranslate"><span class="pre">“=shell”</span></code> directive
in the <em>input</em>.inp input file.</p>
<p>Instructions on how to use the Java Mesh File Viewer to view the various
output files listed in <a class="reference internal" href="#tab2-4-7"><span class="std std-numref">Table 140</span></a> as well as how to use the
macromaterial table file are located in the DEVC manual and the Mesh
File Viewer help file, which is accessible through the Help/Help menu.</p>
<span id="tab2-4-7"></span><table class="docutils align-default" id="id11">
<caption><span class="caption-number">Table 140 </span><span class="caption-text">Files created by Sourcerer for an input file named <em>input</em>.inp.</span><a class="headerlink" href="#id11" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Filename</strong></p></th>
<th class="head"></th>
<th class="head"><p><strong>Viewer</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Output Summary</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p><em>input</em>.out</p></td>
<td></td>
<td><p>main text
output file,
contains
results summary</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p><em>input</em>.msg</p></td>
<td></td>
<td><p>messages file</p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Geometry
Conversion</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>i_c5toc6</p></td>
<td></td>
<td><p>input file for
c5toc6 module</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p><em>input</em>.geom000
….inp</p></td>
<td></td>
<td><p>KENO-VI version
of a KENO V.a
geometry, if
applicable</p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Denovo</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>i_devc</p></td>
<td></td>
<td><p>input file for
DEVC sequence</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>xkba_b.inp</p></td>
<td><p>V<sup>a</sup></p></td>
<td><p>input file for
Denovo – if
this file is
renamed to have</p>
<p>a *.dsi
extension
(Denovo simple
input), it is
viewable</p>
<p>in the Mesh
File Viewer</p>
</td>
</tr>
<tr class="row-odd"><td></td>
<td><p>ft02f001</p></td>
<td></td>
<td><p>AMPX formatted
cross sections
for Denovo</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p><em>input</em>.dso</p></td>
<td><p>V</p></td>
<td><p>Denovo fission
source
distribution</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p><em>input</em>.mmt</p></td>
<td><p>V</p></td>
<td><p>macromaterial
table, use with
*.dso or
*.dsi file</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Mesh Source
Conversion</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>i_util</p></td>
<td></td>
<td><p>input file for
dso2msl utility</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p><em>input</em>.msl</p></td>
<td><p>V</p></td>
<td><p>mesh source
lite file, the
starting source
distribution</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>CSAS</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>i_csasXX</p></td>
<td></td>
<td><p>input file for
the final
CSASXX sequence</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p><em>input</em>.fission
Source.3dmap</p></td>
<td><p>V</p></td>
<td><p>mesh tally of
fission source
distribution
from KENO</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p><em>input</em>.kenoNuB
ar.txt</p></td>
<td></td>
<td><p>text file
containing
value of nu-bar</p></td>
</tr>
<tr class="row-odd"><td><p><sup>a</sup>V – can be displayed
with the Mesh File Viewer.</p></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="sample-problems">
<h2>Sample problems<a class="headerlink" href="#sample-problems" title="Permalink to this headline">¶</a></h2>
<p>In addition to the sample problems described in this section (with input
files included with SCALE), the reader is referred to the paper by
Ibrahim et al. for a detailed study using a real used nuclear fuel
transport and storage canister containing assemblies with a range of
initial enrichments and burnups.</p>
<div class="section" id="jezebel">
<h3>Jezebel<a class="headerlink" href="#jezebel" title="Permalink to this headline">¶</a></h3>
<p>Consider the Jezebel critical assembly [PU-MET-FAST-001 in Volume I of the <em>International Handbook of
Evaluated Criticality Safety Benchmark Experiments</em>, NEA/NSC/DOC(95)03,  Organisation for Economic
Co-operation and Development, Nuclear Energy Agency (OECD-NEA), September 2012]. This is a very simple
problem (a single sphere) to solve with CSAS and can be useful as a way to demonstrate the Sourcerer sequence.</p>
<div class="section" id="input-file">
<h4>Input file<a class="headerlink" href="#input-file" title="Permalink to this headline">¶</a></h4>
<p>The standard CSAS inputs for Jezebel are shown below using both KENO V.a and KENO-VI geometries.</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>KENO V.a geometry</p></td>
<td><p>KENO-VI geometry</p></td>
</tr>
<tr class="row-even"><td><div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="nf">=csas5</span>
<span class="err">Jezebel</span>
<span class="err">v</span><span class="m">7</span><span class="err">-</span><span class="m">252</span><span class="err">n</span>
<span class="n">read</span><span class="err"> </span><span class="n">composition</span>
    <span class="err">pu-</span><span class="m">239</span> <span class="m">1</span> <span class="m">0</span> <span class="m">0</span><span class="err">.</span><span class="m">037047</span>   <span class="n">end</span>
    <span class="err">pu-</span><span class="m">240</span> <span class="m">1</span> <span class="m">0</span> <span class="m">0</span><span class="err">.</span><span class="m">0017512</span>  <span class="n">end</span>
    <span class="err">pu-</span><span class="m">241</span> <span class="m">1</span> <span class="m">0</span> <span class="m">0</span><span class="err">.</span><span class="m">00011674</span> <span class="n">end</span>
    <span class="err">ga</span>     <span class="m">1</span> <span class="m">0</span> <span class="m">0</span><span class="err">.</span><span class="m">0013752</span>  <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">composition</span>
<span class="n">read</span><span class="err"> </span><span class="n">parameters</span>
    <span class="err">gen=</span><span class="m">110</span> <span class="err">npg=</span><span class="m">1000</span> <span class="err">nsk=</span><span class="m">10</span>
<span class="n">end</span><span class="err"> </span><span class="n">parameters</span>
<span class="n">read</span><span class="err"> </span><span class="n">geometry</span>
    <span class="err">global</span> <span class="err">unit</span> <span class="m">2</span>
        <span class="err">sphere</span>  <span class="m">1</span> <span class="m">1</span>  <span class="m">6</span><span class="err">.</span><span class="m">38493</span>      <span class="err">.</span>


<span class="n">end</span><span class="err"> </span><span class="n">geometry</span>
<span class="n">end</span><span class="err"> </span><span class="n">data</span>
<span class="n">end</span>
</pre></div>
</div>
</td>
<td><div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="nf">=csas6</span>
<span class="err">Jezebel</span>
<span class="err">v</span><span class="m">7</span><span class="err">-</span><span class="m">252</span><span class="err">n</span>
<span class="n">read</span><span class="err"> </span><span class="n">composition</span>
    <span class="err">pu-</span><span class="m">239</span> <span class="m">1</span> <span class="m">0</span> <span class="m">0</span><span class="err">.</span><span class="m">037047</span>   <span class="n">end</span>
    <span class="err">pu-</span><span class="m">240</span> <span class="m">1</span> <span class="m">0</span> <span class="m">0</span><span class="err">.</span><span class="m">0017512</span>  <span class="n">end</span>
    <span class="err">pu-</span><span class="m">241</span> <span class="m">1</span> <span class="m">0</span> <span class="m">0</span><span class="err">.</span><span class="m">00011674</span> <span class="n">end</span>
    <span class="err">ga</span>     <span class="m">1</span> <span class="m">0</span> <span class="m">0</span><span class="err">.</span><span class="m">0013752</span>  <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">composition</span>
<span class="n">read</span><span class="err"> </span><span class="n">parameters</span>
    <span class="err">gen=</span><span class="m">110</span> <span class="err">npg=</span><span class="m">1000</span> <span class="err">nsk=</span><span class="m">10</span>
<span class="n">end</span><span class="err"> </span><span class="n">parameters</span>
<span class="n">read</span><span class="err"> </span><span class="n">geometry</span>
    <span class="err">global</span> <span class="err">unit</span> <span class="m">2</span>
        <span class="err">sphere</span>  <span class="m">51</span>  <span class="m">6</span><span class="err">.</span><span class="m">38493</span>
        <span class="err">media</span> <span class="m">1</span> <span class="m">1</span> <span class="m">51</span> <span class="err">vol=</span><span class="m">1090</span><span class="err">.</span><span class="m">3277</span>
    <span class="err">boundary</span> <span class="m">51</span>
<span class="n">end</span><span class="err"> </span><span class="n">geometry</span>
<span class="n">end</span><span class="err"> </span><span class="n">data</span>
<span class="n">end</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>The above inputs can be easily changed into the following Sourcerer
inputs (with geometry additions in brackets and extra Sourcerer input in
braces).</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>KENO V.a geometry</p></td>
<td><p>KENO-VI geometry</p></td>
</tr>
<tr class="row-even"><td><div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="err">{=sourcerer}</span>
<span class="err">{</span><span class="n">read</span><span class="err">} </span><span class="n">csas</span><span class="err">5</span>
<span class="err">Jezebel</span>
<span class="err">v</span><span class="m">7</span><span class="err">-</span><span class="m">252</span><span class="err">n</span>
<span class="n">read</span><span class="err"> </span><span class="n">composition</span>
    <span class="err">pu-</span><span class="m">239</span> <span class="m">1</span> <span class="m">0</span> <span class="m">0</span><span class="err">.</span><span class="m">037047</span>   <span class="n">end</span>
    <span class="err">pu-</span><span class="m">240</span> <span class="m">1</span> <span class="m">0</span> <span class="m">0</span><span class="err">.</span><span class="m">0017512</span>  <span class="n">end</span>
    <span class="err">pu-</span><span class="m">241</span> <span class="m">1</span> <span class="m">0</span> <span class="m">0</span><span class="err">.</span><span class="m">00011674</span> <span class="n">end</span>
    <span class="err">ga</span>     <span class="m">1</span> <span class="m">0</span> <span class="m">0</span><span class="err">.</span><span class="m">0013752</span>  <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">composition</span>
<span class="n">read</span><span class="err"> </span><span class="n">parameters</span>
    <span class="err">gen=</span><span class="m">110</span> <span class="err">npg=</span><span class="m">1000</span> <span class="err">nsk=</span><span class="m">10</span>
<span class="n">end</span><span class="err"> </span><span class="n">parameters</span>
<span class="n">read</span><span class="err"> </span><span class="n">geometry</span>
    <span class="err">global</span> <span class="err">unit</span> <span class="m">2</span>
        <span class="err">sphere</span>  <span class="m">1</span> <span class="m">1</span>  <span class="m">6</span><span class="err">.</span><span class="m">38493</span>
        <span class="err">[cuboid</span> <span class="m">0</span> <span class="m">1</span> <span class="m">7</span><span class="err">.</span><span class="m">0</span> <span class="err">-</span><span class="m">7</span><span class="err">.</span><span class="m">0</span> <span class="m">7</span><span class="err">.</span><span class="m">0</span> <span class="err">-</span><span class="m">7</span><span class="err">.</span><span class="m">0</span> <span class="m">7</span><span class="err">.</span><span class="m">0</span> <span class="err">-</span><span class="m">7</span><span class="err">.</span><span class="m">0</span><span class="err">]</span>

<span class="n">end</span><span class="err"> </span><span class="n">geometry</span>
<span class="err">{</span><span class="n">end</span><span class="err"> </span><span class="n">csas</span><span class="err">5}</span>
<span class="err">{</span><span class="n">read</span><span class="err"> </span><span class="n">detSource</span><span class="err">}</span>
    <span class="err">{dLibrary=</span><span class="s">&quot;v7-27n19g&quot;</span><span class="err">}</span>
    <span class="err">{gridGeometry</span> <span class="m">7</span><span class="err">}</span>
        <span class="err">{xLinear</span> <span class="m">14</span> <span class="err">-</span><span class="m">7</span><span class="err">.</span><span class="m">0</span> <span class="m">7</span><span class="err">.</span><span class="m">0</span><span class="err">}</span>
        <span class="err">{yLinear</span> <span class="m">14</span> <span class="err">-</span><span class="m">7</span><span class="err">.</span><span class="m">0</span> <span class="m">7</span><span class="err">.</span><span class="m">0</span><span class="err">}</span>
        <span class="err">{zLinear</span> <span class="m">14</span> <span class="err">-</span><span class="m">7</span><span class="err">.</span><span class="m">0</span> <span class="m">7</span><span class="err">.</span><span class="m">0</span><span class="err">}</span>
    <span class="err">{</span><span class="n">end</span><span class="err"> </span><span class="n">gridGeometry</span><span class="err">}</span>
<span class="err">{</span><span class="n">end</span><span class="err"> </span><span class="n">detSource</span><span class="err">}</span>
<span class="n">end</span><span class="err"> </span><span class="n">data</span>
<span class="n">end</span>
</pre></div>
</div>
</td>
<td><div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="err">{=sourcerer}</span>
<span class="err">{</span><span class="n">read</span><span class="err">} </span><span class="n">csas</span><span class="err">6</span>
<span class="err">Jezebel</span>
<span class="err">v</span><span class="m">7</span><span class="err">-</span><span class="m">252</span><span class="err">n</span>
<span class="n">read</span><span class="err"> </span><span class="n">composition</span>
    <span class="err">pu-</span><span class="m">239</span> <span class="m">1</span> <span class="m">0</span> <span class="m">0</span><span class="err">.</span><span class="m">037047</span>   <span class="n">end</span>
    <span class="err">pu-</span><span class="m">240</span> <span class="m">1</span> <span class="m">0</span> <span class="m">0</span><span class="err">.</span><span class="m">0017512</span>  <span class="n">end</span>
    <span class="err">pu-</span><span class="m">241</span> <span class="m">1</span> <span class="m">0</span> <span class="m">0</span><span class="err">.</span><span class="m">00011674</span> <span class="n">end</span>
    <span class="err">ga</span>     <span class="m">1</span> <span class="m">0</span> <span class="m">0</span><span class="err">.</span><span class="m">0013752</span>  <span class="n">end</span>
<span class="n">end</span><span class="err"> </span><span class="n">composition</span>
<span class="n">read</span><span class="err"> </span><span class="n">parameters</span>
    <span class="err">gen=</span><span class="m">110</span> <span class="err">npg=</span><span class="m">1000</span> <span class="err">nsk=</span><span class="m">10</span>
<span class="n">end</span><span class="err"> </span><span class="n">parameters</span>
<span class="n">read</span><span class="err"> </span><span class="n">geometry</span>
    <span class="err">global</span> <span class="err">unit</span> <span class="m">2</span>
        <span class="err">sphere</span>  <span class="m">51</span>  <span class="m">6</span><span class="err">.</span><span class="m">38493</span>
        <span class="err">media</span> <span class="m">1</span> <span class="m">1</span> <span class="m">51</span> <span class="err">vol=</span><span class="m">1090</span><span class="err">.</span><span class="m">3277</span>
    <span class="err">boundary</span> <span class="m">51</span>
<span class="n">end</span><span class="err"> </span><span class="n">geometry</span>
<span class="err">{</span><span class="n">end</span><span class="err"> </span><span class="n">csas</span><span class="err">6}</span>
<span class="err">{</span><span class="n">read</span><span class="err"> </span><span class="n">detSource</span><span class="err">}</span>
    <span class="err">{dLibrary=</span><span class="s">&quot;v7-27n19g&quot;</span><span class="err">}</span>
    <span class="err">{gridGeometry</span> <span class="m">7</span><span class="err">}</span>
        <span class="err">{xLinear</span> <span class="m">14</span> <span class="err">-</span><span class="m">7</span><span class="err">.</span><span class="m">0</span> <span class="m">7</span><span class="err">.</span><span class="m">0</span><span class="err">}</span>
        <span class="err">{yLinear</span> <span class="m">14</span> <span class="err">-</span><span class="m">7</span><span class="err">.</span><span class="m">0</span> <span class="m">7</span><span class="err">.</span><span class="m">0</span><span class="err">}</span>
        <span class="err">{zLinear</span> <span class="m">14</span> <span class="err">-</span><span class="m">7</span><span class="err">.</span><span class="m">0</span> <span class="m">7</span><span class="err">.</span><span class="m">0</span><span class="err">}</span>
    <span class="err">{</span><span class="n">end</span><span class="err"> </span><span class="n">gridGeometry</span><span class="err">}</span>
<span class="err">{</span><span class="n">end</span><span class="err"> </span><span class="n">detSource</span><span class="err">}</span>
<span class="n">end</span><span class="err"> </span><span class="n">data</span>
<span class="n">end</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>With either of these variations of the Jezebel problem, the fission
source distribution can be tallied by KENO and saved to a mesh tally
(*.3dmap) file by adding the following to the input:</p>
<div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">parameters</span>
    <span class="err">…</span>
    <span class="err">cds=</span><span class="m">1</span>
<span class="n">end</span><span class="err"> </span><span class="n">parameters</span>

<span class="n">read</span><span class="err"> </span><span class="n">gridGeometry</span><span class="err"> 1</span>
    <span class="err">title=</span><span class="s">&quot;Mesh for collecting fission source distribution&quot;</span>
    <span class="err">xLinear</span> <span class="m">28</span> <span class="err">-</span><span class="m">7</span><span class="err">.</span><span class="m">0</span> <span class="m">7</span><span class="err">.</span><span class="m">0</span>
    <span class="err">yLinear</span> <span class="m">28</span> <span class="err">-</span><span class="m">7</span><span class="err">.</span><span class="m">0</span> <span class="m">7</span><span class="err">.</span><span class="m">0</span>
    <span class="err">zLinear</span> <span class="m">28</span> <span class="err">-</span><span class="m">7</span><span class="err">.</span><span class="m">0</span> <span class="m">7</span><span class="err">.</span><span class="m">0</span>
<span class="n">end</span><span class="err"> </span><span class="n">gridGeometry</span>
</pre></div>
</div>
<p>Note that the mesh grid used for the KENO mesh tally can be different
from the mesh grid used by Denovo to create a starting source in the
Sourcerer sequence. Also note that more total histories (more particles
per generation or more active generations) would be required to produce
a KENO fission source tally with low relative uncertainties in every
voxel.</p>
</div>
<div class="section" id="output-file">
<h4>Output file<a class="headerlink" href="#output-file" title="Permalink to this headline">¶</a></h4>
<p>The results for the standard CSAS calculations and the Sourcerer results
are shown in <a class="reference internal" href="#tab2-4-8"><span class="std std-numref">Table 141</span></a> for calculations with the 252-energy-group and
continuous-energy cross sections.</p>
<span id="tab2-4-8"></span><table class="docutils align-center" id="id12">
<caption><span class="caption-number">Table 141 </span><span class="caption-text">Eigenvalue results for the Jezebel problem.</span><a class="headerlink" href="#id12" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 6%" />
<col style="width: 42%" />
<col style="width: 27%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>Sample Problem</p></th>
<th class="head"><p>CSAS</p></th>
<th class="head"><p>Sourcerer</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li></li>
</ol>
</td>
<td><p>KENO V.a geometry, v7-252</p></td>
<td><p>1.0045 ± 0.0017</p></td>
<td><p>1.0054 ±0.0018</p></td>
</tr>
<tr class="row-odd"><td><ol class="arabic simple" start="2">
<li></li>
</ol>
</td>
<td><p>KENO-VI geometry, v7-252</p></td>
<td><p>0.9998 ± 0.0018</p></td>
<td><p>1.0007 ±0.0020</p></td>
</tr>
<tr class="row-even"><td><ol class="arabic simple" start="3">
<li></li>
</ol>
</td>
<td><p>KENO V.a geometry, ce_v7</p></td>
<td><p>1.0058±0.0027</p></td>
<td><p>1.0026 ±0.0017</p></td>
</tr>
<tr class="row-odd"><td><ol class="arabic simple" start="3">
<li></li>
</ol>
</td>
<td><p>KENO-VI geometry, ce_v7</p></td>
<td><p>0.9990 ±0.0023</p></td>
<td><p>1.0041 ±0.0016</p></td>
</tr>
</tbody>
</table>
<p>The Denovo fission source provides a reliable starting source that is
similar to the actual fission source distribution computed by KENO
(using <code class="docutils literal notranslate"><span class="pre">npg</span></code>=250000), as shown in <a class="reference internal" href="#fig2-4-2"><span class="std std-numref">Fig. 130</span></a>.</p>
<div class="figure align-center" id="id13">
<span id="fig2-4-2"></span><a class="reference internal image-reference" href="_images/fig217.png"><img alt="_images/fig217.png" src="_images/fig217.png" style="width: 700px;" /></a>
<p class="caption"><span class="caption-number">Fig. 130 </span><span class="caption-text">Fission source distribution from Denovo (left) and KENO (right).</span><a class="headerlink" href="#id13" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="other-variations">
<h4>Other variations<a class="headerlink" href="#other-variations" title="Permalink to this headline">¶</a></h4>
<p>To increase the Denovo calculation speed (but decrease the fidelity of
the fission source result), the discretization in angle (<code class="docutils literal notranslate"><span class="pre">quadrature=</span></code> or
<code class="docutils literal notranslate"><span class="pre">polarsPerOct=/azimuthsPerOct=</span></code>) can be coarsened and/or the tolerance
parameters can be loosened. To reduce the amount of memory required by
Denovo, the number of Legendre moments in the scattering cross-section
expansion can be reduced (<code class="docutils literal notranslate"><span class="pre">legendre=</span></code>). Using macromaterials can help
increase the fidelity of the Denovo calculation with only a small
increase in model setup time. Macromaterials do not impact the Denovo
run time. Denovo diagnostic messages can be turned on and will print to
the messages file.</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Macromaterials (higher fidelity)</p></td>
<td><p>Looser tolerances (faster Denovo)</p></td>
</tr>
<tr class="row-even"><td><div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">detSource</span>

  <span class="err">…</span>

  <span class="err">macromaterial</span>
    <span class="err">mmSubCell=</span><span class="m">3</span>
    <span class="err">mmTolerance=</span><span class="m">0</span><span class="err">.</span><span class="m">001</span>
  <span class="n">end</span><span class="err"> </span><span class="n">macromaterial</span>
<span class="n">end</span><span class="err"> </span><span class="n">detSource</span>
</pre></div>
</div>
</td>
<td><div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">detSource</span>

  <span class="err">…</span>

  <span class="err">eigenValParams</span>

    <span class="err">…</span>

    <span class="err">tolerance</span><span class="m">=1.0e-2</span>
    <span class="err">kTolerance</span><span class="m">=1.0e-3</span>
  <span class="n">end</span><span class="err"> </span><span class="n">eigenValParams</span>
<span class="n">end</span><span class="err"> </span><span class="n">detSource</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<table class="docutils align-center">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Screen messages</p></td>
<td><p>Higher fidelity (slower Denovo)</p></td>
</tr>
<tr class="row-even"><td><div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">detSource</span>

  <span class="err">…</span>

  <span class="err">eigenValParams</span>

    <span class="err">…</span>

    <span class="err">diagnostics=</span><span class="m">1</span>
    <span class="err">output=</span><span class="m">1</span>
    <span class="err">diagnosticLevel=</span><span class="m">1</span>
  <span class="n">end</span><span class="err"> </span><span class="n">eigenValParams</span>
<span class="n">end</span><span class="err"> </span><span class="n">detSource</span>
</pre></div>
</div>
</td>
<td><div class="highlight-scale notranslate"><div class="highlight"><pre><span></span><span class="n">read</span><span class="err"> </span><span class="n">sequence</span>

  <span class="err">…</span>

  <span class="err">eigenValParams</span>

    <span class="err">…</span>

    <span class="err">quadType=</span><span class="m">2</span>
    <span class="err">polarsPerOct=</span><span class="m">4</span>
    <span class="err">azimuthsPerOct=</span><span class="m">4</span>
    <span class="err">legendre=</span><span class="m">3</span>

  <span class="n">end</span><span class="err"> </span><span class="n">eigenValParams</span>
<span class="n">end</span><span class="err"> </span><span class="n">sequence</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p id="bibtex-bibliography-Sourcerer-0"><dl class="citation">
<dt class="bibtex label" id="evans-denovo-2010"><span class="brackets"><a class="fn-backref" href="#id6">ESSC10</a></span></dt>
<dd><p>Thomas M. Evans, Alissa S. Stafford, Rachel N. Slaybaugh, and Kevin T. Clarno. Denovo: A new three-dimensional parallel discrete ordinates code in SCALE. <em>Nuclear technology</em>, 171(2):171–200, 2010. Publisher: Taylor &amp; Francis.</p>
</dd>
<dt class="bibtex label" id="goluoglu-monte-2011"><span class="brackets"><a class="fn-backref" href="#id7">GPJD+11</a></span></dt>
<dd><p>Sedat Goluoglu, Lester M. Petrie Jr, Michael E. Dunn, Daniel F. Hollenbach, and Bradley T. Rearden. Monte Carlo criticality methods and analysis capabilities in SCALE. <em>Nuclear Technology</em>, 174(2):214–235, 2011. Publisher: Taylor &amp; Francis.</p>
</dd>
<dt class="bibtex label" id="ibrahim-hybrid-2013"><span class="brackets"><a class="fn-backref" href="#id5">Ibr13</a></span></dt>
<dd><p>Ahmad M. Ibrahim, Douglas E. Peplow, Kursat B. Bekar, Cihangir Celik, John M. Scaglione, Dan Ilas, and John C. Wagner. Hybrid technique in SCALE for fission source convergence applied to used nuclear fuel analysis. In <em>preparation for the 2013 Topical Meeting on Nuclear Criticality Safety (NCSD 2013), Wilmington, NC</em>. 2013.</p>
</dd>
<dt class="bibtex label" id="ibrahim-acceleration-2011"><span class="brackets"><a class="fn-backref" href="#id4">IPW+11</a></span></dt>
<dd><p>Ahmad M. Ibrahim, Douglas E. Peplow, John C. Wagner, Scott W. Mosher, and Thomas M. Evans. Acceleration of Monte Carlo Criticality Calculations Using Deterministic-Based Starting Sources. <em>Transactions of the American Nuclear Society</em>, 105:539–541, 2011. Publisher: American Nuclear Society, Inc.</p>
</dd>
<dt class="bibtex label" id="kiedrowski-statistical-2011"><span class="brackets"><a class="fn-backref" href="#id8">KS11</a></span></dt>
<dd><p>Brian C. Kiedrowski and Clell J. Solomon. Statistical assessment of numerous Monte Carlo tallies. Technical Report, Los Alamos National Lab.(LANL), Los Alamos, NM (United States), 2011.</p>
</dd>
<dt class="bibtex label" id="shannon-mathematical-1948"><span class="brackets"><a class="fn-backref" href="#id1">Sha48</a></span></dt>
<dd><p>Claude E. Shannon. A mathematical theory of communication. <em>The Bell system technical journal</em>, 27(3):379–423, 1948. Publisher: Nokia Bell Labs.</p>
</dd>
<dt class="bibtex label" id="ueki-stationarity-2003"><span class="brackets"><a class="fn-backref" href="#id2">UB03</a></span></dt>
<dd><p>Taro Ueki and Forrest B. Brown. Stationarity and source convergence diagnostics in Monte Carlo criticality calculation. In <em>Proceedings of M&amp;C 2003, ANS Topical Meeting</em>. 2003.</p>
</dd>
<dt class="bibtex label" id="ueki-stationarity-2005"><span class="brackets"><a class="fn-backref" href="#id3">UB05</a></span></dt>
<dd><p>Taro Ueki and Forrest B. Brown. Stationarity modeling and informatics-based diagnostics in Monte Carlo criticality calculations. <em>Nuclear science and engineering</em>, 149(1):38–50, 2005. Publisher: Taylor &amp; Francis.</p>
</dd>
</dl>
</p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="DEVC.html" class="btn btn-neutral float-right" title="DEVC: Denovo EigenValue Calculation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="STARBUCS.html" class="btn btn-neutral float-left" title="STARBUCS: A Scale Control Module for Automated Criticality Safety Analyses Using Burnup Credit" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, SCALE developers

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>